/*! For license information please see main.d609577b.js.LICENSE.txt */
(()=>{var e={393:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function a(e,t){if(null==e)return{};var n,r,i=s(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e,t){return l(e)||u(e,t)||d(e,t)||f()}function l(e){if(Array.isArray(e))return e}function u(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m,g,v,y,w={exports:{}};function b(){return g?m:(g=1,m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function _(){if(y)return v;y=1;var e=b();function t(){}function n(){}return n.resetWarningCache=t,v=function(){function r(t,n,r,i,o,s){if(s!==e){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function i(){return r}r.isRequired=r;var o={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o}}w.exports=_()();var S=p(w.exports),E=function(e,n,r){var i=!!r,o=t.useRef(r);t.useEffect((function(){o.current=r}),[r]),t.useEffect((function(){if(!i||!e)return function(){};var t=function(){o.current&&o.current.apply(o,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[i,n,e,o])},I=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},k=function(e){return null!==e&&"object"===i(e)},T=function(e){return k(e)&&"function"===typeof e.then},C=function(e){return k(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},x="[object Object]",A=function e(t,n){if(!k(t)||!k(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===x;if(i!==(Object.prototype.toString.call(n)===x))return!1;if(!i&&!r)return t===n;var o=Object.keys(t),s=Object.keys(n);if(o.length!==s.length)return!1;for(var a={},c=0;c<o.length;c+=1)a[o[c]]=!0;for(var l=0;l<s.length;l+=1)a[s[l]]=!0;var u=Object.keys(a);if(u.length!==o.length)return!1;var d=t,h=n,f=function(t){return e(d[t],h[t])};return u.every(f)},R=function(e,t,n){return k(e)?Object.keys(e).reduce((function(i,s){var a=!k(t)||!A(e[s],t[s]);return n.includes(s)?(a&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):a?r(r({},i||{}),{},o({},s,e[s])):i}),null):null},P="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;if(null===e||C(e))return e;throw new Error(t)},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;if(T(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return O(e,t)}))};var n=O(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},D=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.9.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},L=t.createContext(null);L.displayName="ElementsContext";var M=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},F=function(e){var n=e.stripe,r=e.options,i=e.children,o=t.useMemo((function(){return N(n)}),[n]),s=c(t.useState((function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(r):null}})),2),a=s[0],l=s[1];t.useEffect((function(){var e=!0,t=function(e){l((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==o.tag||a.stripe?"sync"!==o.tag||a.stripe||t(o.stripe):o.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[o,a,r]);var u=I(n);t.useEffect((function(){null!==u&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[u,n]);var d=I(r);return t.useEffect((function(){if(a.elements){var e=R(r,d,["clientSecret","fonts"]);e&&a.elements.update(e)}}),[r,d,a.elements]),t.useEffect((function(){D(a.stripe)}),[a.stripe]),t.createElement(L.Provider,{value:a},i)};F.propTypes={stripe:S.any,options:S.object};var j=function(e){var n=t.useContext(L);return M(n,e)},U=function(){return j("calls useElements()").elements},V=function(e){return(0,e.children)(j("mounts <ElementsConsumer>"))};V.propTypes={children:S.func.isRequired};var z=["on","session"],B=t.createContext(null);B.displayName="CheckoutSdkContext";var q=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},W=t.createContext(null);W.displayName="CheckoutContext";var H=function(e,t){if(!e)return null;e.on,e.session;var n=a(e,z);return r(r({},n),t||e.session())},K="Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",G=function(e){var n=e.stripe,r=e.options,i=e.children,o=t.useMemo((function(){return N(n,K)}),[n]),s=c(t.useState(null),2),a=s[0],l=s[1],u=c(t.useState((function(){return{stripe:"sync"===o.tag?o.stripe:null,checkoutSdk:null}})),2),d=u[0],h=u[1],f=function(e,t){h((function(n){return n.stripe&&n.checkoutSdk?n:{stripe:e,checkoutSdk:t}}))},p=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==o.tag||d.stripe?"sync"===o.tag&&o.stripe&&!p.current&&(p.current=!0,o.stripe.initCheckout(r).then((function(e){e&&(f(o.stripe,e),e.on("change",l))}))):o.stripePromise.then((function(t){t&&e&&!p.current&&(p.current=!0,t.initCheckout(r).then((function(e){e&&(f(t,e),e.on("change",l))})))})),function(){e=!1}}),[o,d,r,l]);var m=I(n);t.useEffect((function(){null!==m&&m!==n&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[m,n]);var g=I(r);t.useEffect((function(){var e,t;if(d.checkoutSdk){!r.clientSecret||k(g)||A(r.clientSecret,g.clientSecret)||console.warn("Unsupported prop change: options.clientSecret is not a mutable property.");var n=null===g||void 0===g||null===(e=g.elementsOptions)||void 0===e?void 0:e.appearance,i=null===r||void 0===r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance;i&&!A(i,n)&&d.checkoutSdk.changeAppearance(i)}}),[r,g,d.checkoutSdk]),t.useEffect((function(){D(d.stripe)}),[d.stripe]);var v=t.useMemo((function(){return H(d.checkoutSdk,a)}),[d.checkoutSdk,a]);return d.checkoutSdk?t.createElement(B.Provider,{value:d},t.createElement(W.Provider,{value:v},i)):null};G.propTypes={stripe:S.any,options:S.shape({clientSecret:S.string.isRequired,elementsOptions:S.object}).isRequired};var Q=function(e){var n=t.useContext(B);return q(n,e)},J=function(e){var n=t.useContext(B),r=t.useContext(L);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?q(n,e):M(r,e)},Y=function(){Q("calls useCheckout()");var e=t.useContext(W);if(!e)throw new Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return e},$=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},X=function(e,n){var r="".concat($(e),"Element"),i=n?function(e){J("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i,o=n.id,s=n.className,a=n.options,l=void 0===a?{}:a,u=n.onBlur,d=n.onFocus,h=n.onReady,f=n.onChange,p=n.onEscape,m=n.onClick,g=n.onLoadError,v=n.onLoaderStart,y=n.onNetworksChange,w=n.onConfirm,b=n.onCancel,_=n.onShippingAddressChange,S=n.onShippingRateChange,k=J("mounts <".concat(r,">")),T="elements"in k?k.elements:null,C="checkoutSdk"in k?k.checkoutSdk:null,x=c(t.useState(null),2),A=x[0],P=x[1],O=t.useRef(null),N=t.useRef(null);E(A,"blur",u),E(A,"focus",d),E(A,"escape",p),E(A,"click",m),E(A,"loaderror",g),E(A,"loaderstart",v),E(A,"networkschange",y),E(A,"confirm",w),E(A,"cancel",b),E(A,"shippingaddresschange",_),E(A,"shippingratechange",S),E(A,"change",f),h&&(i="expressCheckout"===e?h:function(){h(A)}),E(A,"ready",i),t.useLayoutEffect((function(){if(null===O.current&&null!==N.current&&(T||C)){var t=null;C?t=C.createElement(e,l):T&&(t=T.create(e,l)),O.current=t,P(t),t&&t.mount(N.current)}}),[T,C,l]);var D=I(l);return t.useEffect((function(){if(O.current){var e=R(l,D,["paymentRequest"]);e&&"update"in O.current&&O.current.update(e)}}),[l,D]),t.useLayoutEffect((function(){return function(){if(O.current&&"function"===typeof O.current.destroy)try{O.current.destroy(),O.current=null}catch(e){}}}),[]),t.createElement("div",{id:o,className:s,ref:N})};return i.propTypes={id:S.string,className:S.string,onChange:S.func,onBlur:S.func,onFocus:S.func,onReady:S.func,onEscape:S.func,onClick:S.func,onLoadError:S.func,onLoaderStart:S.func,onNetworksChange:S.func,onConfirm:S.func,onCancel:S.func,onShippingAddressChange:S.func,onShippingRateChange:S.func,options:S.object},i.displayName=r,i.__elementType=e,i},Z="undefined"===typeof window,ee=t.createContext(null);ee.displayName="EmbeddedCheckoutProviderContext";var te=function(){var e=t.useContext(ee);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},ne="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",re=function(e){var n=e.stripe,r=e.options,i=e.children,o=t.useMemo((function(){return N(n,ne)}),[n]),s=t.useRef(null),a=t.useRef(null),l=c(t.useState({embeddedCheckout:null}),2),u=l[0],d=l[1];t.useEffect((function(){if(!a.current&&!s.current){var e=function(e){a.current||s.current||(a.current=e,s.current=a.current.initEmbeddedCheckout(r).then((function(e){d({embeddedCheckout:e})})))};"async"!==o.tag||a.current||!r.clientSecret&&!r.fetchClientSecret?"sync"!==o.tag||a.current||!r.clientSecret&&!r.fetchClientSecret||e(o.stripe):o.stripePromise.then((function(t){t&&e(t)}))}}),[o,r,u,a]),t.useEffect((function(){return function(){u.embeddedCheckout?(s.current=null,u.embeddedCheckout.destroy()):s.current&&s.current.then((function(){s.current=null,u.embeddedCheckout&&u.embeddedCheckout.destroy()}))}}),[u.embeddedCheckout]),t.useEffect((function(){D(a)}),[a]);var h=I(n);t.useEffect((function(){null!==h&&h!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[h,n]);var f=I(r);return t.useEffect((function(){null!=f&&(null!=r?(void 0===r.clientSecret&&void 0===r.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=f.clientSecret&&r.clientSecret!==f.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.fetchClientSecret&&r.fetchClientSecret!==f.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.onComplete&&r.onComplete!==f.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=f.onShippingDetailsChange&&r.onShippingDetailsChange!==f.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),null!=f.onLineItemsChange&&r.onLineItemsChange!==f.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[f,r]),t.createElement(ee.Provider,{value:u},i)},ie=function(e){var n=e.id,r=e.className,i=te().embeddedCheckout,o=t.useRef(!1),s=t.useRef(null);return t.useLayoutEffect((function(){return!o.current&&i&&null!==s.current&&(i.mount(s.current),o.current=!0),function(){if(o.current&&i)try{i.unmount(),o.current=!1}catch(e){}}}),[i]),t.createElement("div",{ref:s,id:n,className:r})},oe=function(e){var n=e.id,r=e.className;return te(),t.createElement("div",{id:n,className:r})},se=Z?oe:ie,ae=function(){return J("calls useStripe()").stripe},ce=X("auBankAccount",Z),le=X("card",Z),ue=X("cardNumber",Z),de=X("cardExpiry",Z),he=X("cardCvc",Z),fe=X("fpxBank",Z),pe=X("iban",Z),me=X("idealBank",Z),ge=X("p24Bank",Z),ve=X("epsBank",Z),ye=X("payment",Z),we=X("expressCheckout",Z),be=X("currencySelector",Z),_e=X("paymentRequestButton",Z),Se=X("linkAuthentication",Z),Ee=X("address",Z),Ie=X("shippingAddress",Z),ke=X("paymentMethodMessaging",Z),Te=X("affirmMessage",Z),Ce=X("afterpayClearpayMessage",Z);e.AddressElement=Ee,e.AffirmMessageElement=Te,e.AfterpayClearpayMessageElement=Ce,e.AuBankAccountElement=ce,e.CardCvcElement=he,e.CardElement=le,e.CardExpiryElement=de,e.CardNumberElement=ue,e.CheckoutProvider=G,e.CurrencySelectorElement=be,e.Elements=F,e.ElementsConsumer=V,e.EmbeddedCheckout=se,e.EmbeddedCheckoutProvider=re,e.EpsBankElement=ve,e.ExpressCheckoutElement=we,e.FpxBankElement=fe,e.IbanElement=pe,e.IdealBankElement=me,e.LinkAuthenticationElement=Se,e.P24BankElement=ge,e.PaymentElement=ye,e.PaymentMethodMessagingElement=ke,e.PaymentRequestButtonElement=_e,e.ShippingAddressElement=Ie,e.useCheckout=Y,e.useElements=U,e.useStripe=ae}(t,n(43))},328:function(e,t,n){var r,i;r=function(){var e,t,n="2.0.6",r={},i={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},s={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function a(e,t){this._input=e,this._value=t}return(e=function(n){var i,o,c,l;if(e.isNumeral(n))i=n.value();else if(0===n||"undefined"===typeof n)i=0;else if(null===n||t.isNaN(n))i=null;else if("string"===typeof n)if(s.zeroFormat&&n===s.zeroFormat)i=0;else if(s.nullFormat&&n===s.nullFormat||!n.replace(/[^0-9]+/g,"").length)i=null;else{for(o in r)if((l="function"===typeof r[o].regexps.unformat?r[o].regexps.unformat():r[o].regexps.unformat)&&n.match(l)){c=r[o].unformat;break}i=(c=c||e._.stringToNumber)(n)}else i=Number(n)||null;return new a(n,i)}).version=n,e.isNumeral=function(e){return e instanceof a},e._=t={numberToFormat:function(t,n,r){var o,s,a,c,l,u,d,h=i[e.options.currentLocale],f=!1,p=!1,m=0,g="",v=1e12,y=1e9,w=1e6,b=1e3,_="",S=!1;if(t=t||0,s=Math.abs(t),e._.includes(n,"(")?(f=!0,n=n.replace(/[\(|\)]/g,"")):(e._.includes(n,"+")||e._.includes(n,"-"))&&(l=e._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),e._.includes(n,"a")&&(o=!!(o=n.match(/a(k|m|b|t)?/))&&o[1],e._.includes(n," a")&&(g=" "),n=n.replace(new RegExp(g+"a[kmbt]?"),""),s>=v&&!o||"t"===o?(g+=h.abbreviations.trillion,t/=v):s<v&&s>=y&&!o||"b"===o?(g+=h.abbreviations.billion,t/=y):s<y&&s>=w&&!o||"m"===o?(g+=h.abbreviations.million,t/=w):(s<w&&s>=b&&!o||"k"===o)&&(g+=h.abbreviations.thousand,t/=b)),e._.includes(n,"[.]")&&(p=!0,n=n.replace("[.]",".")),a=t.toString().split(".")[0],c=n.split(".")[1],u=n.indexOf(","),m=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,c?(e._.includes(c,"[")?(c=(c=c.replace("]","")).split("["),_=e._.toFixed(t,c[0].length+c[1].length,r,c[1].length)):_=e._.toFixed(t,c.length,r),a=_.split(".")[0],_=e._.includes(_,".")?h.delimiters.decimal+_.split(".")[1]:"",p&&0===Number(_.slice(1))&&(_="")):a=e._.toFixed(t,0,r),g&&!o&&Number(a)>=1e3&&g!==h.abbreviations.trillion)switch(a=String(Number(a)/1e3),g){case h.abbreviations.thousand:g=h.abbreviations.million;break;case h.abbreviations.million:g=h.abbreviations.billion;break;case h.abbreviations.billion:g=h.abbreviations.trillion}if(e._.includes(a,"-")&&(a=a.slice(1),S=!0),a.length<m)for(var E=m-a.length;E>0;E--)a="0"+a;return u>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===n.indexOf(".")&&(a=""),d=a+_+(g||""),f?d=(f&&S?"(":"")+d+(f&&S?")":""):l>=0?d=0===l?(S?"-":"+")+d:d+(S?"-":"+"):S&&(d="-"+d),d},stringToNumber:function(e){var t,n,r,o=i[s.currentLocale],a=e,c={thousand:3,million:6,billion:9,trillion:12};if(s.zeroFormat&&e===s.zeroFormat)n=0;else if(s.nullFormat&&e===s.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{for(t in n=1,"."!==o.delimiters.decimal&&(e=e.replace(/\./g,"").replace(o.delimiters.decimal,".")),c)if(r=new RegExp("[^a-zA-Z]"+o.abbreviations[t]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),a.match(r)){n*=Math.pow(10,c[t]);break}n*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),n*=Number(e)}return n},isNaN:function(e){return"number"===typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof t)throw new TypeError(t+" is not a function");var n,r=Object(e),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=t(n,r[o],o,r));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce((function(e,n){var r=t.multiplier(n);return e>r?e:r}),1)},toFixed:function(e,t,n,r){var i,o,s,a,c=e.toString().split("."),l=t-(r||0);return i=2===c.length?Math.min(Math.max(c[1].length,l),t):l,s=Math.pow(10,i),a=(n(e+"e+"+i)/s).toFixed(i),r>t-i&&(o=new RegExp("\\.?0{1,"+(r-(t-i))+"}$"),a=a.replace(o,"")),a}},e.options=s,e.formats=r,e.locales=i,e.locale=function(e){return e&&(s.currentLocale=e.toLowerCase()),s.currentLocale},e.localeData=function(e){if(!e)return i[s.currentLocale];if(e=e.toLowerCase(),!i[e])throw new Error("Unknown locale : "+e);return i[e]},e.reset=function(){for(var e in o)s[e]=o[e]},e.zeroFormat=function(e){s.zeroFormat="string"===typeof e?e:null},e.nullFormat=function(e){s.nullFormat="string"===typeof e?e:null},e.defaultFormat=function(e){s.defaultFormat="string"===typeof e?e:"0.0"},e.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n,n},e.validate=function(t,n){var r,i,o,s,a,c,l,u;if("string"!==typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{l=e.localeData(n)}catch(d){l=e.localeData(e.locale())}return o=l.currency.symbol,a=l.abbreviations,r=l.delimiters.decimal,i="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(u=t.match(/^[^\d]+/))||(t=t.substr(1),u[0]===o))&&(null===(u=t.match(/[^\d]+$/))||(t=t.slice(0,-1),u[0]===a.thousand||u[0]===a.million||u[0]===a.billion||u[0]===a.trillion))&&(c=new RegExp(i+"{2}"),!t.match(/[^\d.,]/g)&&!((s=t.split(r)).length>2)&&(s.length<2?!!s[0].match(/^\d+.*\d$/)&&!s[0].match(c):1===s[0].length?!!s[0].match(/^\d+$/)&&!s[0].match(c)&&!!s[1].match(/^\d+$/):!!s[0].match(/^\d+.*\d$/)&&!s[0].match(c)&&!!s[1].match(/^\d+$/)))},e.fn=a.prototype={clone:function(){return e(this)},format:function(t,n){var i,o,a,c=this._value,l=t||s.defaultFormat;if(n=n||Math.round,0===c&&null!==s.zeroFormat)o=s.zeroFormat;else if(null===c&&null!==s.nullFormat)o=s.nullFormat;else{for(i in r)if(l.match(r[i].regexps.format)){a=r[i].format;break}o=(a=a||e._.numberToFormat)(c,l,n)}return o},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var n=t.correctionFactor.call(null,this._value,e);function r(e,t,r,i){return e+Math.round(n*t)}return this._value=t.reduce([this._value,e],r,0)/n,this},subtract:function(e){var n=t.correctionFactor.call(null,this._value,e);function r(e,t,r,i){return e-Math.round(n*t)}return this._value=t.reduce([e],r,Math.round(this._value*n))/n,this},multiply:function(e){function n(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)*Math.round(n*o)/Math.round(o*o)}return this._value=t.reduce([this._value,e],n,1),this},divide:function(e){function n(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)/Math.round(n*o)}return this._value=t.reduce([this._value,e],n),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,r){var i,o=e._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),function(){var t={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},r=t.suffixes.concat(n.suffixes.filter((function(e){return t.suffixes.indexOf(e)<0}))).join("|");r="("+r.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(r)},format:function(r,i,o){var s,a,c,l=e._.includes(i,"ib")?n:t,u=e._.includes(i," b")||e._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),s=0;s<=l.suffixes.length;s++)if(a=Math.pow(l.base,s),c=Math.pow(l.base,s+1),null===r||0===r||r>=a&&r<c){u+=l.suffixes[s],a>0&&(r/=a);break}return e._.numberToFormat(r,i,o)+u},unformat:function(r){var i,o,s=e._.stringToNumber(r);if(s){for(i=t.suffixes.length-1;i>=0;i--){if(e._.includes(r,t.suffixes[i])){o=Math.pow(t.base,i);break}if(e._.includes(r,n.suffixes[i])){o=Math.pow(n.base,i);break}}s*=o||1}return s}})}(),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,r){var i,o,s=e.locales[e.options.currentLocale],a={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=e._.numberToFormat(t,n,r),t>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(a.before,"-")&&!e._.includes(a.before,"(")&&(a.before="-"+a.before),o=0;o<a.before.length;o++)switch(a.before[o]){case"$":i=e._.insert(i,s.currency.symbol,o);break;case" ":i=e._.insert(i," ",o+s.currency.symbol.length-1)}for(o=a.after.length-1;o>=0;o--)switch(a.after[o]){case"$":i=o===a.after.length-1?i+s.currency.symbol:e._.insert(i,s.currency.symbol,-(a.after.length-(1+o)));break;case" ":i=o===a.after.length-1?i+" ":e._.insert(i," ",-(a.after.length-(1+o)+s.currency.symbol.length-1))}return i}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,r){var i=("number"!==typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(t){var n=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),r=Number(n[0]),i=Number(n[1]);function o(t,n,r,i){var o=e._.correctionFactor(t,n);return t*o*(n*o)/(o*o)}return i=e._.includes(t,"e-")?i*=-1:i,e._.reduce([r,Math.pow(10,i)],o,1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,r){var i=e.locales[e.options.currentLocale],o=e._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=i.ordinal(t),e._.numberToFormat(t,n,r)+o}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,r){var i,o=e._.includes(n," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(t){var n=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*n:n}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,n){var r=Math.floor(e/60/60),i=Math.floor((e-60*r*60)/60),o=Math.round(e-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}}),e},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var c="\n"+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case k:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,Ie=null;function ke(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Te(e){Ee?Ie?Ie.push(e):Ie=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Ie;if(Ie=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function xe(e,t){return e(t)}function Ae(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return xe(e,t,n)}finally{Re=!1,(null!==Ee||null!==Ie)&&(Ae(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ne=!1}function Le(e,t,n,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,o,s,a,c){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,Et,It,kt,Tt=!1,Ct=[],xt=null,At=null,Rt=null,Pt=new Map,Ot=new Map,Nt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Tt=!1,null!==xt&&jt(xt)&&(xt=null),null!==At&&jt(At)&&(At=null),null!==Rt&&jt(Rt)&&(Rt=null),Pt.forEach(Ut),Ot.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&zt(xt,e),null!==At&&zt(At,e),null!==Rt&&zt(Rt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Nt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Kt(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=Jt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=wi(i);if(null!==o&&_t(o),null===(o=Jt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),dn=F({},ln,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),vn=on(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(yn),bn=on(F({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return In}var Tn=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(Tn),xn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=on(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Pn),Nn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function Jn(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];Hn(t,Gn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function or(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Ir={};function kr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Er[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=kr("animationend"),Cr=kr("animationiteration"),xr=kr("animationstart"),Ar=kr("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Rr.set(e,t),c(t,[e])}for(var Nr=0;Nr<Pr.length;Nr++){var Dr=Pr[Nr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(xr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ar,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,c,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Fe;Me=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Fr(i,a,l),o=c}else for(s=0;s<r.length;s++){if(c=(a=r[s]).instance,l=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Fr(i,a,l),o=c}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(c=s.tag)||6===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=o,i=_e(n),s=[];e:{var a=Rr.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Cn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=An;break;case Tr:case Cr:case xr:c=vn;break;case Ar:c=Rn;break;case"scroll":c=hn;break;case"wheel":c=On;break;case"copy":case"cut":case"paste":c=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Oe(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(d=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==c?a:bi(c),f=null==l?a:bi(l),(a=new u(m,p+"leave",c,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",l,n,i)).target=f,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(h=l,p=0,f=u=c;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==c&&Qr(s,a,c,u,!1),null!==l&&null!==d&&Qr(s,d,l,u,!0)}if("select"===(c=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=Yn;else if(Wn(a))if($n)g=sr;else{g=ir;var v=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(y=en()):(Xt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(v=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),s.push({event:w,listeners:v}),y?w.data=y:null!==(y=zn(n))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}jr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=Oe(n,o))&&s.unshift(Hr(n,c,a)):i||null!=(c=Oe(n,o))&&s.push(Hr(n,c,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Si=[],Ei=-1;function Ii(e){return{current:e}}function ki(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function Ti(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ci={},xi=Ii(Ci),Ai=Ii(!1),Ri=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){ki(Ai),ki(xi)}function Di(e,t,n){if(xi.current!==Ci)throw Error(o(168));Ti(xi,t),Ti(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ri=xi.current,Ti(xi,e),Ti(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(xi),Ti(xi,e)):ki(Ai),Ti(Ai,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=wt;try{var n=ji;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{wt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Ji=null,Yi=1,$i="";function Xi(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=$i,Gi[Qi++]=Ji,Ji=e;var r=Yi;e=$i;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,$i=o+e}else Yi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Ji;)Ji=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(co(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=li(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&wo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Dl(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case S:return(t=jl(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ll(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,a,c){for(var l=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],c);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?l=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Xi(i,m),l;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],c))&&(o=s(d,o,m),null===u?l=d:u.sibling=d,u=d);return io&&Xi(i,m),l}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,m),l}function g(i,a,c,l){var u=L(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,l);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===d?u=w:d.sibling=w,d=w,m=v}if(y.done)return n(i,m),io&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=h(i,y.value,l))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return io&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}return function e(r,o,s,c){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var l=s.key,u=o;null!==u;){if(u.key===l){if((l=s.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===O&&wo(l)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=vo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===E?((o=Ll(s.props.children,r.mode,c,s.key)).return=r,r=o):((c=Dl(s.type,s.key,s.props,null,r.mode,c)).ref=vo(r,o,s),c.return=r,r=c)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jl(s,r.mode,c)).return=r,r=o}return a(r);case O:return e(r,o,(u=s._init)(s._payload),c)}if(te(s))return m(r,o,s,c);if(L(s))return g(r,o,s,c);yo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Fl(s,r.mode,c)).return=r,r=o),a(r)):n(r,o)}}var _o=bo(!0),So=bo(!1),Eo=Ii(null),Io=null,ko=null,To=null;function Co(){To=ko=Io=null}function xo(e){var t=Eo.current;ki(Eo),e._currentValue=t}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){Io=e,To=ko=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(To!==e)if(e={context:e,memoizedValue:t,next:null},null===ko){if(null===Io)throw Error(o(308));ko=e,Io.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var Oo=null;function No(e){null===Oo?Oo=[e]:Oo.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,No(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&xc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,No(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==o){var d=i.baseState;for(s=0,u=l=c=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Mo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mc|=s,e.lanes=s,e.memoizedState=d}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Ko=Ii(Ho),Go=Ii(Ho),Qo=Ii(Ho);function Jo(e){if(e===Ho)throw Error(o(174));return e}function Yo(e,t){switch(Ti(Qo,t),Ti(Go,e),Ti(Ko,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Ko),Ti(Ko,t)}function $o(){ki(Ko),ki(Go),ki(Qo)}function Xo(e){Jo(Qo.current);var t=Jo(Ko.current),n=ce(t,e.type);t!==n&&(Ti(Go,e),Ti(Ko,n))}function Zo(e){Go.current===e&&(ki(Ko),ki(Go))}var es=Ii(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,cs=null,ls=null,us=!1,ds=!1,hs=0,fs=0;function ps(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(o(301));s+=1,ls=cs=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(ds)}if(is.current=Xs,t=null!==cs&&null!==cs.next,ss=0,ls=cs=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?as.memoizedState=ls=e:ls=ls.next=e,ls}function ws(){if(null===cs){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===ls?as.memoizedState:ls.next;if(null!==t)ls=t,cs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===ls?as.memoizedState=ls=e:ls=ls.next=e}return ls}function bs(e,t){return"function"===typeof t?t(e):t}function _s(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=cs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var c=a=null,l=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,a=r):l=l.next=h,as.lanes|=d,Mc|=d}u=u.next}while(null!==u&&u!==s);null===l?a=r:l.next=c,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Mc|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Es(){}function Is(e,t){var n=as,r=ws(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,Ms(Cs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ps(9,Ts.bind(null,n,r,i,t),void 0,null),null===Ac)throw Error(o(349));0!==(30&ss)||ks(n,t,i)}return i}function ks(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ts(e,t,n,r){t.value=n,t.getSnapshot=r,xs(t)&&As(e)}function Cs(e,t,n){return n((function(){xs(t)&&As(e)}))}function xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function As(e){var t=Lo(e,1);null!==t&&nl(t,e,1,-1)}function Rs(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Os(){return ws().memoizedState}function Ns(e,t,n,r){var i=ys();as.flags|=e,i.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function Ds(e,t,n,r){var i=ws();r=void 0===r?null:r;var o=void 0;if(null!==cs){var s=cs.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=Ps(t,n,o,r))}as.flags|=e,i.memoizedState=Ps(1|t,n,o,r)}function Ls(e,t){return Ns(8390656,8,e,t)}function Ms(e,t){return Ds(2048,8,e,t)}function Fs(e,t){return Ds(4,2,e,t)}function js(e,t){return Ds(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4,4,Us.bind(null,t,e),n)}function zs(){}function Bs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Mc|=n,e.baseState=!0),t)}function Hs(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{wt=n,os.transition=r}}function Ks(){return ws().memoizedState}function Gs(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Js(e))Ys(t,n);else if(null!==(n=Do(e,t,n,r))){nl(n,e,r,el()),$s(n,t,r)}}function Qs(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Js(e))Ys(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var c=t.interleaved;return null===c?(i.next=i,No(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Do(e,t,i,r))&&(nl(n,e,r,i=el()),$s(n,t,r))}}function Js(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $s(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xs={readContext:Po,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Po,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ns(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Rs,useDebugValue:zs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=Hs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=ys();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ac)throw Error(o(349));0!==(30&ss)||ks(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ls(Cs.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,Ts.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Ac.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Po,useCallback:Bs,useContext:Po,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Fs,useLayoutEffect:js,useMemo:qs,useReducer:_s,useRef:Os,useState:function(){return _s(bs)},useDebugValue:zs,useDeferredValue:function(e){return Ws(ws(),cs.memoizedState,e)},useTransition:function(){return[_s(bs)[0],ws().memoizedState]},useMutableSource:Es,useSyncExternalStore:Is,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:Po,useCallback:Bs,useContext:Po,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Fs,useLayoutEffect:js,useMemo:qs,useReducer:Ss,useRef:Os,useState:function(){return Ss(bs)},useDebugValue:zs,useDeferredValue:function(e){var t=ws();return null===cs?t.memoizedState=e:Ws(t,cs.memoizedState,e)},useTransition:function(){return[Ss(bs)[0],ws().memoizedState]},useMutableSource:Es,useSyncExternalStore:Is,useId:Ks,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nl(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nl(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vo(e,i,r))&&(nl(t,e,r,n),zo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function sa(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=Oi(t)?Ri:xi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=Oi(t)?Ri:xi.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function la(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wc||(Wc=!0,Hc=r),da(0,t)},n}function pa(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Kc?Kc=new Set([this]):Kc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kl.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,Vo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=b.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?So(t,null,n,r):_o(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var o=t.ref;return Ro(t,i),r=gs(e,t,n,r,o,i),n=vs(),null===e||wa?(io&&n&&eo(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ol(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ea(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(s,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Nl(o,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ta(e,t,n,r,i)}function Ia(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Nc,Oc),Oc|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Nc,Oc),Oc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Nc,Oc),Oc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Nc,Oc),Oc|=r;return ba(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var o=Oi(n)?Ri:xi.current;return o=Pi(t,o),Ro(t,i),n=gs(e,t,n,r,o,i),r=vs(),null===e||wa?(io&&r&&eo(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ca(e,t,n,r,i){if(Oi(n)){var o=!0;Mi(t)}else o=!1;if(Ro(t,i),null===t.stateNode)qa(e,t),sa(t,n,r),ca(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=Po(l):l=Pi(t,l=Oi(n)?Ri:xi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==l)&&aa(t,s,r,l),Mo=!1;var h=t.memoizedState;s.state=h,qo(t,r,s,i),c=t.memoizedState,a!==r||h!==c||Ai.current||Mo?("function"===typeof u&&(ra(t,n,u,r),c=t.memoizedState),(a=Mo||oa(t,n,a,r,h,c,l))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,jo(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:na(t.type,a),s.props=l,d=t.pendingProps,h=s.context,"object"===typeof(c=n.contextType)&&null!==c?c=Po(c):c=Pi(t,c=Oi(n)?Ri:xi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==c)&&aa(t,s,r,c),Mo=!1,h=t.memoizedState,s.state=h,qo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ai.current||Mo?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(l=Mo||oa(t,n,l,r,h,p,c)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=l):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return xa(e,t,n,r,o,i)}function xa(e,t,n,r,i,o){ka(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Wa(e,t,o);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,a,o)):ba(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Yo(e,t.containerInfo)}function Ra(e,t,n,r,i){return po(),mo(i),t.flags|=256,ba(e,t,n,r),t.child}var Pa,Oa,Na,Da,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ti(es,1&s),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Ml(c,i,0,null),e=Ll(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):ja(t,c));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(s=Ll(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&_o(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Ua(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(c=0!==(a&e.childLanes),wa||c){if(null!==(r=Ac)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Lo(e,i),nl(r,e,i,-1))}return ml(),Ua(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=$i,Gi[Qi++]=Ji,Yi=e.id,$i=e.overflow,Ji=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,s,n);if(a){a=i.fallback,c=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Nl(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Nl(r,a):(a=Ll(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Ma(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Nl(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&mo(r),_o(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function za(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,o);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Oi(t.type)&&Ni(),Ka(t),null;case 3:return r=t.stateNode,$o(),ki(Ai),ki(xi),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sl(oo),oo=null))),Oa(e,t),Ka(t),null;case 5:Zo(t);var i=Jo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Na(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=Jo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var c in ye(n,s),i=null,s)if(s.hasOwnProperty(c)){var l=s[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[hi]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(c=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=J(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ye(n,i),l=i)if(l.hasOwnProperty(s)){var u=l[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&w(e,s,u,c))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Jo(Qo.current),Jo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ka(t),null;case 13:if(ki(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(sl(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Dc&&(Dc=3):ml())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return $o(),Oa(e,t),null===e&&Br(t.stateNode.containerInfo),Ka(t),null;case 10:return xo(t.type._context),Ka(t),null;case 19:if(ki(es),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(c=s.rendering))if(r)Ha(s,!1);else{if(0!==Dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>Bc&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!io)return Ka(t),null}else 2*$e()-s.renderingStartTime>Bc&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=s.last)?n.sibling=c:t.child=c,s.last=c)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=es.current,Ti(es,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Oc)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),ki(Ai),ki(xi),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(ki(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(es),null;case 4:return $o(),null;case 10:return xo(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Na=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Jo(Ko.current);var o,s=null;switch(n){case"input":i=J(e,i),r=J(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Ur("scroll",e),s||c===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,Ya=!1,$a="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Il(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){Il(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,n,o)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,dc=!1;function hc(e,t,n){for(n=n.child;null!==n;)fc(e,t,n),n=n.sibling}function fc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=uc,i=dc;uc=null,hc(e,t,n),dc=i,null!==(uc=r)&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Bt(e)):ci(uc,n.stateNode));break;case 4:r=uc,i=dc,uc=n.stateNode.containerInfo,dc=!0,hc(e,t,n),uc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&ec(n,t,s),i=i.next}while(i!==r)}hc(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Il(n,t,a)}hc(e,t,n);break;case 21:hc(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,hc(e,t,n),Ya=r):hc(e,t,n);break;default:hc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var r=xl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,dc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===uc)throw Error(o(160));fc(s,a,i),uc=null,dc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Il(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),vc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(g){Il(e,e.return,g)}try{nc(5,e,e.return)}catch(g){Il(e,e.return,g)}}break;case 1:mc(t,e),vc(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(mc(t,e),vc(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Il(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===s.type&&null!=s.name&&$(i,s),we(c,a);var u=we(c,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(c){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){Il(e,e.return,g)}}break;case 6:if(mc(t,e),vc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Il(e,e.return,g)}}break;case 3:if(mc(t,e),vc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Il(e,e.return,g)}break;case 4:default:mc(t,e),vc(e);break;case 13:mc(t,e),vc(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(zc=$e())),4&r&&pc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||d,mc(t,e),Ya=u):mc(t,e),vc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xa=e,d=e.child;null!==d;){for(h=Xa=d;null!==Xa;){switch(p=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:nc(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Il(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){_c(h);continue}}null!==p?(p.return=f,Xa=p):_c(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=h.stateNode,a=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",a))}catch(g){Il(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Il(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mc(t,e),vc(e),4&r&&pc(e);case 21:}}function vc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lc(e,ac(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cc(e,ac(e),s);break;default:throw Error(o(161))}}catch(a){Il(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){Xa=e,wc(e,t,n)}function wc(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ja;if(!s){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Ya;a=Ja;var l=Ya;if(Ja=s,(Ya=c)&&!l)for(Xa=i;null!==Xa;)c=(s=Xa).child,22===s.tag&&null!==s.memoizedState?Sc(i):null!==c?(c.return=s,Xa=c):Sc(i);for(;null!==o;)Xa=o,wc(o,t,n),o=o.sibling;Xa=i,Ja=a,Ya=l}bc(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xa=o):bc(e)}}function bc(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Ya||512&t.flags&&ic(t)}catch(f){Il(t,t.return,f)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function _c(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function Sc(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){Il(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Il(t,i,c)}}var o=t.return;try{ic(t)}catch(c){Il(t,o,c)}break;case 5:var s=t.return;try{ic(t)}catch(c){Il(t,s,c)}}}catch(c){Il(t,t.return,c)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Ec,Ic=Math.ceil,kc=b.ReactCurrentDispatcher,Tc=b.ReactCurrentOwner,Cc=b.ReactCurrentBatchConfig,xc=0,Ac=null,Rc=null,Pc=0,Oc=0,Nc=Ii(0),Dc=0,Lc=null,Mc=0,Fc=0,jc=0,Uc=null,Vc=null,zc=0,Bc=1/0,qc=null,Wc=!1,Hc=null,Kc=null,Gc=!1,Qc=null,Jc=0,Yc=0,$c=null,Xc=-1,Zc=0;function el(){return 0!==(6&xc)?$e():-1!==Xc?Xc:Xc=$e()}function tl(e){return 0===(1&e.mode)?1:0!==(2&xc)&&0!==Pc?Pc&-Pc:null!==go.transition?(0===Zc&&(Zc=mt()),Zc):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nl(e,t,n,r){if(50<Yc)throw Yc=0,$c=null,Error(o(185));vt(e,n,r),0!==(2&xc)&&e===Ac||(e===Ac&&(0===(2&xc)&&(Fc|=n),4===Dc&&al(e,Pc)),rl(e,r),1===n&&0===xc&&0===(1&t.mode)&&(Bc=$e()+500,Ui&&Bi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,c=i[s];-1===c?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Ac?Pc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cl.bind(null,e)):zi(cl.bind(null,e)),si((function(){0===(6&xc)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Xc=-1,Zc=0,0!==(6&xc))throw Error(o(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=ht(e,e===Ac?Pc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=xc;xc|=2;var s=pl();for(Ac===e&&Pc===t||(qc=null,Bc=$e()+500,hl(e,t));;)try{yl();break}catch(c){fl(e,c)}Co(),kc.current=s,xc=i,null!==Rc?t=0:(Ac=null,Pc=0,t=Dc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Lc,hl(e,0),al(e,r),rl(e,$e()),n;if(6===t)al(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(s=pt(e))&&(r=s,t=ol(e,s))),1===t))throw n=Lc,hl(e,0),al(e,r),rl(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_l(e,Vc,qc);break;case 3:if(al(e,r),(130023424&r)===r&&10<(t=zc+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_l.bind(null,e,Vc,qc),t);break}_l(e,Vc,qc);break;case 4:if(al(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ic(r/1960))-r)){e.timeoutHandle=ri(_l.bind(null,e,Vc,qc),r);break}_l(e,Vc,qc);break;default:throw Error(o(329))}}}return rl(e,$e()),e.callbackNode===n?il.bind(null,e):null}function ol(e,t){var n=Uc;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Vc,Vc=n,null!==t&&sl(t)),e}function sl(e){null===Vc?Vc=e:Vc.push.apply(Vc,e)}function al(e,t){for(t&=~jc,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&xc))throw Error(o(327));Sl();var t=ht(e,0);if(0===(1&t))return rl(e,$e()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Lc,hl(e,0),al(e,t),rl(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Vc,qc),rl(e,$e()),null}function ll(e,t){var n=xc;xc|=1;try{return e(t)}finally{0===(xc=n)&&(Bc=$e()+500,Ui&&Bi())}}function ul(e){null!==Qc&&0===Qc.tag&&0===(6&xc)&&Sl();var t=xc;xc|=1;var n=Cc.transition,r=wt;try{if(Cc.transition=null,wt=1,e)return e()}finally{wt=r,Cc.transition=n,0===(6&(xc=t))&&Bi()}}function dl(){Oc=Nc.current,ki(Nc)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rc)for(n=Rc.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:$o(),ki(Ai),ki(xi),rs();break;case 5:Zo(r);break;case 4:$o();break;case 13:case 19:ki(es);break;case 10:xo(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Ac=e,Rc=e=Nl(e.current,null),Pc=Oc=t,Dc=0,Lc=null,jc=Fc=Mc=0,Vc=Uc=null,null!==Oo){for(t=0;t<Oo.length;t++)if(null!==(r=(n=Oo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Oo=null}return e}function fl(e,t){for(;;){var n=Rc;try{if(Co(),is.current=Xs,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,ls=cs=as=null,ds=!1,hs=0,Tc.current=null,null===n||null===n.return){Dc=1,Lc=t,Rc=null;break}e:{var s=e,a=n.return,c=n,l=t;if(t=Pc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,c,0,t),1&p.mode&&ma(s,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ma(s,u,t),ml();break e}l=Error(o(426))}else if(io&&1&c.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,c,0,t),mo(la(l,c));break e}}s=l=la(l,c),4!==Dc&&(Dc=2),null===Uc?Uc=[s]:Uc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,fa(0,l,t));break e;case 1:c=l;var y=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Kc||!Kc.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,pa(s,c,t));break e}}s=s.return}while(null!==s)}bl(n)}catch(b){t=b,Rc===n&&null!==n&&(Rc=n=n.return);continue}break}}function pl(){var e=kc.current;return kc.current=Xs,null===e?Xs:e}function ml(){0!==Dc&&3!==Dc&&2!==Dc||(Dc=4),null===Ac||0===(268435455&Mc)&&0===(268435455&Fc)||al(Ac,Pc)}function gl(e,t){var n=xc;xc|=2;var r=pl();for(Ac===e&&Pc===t||(qc=null,hl(e,t));;)try{vl();break}catch(i){fl(e,i)}if(Co(),xc=n,kc.current=r,null!==Rc)throw Error(o(261));return Ac=null,Pc=0,Dc}function vl(){for(;null!==Rc;)wl(Rc)}function yl(){for(;null!==Rc&&!Je();)wl(Rc)}function wl(e){var t=Ec(e.alternate,e,Oc);e.memoizedProps=e.pendingProps,null===t?bl(e):Rc=t,Tc.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Oc)))return void(Rc=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Rc=n);if(null===e)return Dc=6,void(Rc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rc=t);Rc=t=e}while(null!==t);0===Dc&&(Dc=5)}function _l(e,t,n){var r=wt,i=Cc.transition;try{Cc.transition=null,wt=1,function(e,t,n,r){do{Sl()}while(null!==Qc);if(0!==(6&xc))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Ac&&(Rc=Ac=null,Pc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gc||(Gc=!0,Al(tt,(function(){return Sl(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cc.transition,Cc.transition=null;var a=wt;wt=1;var c=xc;xc|=4,Tc.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,c=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(c=a+i),h!==s||0!==r&&3!==h.nodeType||(l=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(c=a),f===s&&++d===r&&(l=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(_){Il(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tc,tc=!1}(e,n),gc(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yc(n,e,i),Ye(),xc=c,wt=a,Cc.transition=s}else e.current=n;if(Gc&&(Gc=!1,Qc=e,Jc=i),s=e.pendingLanes,0===s&&(Kc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wc)throw Wc=!1,e=Hc,Hc=null,e;0!==(1&Jc)&&0!==e.tag&&Sl(),s=e.pendingLanes,0!==(1&s)?e===$c?Yc++:(Yc=0,$c=e):Yc=0,Bi()}(e,t,n,r)}finally{Cc.transition=i,wt=r}return null}function Sl(){if(null!==Qc){var e=bt(Jc),t=Cc.transition,n=wt;try{if(Cc.transition=null,wt=16>e?16:e,null===Qc)var r=!1;else{if(e=Qc,Qc=null,Jc=0,0!==(6&xc))throw Error(o(331));var i=xc;for(xc|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!==(16&Xa.flags)){var c=s.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Xa=u;null!==Xa;){var d=Xa;switch(d.tag){case 0:case 11:case 15:nc(8,d,s)}var h=d.child;if(null!==h)h.return=d,Xa=h;else for(;null!==Xa;){var f=(d=Xa).sibling,p=d.return;if(oc(d),d===u){Xa=null;break}if(null!==f){f.return=p,Xa=f;break}Xa=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:nc(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Xa=y;break e}Xa=s.return}}var w=e.current;for(Xa=w;null!==Xa;){var b=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Xa=b;else e:for(a=w;null!==Xa;){if(0!==(2048&(c=Xa).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(S){Il(c,c.return,S)}if(c===a){Xa=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,Xa=_;break e}Xa=c.return}}if(xc=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{wt=n,Cc.transition=t}}return!1}function El(e,t,n){e=Vo(e,t=fa(0,t=la(n,t),1),1),t=el(),null!==e&&(vt(e,1,t),rl(e,t))}function Il(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kc||!Kc.has(r))){t=Vo(t,e=pa(t,e=la(n,e),1),1),e=el(),null!==t&&(vt(t,1,e),rl(t,e));break}}t=t.return}}function kl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Ac===e&&(Pc&n)===n&&(4===Dc||3===Dc&&(130023424&Pc)===Pc&&500>$e()-zc?hl(e,0):jc|=n),rl(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=el();null!==(e=Lo(e,t))&&(vt(e,t,n),rl(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function xl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tl(e,n)}function Al(e,t){return Ge(e,t)}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Rl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nl(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Ol(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Ll(n.children,i,s,t);case I:a=8,i|=8;break;case k:return(e=Pl(12,n,t,2|i)).elementType=k,e.lanes=s,e;case A:return(e=Pl(13,n,t,i)).elementType=A,e.lanes=s,e;case R:return(e=Pl(19,n,t,i)).elementType=R,e.lanes=s,e;case N:return Ml(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case C:a=9;break e;case x:a=11;break e;case P:a=14;break e;case O:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pl(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ll(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,i,o,s,a,c){return e=new Ul(e,t,n,a,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(o),e}function zl(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function Bl(e,t,n,r,i,o,s,a,c){return(e=Vl(n,r,!0,e,0,o,0,a,c)).context=zl(null),n=e.current,(o=Uo(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Vo(n,o,i),e.current.lanes=i,vt(e,i,r),rl(e,r),e}function ql(e,t,n,r){var i=t.current,o=el(),s=tl(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vo(i,t,s))&&(nl(e,i,s,o),zo(e,i,s)),s}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}Ec=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),po();break;case 5:Xo(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(Eo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ti(es,1&es.current),null!==(e=Wa(e,t,n))?e.sibling:null);Ti(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Ia(e,t,n)}return Wa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Pi(t,xi.current);Ro(t,n),i=gs(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,ca(t,r,e,n),t=xa(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,jo(e,t),qo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ra(e,t,r,n,i=la(Error(o(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=la(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Wa(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&lo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),ka(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Fa(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ti(Eo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ai.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=Uo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ao(s.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ao(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),r=r(i=Po(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),qa(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ro(t,n),sa(t,r,i),ca(t,r,i,n),xa(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return Ia(e,t,n)}throw Error(o(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function Jl(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(){}function Zl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Wl(s);a.call(e)}}ql(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wl(s);o.call(e)}}var s=Bl(t,r,e,0,null,!1,0,"",Xl);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),ul(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wl(c);a.call(e)}}var c=Vl(e,0,!1,null,0,!1,0,"",Xl);return e._reactRootContainer=c,e[pi]=c.current,Br(8===e.nodeType?e.parentNode:e),ul((function(){ql(t,c,n,r)})),c}(n,t,e,i,r);return Wl(s)}Jl.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));ql(e,t,null,null)},Jl.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){ql(null,e,null,null)})),t[pi]=null}},Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,$e()),0===(6&xc)&&(Bc=$e()+500,Bi()))}break;case 13:ul((function(){var t=Lo(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Kl(e,1)}},St=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nl(t,e,134217728,el());Kl(e,134217728)}},Et=function(e){if(13===e.tag){var t=tl(e),n=Lo(e,t);if(null!==n)nl(n,e,t,el());Kl(e,t)}},It=function(){return wt},kt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));G(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=ll,Ae=ul;var eu={usingClientEntryPoint:!1,Events:[wi,bi,_i,Te,Ce,ll]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(o(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!$l(t))throw Error(o(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bl(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jl(t)},t.render=function(e,t,n){if(!$l(t))throw Error(o(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$l(e))throw Error(o(40));return!!e._reactRootContainer&&(ul((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zl(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},251:function(e,t,n){var r,i,o;i=[t,n(75)],r=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(t);function r(e){return e&&e.__esModule?e:{default:e}}e.default=n.default},void 0===(o="function"===typeof r?r.apply(t,i):r)||(e.exports=o)},75:function(e,t,n){var r,i,o;i=[t,n(43),n(173)],r=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=f;var r=o(t),i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=!1;function f(e){h=e}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){f(!0)}}))}catch(v){}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{capture:!0};return h?e:e.capture}function m(e){if("touches"in e){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.screenX,y:e.screenY}}var g=function(e){function t(){var e;c(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return o._handleSwipeStart=o._handleSwipeStart.bind(o),o._handleSwipeMove=o._handleSwipeMove.bind(o),o._handleSwipeEnd=o._handleSwipeEnd.bind(o),o._onMouseDown=o._onMouseDown.bind(o),o._onMouseMove=o._onMouseMove.bind(o),o._onMouseUp=o._onMouseUp.bind(o),o._setSwiperRef=o._setSwiperRef.bind(o),o}return d(t,e),l(t,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(e){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(e))}},{key:"_onMouseMove",value:function(e){this.mouseDown&&this._handleSwipeMove(e)}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(e)}},{key:"_handleSwipeStart",value:function(e){var t=m(e),n=t.x,r=t.y;this.moveStart={x:n,y:r},this.props.onSwipeStart(e)}},{key:"_handleSwipeMove",value:function(e){if(this.moveStart){var t=m(e),n=t.x,r=t.y,i=n-this.moveStart.x,o=r-this.moveStart.y;this.moving=!0,this.props.onSwipeMove({x:i,y:o},e)&&e.cancelable&&e.preventDefault(),this.movePosition={deltaX:i,deltaY:o}}}},{key:"_handleSwipeEnd",value:function(e){this.props.onSwipeEnd(e);var t=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-t?this.props.onSwipeLeft(1,e):this.movePosition.deltaX>t&&this.props.onSwipeRight(1,e),this.movePosition.deltaY<-t?this.props.onSwipeUp(1,e):this.movePosition.deltaY>t&&this.props.onSwipeDown(1,e)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(e){this.swiper=e,this.props.innerRef(e)}},{key:"render",value:function(){var e=this.props,t=(e.tagName,e.className),n=e.style,i=e.children,o=(e.allowMouseEvents,e.onSwipeUp,e.onSwipeDown,e.onSwipeLeft,e.onSwipeRight,e.onSwipeStart,e.onSwipeMove,e.onSwipeEnd,e.innerRef,e.tolerance,a(e,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]));return r.default.createElement(this.props.tagName,s({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:t,style:n},o),i)}}]),t}(t.Component);g.displayName="ReactSwipe",g.propTypes={tagName:i.default.string,className:i.default.string,style:i.default.object,children:i.default.node,allowMouseEvents:i.default.bool,onSwipeUp:i.default.func,onSwipeDown:i.default.func,onSwipeLeft:i.default.func,onSwipeRight:i.default.func,onSwipeStart:i.default.func,onSwipeMove:i.default.func,onSwipeEnd:i.default.func,innerRef:i.default.func,tolerance:i.default.number.isRequired},g.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=g},void 0===(o="function"===typeof r?r.apply(t,i):r)||(e.exports=o)},178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t,n){var r=0===e?e:e+t;return"translate3d"+("("+("horizontal"===n?[r,0,0]:[0,r,0]).join(",")+")")}},226:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fadeAnimationHandler=t.slideStopSwipingHandler=t.slideSwipeAnimationHandler=t.slideAnimationHandler=void 0;var r,i=n(43),o=(r=n(178))&&r.__esModule?r:{default:r},s=n(564);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.slideAnimationHandler=function(e,t){var n={},r=t.selectedItem,a=r,l=i.Children.count(e.children)-1;if(e.infiniteLoop&&(r<0||r>l))return a<0?e.centerMode&&e.centerSlidePercentage&&"horizontal"===e.axis?n.itemListStyle=(0,s.setPosition)(-(l+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):n.itemListStyle=(0,s.setPosition)(100*-(l+2),e.axis):a>l&&(n.itemListStyle=(0,s.setPosition)(0,e.axis)),n;var u=(0,s.getPosition)(r,e),d=(0,o.default)(u,"%",e.axis),h=e.transitionTime+"ms";return n.itemListStyle={WebkitTransform:d,msTransform:d,OTransform:d,transform:d},t.swiping||(n.itemListStyle=c(c({},n.itemListStyle),{},{WebkitTransitionDuration:h,MozTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h})),n};t.slideSwipeAnimationHandler=function(e,t,n,r){var o={},a="horizontal"===t.axis,c=i.Children.count(t.children),l=(0,s.getPosition)(n.selectedItem,t),u=t.infiniteLoop?(0,s.getPosition)(c-1,t)-100:(0,s.getPosition)(c-1,t),d=a?e.x:e.y,h=d;0===l&&d>0&&(h=0),l===u&&d<0&&(h=0);var f=l+100/(n.itemSize/h),p=Math.abs(d)>t.swipeScrollTolerance;return t.infiniteLoop&&p&&(0===n.selectedItem&&f>-100?f-=100*c:n.selectedItem===c-1&&f<100*-c&&(f+=100*c)),(!t.preventMovementUntilSwipeScrollTolerance||p||n.swipeMovementStarted)&&(n.swipeMovementStarted||r({swipeMovementStarted:!0}),o.itemListStyle=(0,s.setPosition)(f,t.axis)),p&&!n.cancelClick&&r({cancelClick:!0}),o};t.slideStopSwipingHandler=function(e,t){var n=(0,s.getPosition)(t.selectedItem,e);return{itemListStyle:(0,s.setPosition)(n,e.axis)}};t.fadeAnimationHandler=function(e,t){var n=e.transitionTime+"ms",r="ease-in-out",i={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:r,msTransitionTimingFunction:r,MozTransitionTimingFunction:r,WebkitTransitionTimingFunction:r,OTransitionTimingFunction:r};return t.swiping||(i=c(c({},i),{},{WebkitTransitionDuration:n,MozTransitionDuration:n,OTransitionDuration:n,transitionDuration:n,msTransitionDuration:n})),{slideStyle:i,selectedStyle:c(c({},i),{},{opacity:1,position:"relative"}),prevStyle:c({},i)}}},481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(43)),i=d(n(251)),o=d(n(656)),s=d(n(169)),a=d(n(559)),c=d(n(386)),l=n(564),u=n(226);function d(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;return b(e)}(this,n)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(f,e);var t,n,d,h=w(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),S(b(t=h.call(this,e)),"thumbsRef",void 0),S(b(t),"carouselWrapperRef",void 0),S(b(t),"listRef",void 0),S(b(t),"itemsRef",void 0),S(b(t),"timer",void 0),S(b(t),"animationHandler",void 0),S(b(t),"setThumbsRef",(function(e){t.thumbsRef=e})),S(b(t),"setCarouselWrapperRef",(function(e){t.carouselWrapperRef=e})),S(b(t),"setListRef",(function(e){t.listRef=e})),S(b(t),"setItemsRef",(function(e,n){t.itemsRef||(t.itemsRef=[]),t.itemsRef[n]=e})),S(b(t),"autoPlay",(function(){r.Children.count(t.props.children)<=1||(t.clearAutoPlay(),t.props.autoPlay&&(t.timer=setTimeout((function(){t.increment()}),t.props.interval)))})),S(b(t),"clearAutoPlay",(function(){t.timer&&clearTimeout(t.timer)})),S(b(t),"resetAutoPlay",(function(){t.clearAutoPlay(),t.autoPlay()})),S(b(t),"stopOnHover",(function(){t.setState({isMouseEntered:!0},t.clearAutoPlay)})),S(b(t),"startOnLeave",(function(){t.setState({isMouseEntered:!1},t.autoPlay)})),S(b(t),"isFocusWithinTheCarousel",(function(){return!!t.carouselWrapperRef&&!((0,a.default)().activeElement!==t.carouselWrapperRef&&!t.carouselWrapperRef.contains((0,a.default)().activeElement))})),S(b(t),"navigateWithKeyboard",(function(e){if(t.isFocusWithinTheCarousel()){var n="horizontal"===t.props.axis,r=n?37:38;(n?39:40)===e.keyCode?t.increment():r===e.keyCode&&t.decrement()}})),S(b(t),"updateSizes",(function(){if(t.state.initialized&&t.itemsRef&&0!==t.itemsRef.length){var e="horizontal"===t.props.axis,n=t.itemsRef[0];if(n){var r=e?n.clientWidth:n.clientHeight;t.setState({itemSize:r}),t.thumbsRef&&t.thumbsRef.updateSizes()}}})),S(b(t),"setMountState",(function(){t.setState({hasMount:!0}),t.updateSizes()})),S(b(t),"handleClickItem",(function(e,n){0!==r.Children.count(t.props.children)&&(t.state.cancelClick?t.setState({cancelClick:!1}):(t.props.onClickItem(e,n),e!==t.state.selectedItem&&t.setState({selectedItem:e})))})),S(b(t),"handleOnChange",(function(e,n){r.Children.count(t.props.children)<=1||t.props.onChange(e,n)})),S(b(t),"handleClickThumb",(function(e,n){t.props.onClickThumb(e,n),t.moveTo(e)})),S(b(t),"onSwipeStart",(function(e){t.setState({swiping:!0}),t.props.onSwipeStart(e)})),S(b(t),"onSwipeEnd",(function(e){t.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),t.props.onSwipeEnd(e),t.clearAutoPlay(),t.state.autoPlay&&t.autoPlay()})),S(b(t),"onSwipeMove",(function(e,n){t.props.onSwipeMove(n);var r=t.props.swipeAnimationHandler(e,t.props,t.state,t.setState.bind(b(t)));return t.setState(g({},r)),!!Object.keys(r).length})),S(b(t),"decrement",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem-("number"===typeof e?e:1))})),S(b(t),"increment",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem+("number"===typeof e?e:1))})),S(b(t),"moveTo",(function(e){if("number"===typeof e){var n=r.Children.count(t.props.children)-1;e<0&&(e=t.props.infiniteLoop?n:0),e>n&&(e=t.props.infiniteLoop?0:n),t.selectItem({selectedItem:e}),t.state.autoPlay&&!1===t.state.isMouseEntered&&t.resetAutoPlay()}})),S(b(t),"onClickNext",(function(){t.increment(1)})),S(b(t),"onClickPrev",(function(){t.decrement(1)})),S(b(t),"onSwipeForward",(function(){t.increment(1),t.props.emulateTouch&&t.setState({cancelClick:!0})})),S(b(t),"onSwipeBackwards",(function(){t.decrement(1),t.props.emulateTouch&&t.setState({cancelClick:!0})})),S(b(t),"changeItem",(function(e){return function(n){(0,l.isKeyboardEvent)(n)&&"Enter"!==n.key||t.moveTo(e)}})),S(b(t),"selectItem",(function(e){t.setState(g({previousItem:t.state.selectedItem},e),(function(){t.setState(t.animationHandler(t.props,t.state))})),t.handleOnChange(e.selectedItem,r.Children.toArray(t.props.children)[e.selectedItem])})),S(b(t),"getInitialImage",(function(){var e=t.props.selectedItem,n=t.itemsRef&&t.itemsRef[e];return(n&&n.getElementsByTagName("img")||[])[0]})),S(b(t),"getVariableItemHeight",(function(e){var n=t.itemsRef&&t.itemsRef[e];if(t.state.hasMount&&n&&n.children.length){var r=n.children[0].getElementsByTagName("img")||[];if(r.length>0){var i=r[0];if(!i.complete){i.addEventListener("load",(function e(){t.forceUpdate(),i.removeEventListener("load",e)}))}}var o=(r[0]||n.children[0]).clientHeight;return o>0?o:null}return null}));var n={initialized:!1,previousItem:e.selectedItem,selectedItem:e.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:e.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return t.animationHandler="function"===typeof e.animationHandler&&e.animationHandler||"fade"===e.animationHandler&&u.fadeAnimationHandler||u.slideAnimationHandler,t.state=g(g({},n),t.animationHandler(e,n)),t}return t=f,(n=[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(e,t){e.children||!this.props.children||this.state.initialized||this.setupCarousel(),!e.autoFocus&&this.props.autoFocus&&this.forceFocus(),t.swiping&&!this.state.swiping&&this.setState(g({},this.props.stopSwipingHandler(this.props,this.state))),e.selectedItem===this.props.selectedItem&&e.centerMode===this.props.centerMode||(this.updateSizes(),this.moveTo(this.props.selectedItem)),e.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var e=this;this.bindEvents(),this.state.autoPlay&&r.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},(function(){var t=e.getInitialImage();t&&!t.complete?t.addEventListener("load",e.setMountState):e.setMountState()}))}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.addEventListener("mouseenter",this.stopOnHover),e.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.removeEventListener("mouseenter",this.stopOnHover),e.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,c.default)().addEventListener("resize",this.updateSizes),(0,c.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,a.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,c.default)().removeEventListener("resize",this.updateSizes),(0,c.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var e=this.getInitialImage();e&&e.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,a.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var e;null===(e=this.carouselWrapperRef)||void 0===e||e.focus()}},{key:"renderItems",value:function(e){var t=this;return this.props.children?r.Children.map(this.props.children,(function(n,i){var s=i===t.state.selectedItem,a=i===t.state.previousItem,c=s&&t.state.selectedStyle||a&&t.state.prevStyle||t.state.slideStyle||{};t.props.centerMode&&"horizontal"===t.props.axis&&(c=g(g({},c),{},{minWidth:t.props.centerSlidePercentage+"%"})),t.state.swiping&&t.state.swipeMovementStarted&&(c=g(g({},c),{},{pointerEvents:"none"}));var l={ref:function(e){return t.setItemsRef(e,i)},key:"itemKey"+i+(e?"clone":""),className:o.default.ITEM(!0,i===t.state.selectedItem,i===t.state.previousItem),onClick:t.handleClickItem.bind(t,i,n),style:c};return r.default.createElement("li",l,t.props.renderItem(n,{isSelected:i===t.state.selectedItem,isPrevious:i===t.state.previousItem}))})):[]}},{key:"renderControls",value:function(){var e=this,t=this.props,n=t.showIndicators,i=t.labels,o=t.renderIndicator,s=t.children;return n?r.default.createElement("ul",{className:"control-dots"},r.Children.map(s,(function(t,n){return o&&o(e.changeItem(n),n===e.state.selectedItem,n,i.item)}))):null}},{key:"renderStatus",value:function(){return this.props.showStatus?r.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,r.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return this.props.showThumbs&&this.props.children&&0!==r.Children.count(this.props.children)?r.default.createElement(s.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children)):null}},{key:"render",value:function(){var e=this;if(!this.props.children||0===r.Children.count(this.props.children))return null;var t=this.props.swipeable&&r.Children.count(this.props.children)>1,n="horizontal"===this.props.axis,s=this.props.showArrows&&r.Children.count(this.props.children)>1,a=s&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,c=s&&(this.state.selectedItem<r.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,l=this.renderItems(!0),u=l.shift(),d=l.pop(),h={className:o.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},f={};if(n){if(h.onSwipeLeft=this.onSwipeForward,h.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var m=this.getVariableItemHeight(this.state.selectedItem);f.height=m||"auto"}}else h.onSwipeUp="natural"===this.props.verticalSwipe?this.onSwipeBackwards:this.onSwipeForward,h.onSwipeDown="natural"===this.props.verticalSwipe?this.onSwipeForward:this.onSwipeBackwards,h.style=g(g({},h.style),{},{height:this.state.itemSize}),f.height=this.state.itemSize;return r.default.createElement("div",{"aria-label":this.props.ariaLabel,className:o.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},r.default.createElement("div",{className:o.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,a,this.props.labels.leftArrow),r.default.createElement("div",{className:o.default.WRAPPER(!0,this.props.axis),style:f},t?r.default.createElement(i.default,p({tagName:"ul",innerRef:this.setListRef},h,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&d,this.renderItems(),this.props.infiniteLoop&&u):r.default.createElement("ul",{className:o.default.SLIDER(!0,this.state.swiping),ref:function(t){return e.setListRef(t)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&d,this.renderItems(),this.props.infiniteLoop&&u)),this.props.renderArrowNext(this.onClickNext,c,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}])&&v(t.prototype,n),d&&v(t,d),f}(r.default.Component);t.default=E,S(E,"displayName","Carousel"),S(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:o.default.ARROW_PREV(!t),onClick:e})},renderArrowNext:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:o.default.ARROW_NEXT(!t),onClick:e})},renderIndicator:function(e,t,n,i){return r.default.createElement("li",{className:o.default.DOT(t),onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(n+1)})},renderItem:function(e){return e},renderThumbs:function(e){var t=r.Children.map(e,(function(e){var t=e;if("img"!==e.type&&(t=r.Children.toArray(e.props.children).find((function(e){return"img"===e.type}))),t)return t}));return 0===t.filter((function(e){return e})).length?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):t},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler})},96:()=>{},564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPosition=t.getPosition=t.isKeyboardEvent=t.defaultStatusFormatter=t.noop=void 0;var r,i=n(43),o=(r=n(178))&&r.__esModule?r:{default:r};t.noop=function(){};t.defaultStatusFormatter=function(e,t){return"".concat(e," of ").concat(t)};t.isKeyboardEvent=function(e){return!!e&&e.hasOwnProperty("key")};t.getPosition=function(e,t){if(t.infiniteLoop&&++e,0===e)return 0;var n=i.Children.count(t.children);if(t.centerMode&&"horizontal"===t.axis){var r=-e*t.centerSlidePercentage,o=n-1;return e&&(e!==o||t.infiniteLoop)?r+=(100-t.centerSlidePercentage)/2:e===o&&(r+=100-t.centerSlidePercentage),r}return 100*-e};t.setPosition=function(e,t){var n={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(r){n[r]=(0,o.default)(e,"%",t)})),n}},169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(43)),i=l(n(656)),o=n(256),s=l(n(178)),a=l(n(251)),c=l(n(386));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(d,e);var t,n,l,u=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),y(g(t=u.call(this,e)),"itemsWrapperRef",void 0),y(g(t),"itemsListRef",void 0),y(g(t),"thumbsRef",void 0),y(g(t),"setItemsWrapperRef",(function(e){t.itemsWrapperRef=e})),y(g(t),"setItemsListRef",(function(e){t.itemsListRef=e})),y(g(t),"setThumbsRef",(function(e,n){t.thumbsRef||(t.thumbsRef=[]),t.thumbsRef[n]=e})),y(g(t),"updateSizes",(function(){if(t.props.children&&t.itemsWrapperRef&&t.thumbsRef){var e=r.Children.count(t.props.children),n=t.itemsWrapperRef.clientWidth,i=t.props.thumbWidth?t.props.thumbWidth:(0,o.outerWidth)(t.thumbsRef[0]),s=Math.floor(n/i),a=s<e,c=a?e-s:0;t.setState((function(e,n){return{itemSize:i,visibleItems:s,firstItem:a?t.getFirstItem(n.selectedItem):0,lastPosition:c,showArrows:a}}))}})),y(g(t),"handleClickItem",(function(e,n,r){if(!function(e){return e.hasOwnProperty("key")}(r)||"Enter"===r.key){var i=t.props.onSelectItem;"function"===typeof i&&i(e,n)}})),y(g(t),"onSwipeStart",(function(){t.setState({swiping:!0})})),y(g(t),"onSwipeEnd",(function(){t.setState({swiping:!1})})),y(g(t),"onSwipeMove",(function(e){var n=e.x;if(!t.state.itemSize||!t.itemsWrapperRef||!t.state.visibleItems)return!1;var i=r.Children.count(t.props.children),o=-100*t.state.firstItem/t.state.visibleItems;0===o&&n>0&&(n=0),o===100*-Math.max(i-t.state.visibleItems,0)/t.state.visibleItems&&n<0&&(n=0);var a=o+100/(t.itemsWrapperRef.clientWidth/n);return t.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(e){t.itemsListRef.style[e]=(0,s.default)(a,"%",t.props.axis)})),!0})),y(g(t),"slideRight",(function(e){t.moveTo(t.state.firstItem-("number"===typeof e?e:1))})),y(g(t),"slideLeft",(function(e){t.moveTo(t.state.firstItem+("number"===typeof e?e:1))})),y(g(t),"moveTo",(function(e){e=(e=e<0?0:e)>=t.state.lastPosition?t.state.lastPosition:e,t.setState({firstItem:e})})),t.state={selectedItem:e.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},t}return t=d,(n=[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(e){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==e.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,c.default)().addEventListener("resize",this.updateSizes),(0,c.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,c.default)().removeEventListener("resize",this.updateSizes),(0,c.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(e){var t=e;return e>=this.state.lastPosition&&(t=this.state.lastPosition),e<this.state.firstItem+this.state.visibleItems&&(t=this.state.firstItem),e<this.state.firstItem&&(t=e),t}},{key:"renderItems",value:function(){var e=this;return this.props.children.map((function(t,n){var o=i.default.ITEM(!1,n===e.state.selectedItem),s={key:n,ref:function(t){return e.setThumbsRef(t,n)},className:o,onClick:e.handleClickItem.bind(e,n,e.props.children[n]),onKeyDown:e.handleClickItem.bind(e,n,e.props.children[n]),"aria-label":"".concat(e.props.labels.item," ").concat(n+1),style:{width:e.props.thumbWidth}};return r.default.createElement("li",h({},s,{role:"button",tabIndex:0}),t)}))}},{key:"render",value:function(){var e=this;if(!this.props.children)return null;var t,n=r.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,c=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l=-this.state.firstItem*(this.state.itemSize||0),u=(0,s.default)(l,"px",this.props.axis),d=this.props.transitionTime+"ms";return t={WebkitTransform:u,MozTransform:u,MsTransform:u,OTransform:u,transform:u,msTransform:u,WebkitTransitionDuration:d,MozTransitionDuration:d,MsTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d},r.default.createElement("div",{className:i.default.CAROUSEL(!1)},r.default.createElement("div",{className:i.default.WRAPPER(!1),ref:this.setItemsWrapperRef},r.default.createElement("button",{type:"button",className:i.default.ARROW_PREV(!o),onClick:function(){return e.slideRight()},"aria-label":this.props.labels.leftArrow}),n?r.default.createElement(a.default,{tagName:"ul",className:i.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:t,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):r.default.createElement("ul",{className:i.default.SLIDER(!1,this.state.swiping),ref:function(t){return e.setItemsListRef(t)},style:t},this.renderItems()),r.default.createElement("button",{type:"button",className:i.default.ARROW_NEXT(!c),onClick:function(){return e.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}])&&f(t.prototype,n),l&&f(t,l),d}(r.Component);t.default=w,y(w,"displayName","Thumbs"),y(w,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350})},656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(139))&&r.__esModule?r:{default:r};var o={ROOT:function(e){return(0,i.default)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,i.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,t){return(0,i.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":"horizontal"===t,"axis-vertical":"horizontal"!==t})},SLIDER:function(e,t){return(0,i.default)({thumbs:!e,slider:e,animated:!t})},ITEM:function(e,t,n){return(0,i.default)({thumb:!e,slide:e,selected:t,previous:n})},ARROW_PREV:function(e){return(0,i.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,i.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,i.default)({dot:!0,selected:e})}};t.default=o},256:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outerWidth=void 0;t.outerWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight)}},577:(e,t,n)=>{"use strict";Object.defineProperty(t,"FN",{enumerable:!0,get:function(){return r.default}});var r=s(n(481)),i=n(96),o=s(n(169));function s(e){return e&&e.__esModule?e:{default:e}}},559:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return document}},386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return window}},358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function c(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function l(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return s=s(c=e),e=""===o?"."+x(c,0):o,_(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(s,t,i,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(c=0,o=""===o?".":o+":",_(e))for(var l=0;l<e.length;l++){var u=o+x(a=e[l],l);c+=A(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=A(a=a.value,t,i,u=o+x(a,l++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},N={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:N,ReactCurrentOwner:E};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)S.call(t,l)&&!I.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>o(c,n))l<i&&0>o(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>o(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(l))m=!0,N(S);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var o=f;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!A());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var c=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),c=!1}return c}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,I=!1,k=null,T=-1,C=5,x=-1;function A(){return!(t.unstable_now()-x<C)}function R(){if(null!==k){var e=t.unstable_now();x=e;var n=!0;try{n=k(!0,e)}finally{n?E():(I=!1,k=null)}}else I=!1}if("function"===typeof w)E=function(){w(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=R,E=function(){O.postMessage(null)}}else E=function(){v(R,0)};function N(e){k=e,I||(I=!0,E())}function D(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(l)&&e===r(u)&&(g?(y(T),T=-1):g=!0,D(_,o-s))):(e.sortIndex=a,n(l,e),m||p||(m=!0,N(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>vn,SDK_VERSION:()=>$r,_DEFAULT_ENTRY_NAME:()=>Lr,_addComponent:()=>Vr,_addOrOverwriteComponent:()=>zr,_apps:()=>Fr,_clearComponents:()=>Gr,_components:()=>Ur,_getProvider:()=>qr,_isFirebaseApp:()=>Hr,_isFirebaseServerApp:()=>Kr,_registerComponent:()=>Br,_removeServiceInstance:()=>Wr,_serverApps:()=>jr,deleteApp:()=>ni,getApp:()=>ei,getApps:()=>ti,initializeApp:()=>Xr,initializeServerApp:()=>Zr,onLog:()=>ii,registerVersion:()=>ri,setLogLevel:()=>oi});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>uC,hasStandardBrowserEnv:()=>hC,hasStandardBrowserWebWorkerEnv:()=>fC,navigator:()=>dC,origin:()=>pC});var r=n(43),i=n.t(r,2),o=n(391);function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function l(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(358);const h=["page"],f=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var v="popstate";function y(){return k((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return S("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:E(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function _(e,t){return{usr:e.state,key:e.key,idx:t}}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return d(d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?I(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function E(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function I(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function k(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",c=null,l=u();function u(){return(s.state||{idx:null}).idx}function h(){a="POP";let e=u(),t=null==e?null:e-l;l=e,c&&c({action:a,location:p.location,delta:t})}function f(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:E(e);return n=n.replace(/ $/,"%20"),w(t,"No window.location.(origin|href) available to create URL for href: ".concat(n)),new URL(n,t)}null==l&&(l=0,s.replaceState(d(d({},s.state),{},{idx:l}),""));let p={get action(){return a},get location(){return e(i,s)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(v,h),c=e,()=>{i.removeEventListener(v,h),c=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=S(p.location,e,t);n&&n(r,e),l=u()+1;let d=_(r,l),h=p.createHref(r);try{s.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}o&&c&&c({action:a,location:p.location,delta:1})},replace:function(e,t){a="REPLACE";let r=S(p.location,e,t);n&&n(r,e),l=u();let i=_(r,l),d=p.createHref(r);s.replaceState(i,"",d),o&&c&&c({action:a,location:p.location,delta:0})},go:e=>s.go(e)};return p}function T(e,t){return C(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(e,t,n,r){let i=z(("string"===typeof t?I(t):t).pathname||"/",n);if(null==i)return null;let o=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=V(i);s=j(o[a],e,r)}return s}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(w(s.relativePath.startsWith(r),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(r.length));let a=K([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(a,'".')),x(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:F(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))i(e,t,r);else i(e,t)})),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=A(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var R=/^:[\w-]+$/,P=3,O=2,N=1,D=10,L=-2,M=e=>"*"===e;function F(e,t){let n=e.split("/"),r=n.length;return n.some(M)&&(r+=L),t&&(r+=O),n.filter((e=>!M(e))).reduce(((e,t)=>e+(R.test(t)?P:""===t?N:D)),r)}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],c=a===r.length-1,l="/"===o?t:t.slice(o.length)||"/",u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:c},l),d=e.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:K([o,u.pathname]),pathnameBase:G(K([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=K([o,u.pathnameBase]))}return s}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function V(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function B(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function W(e){let t=q(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function H(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=I(e):(r=d({},e),w(!r.pathname||!r.pathname.includes("?"),B("?","pathname","search",r)),w(!r.pathname||!r.pathname.includes("#"),B("#","pathname","hash",r)),w(!r.search||!r.search.includes("#"),B("#","search","hash",r)));let o,s=""===e||""===r.pathname,a=s?"/":r.pathname;if(null==a)o=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?I(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Q(r),hash:J(i)}}(r,o),l=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!l&&!u||(c.pathname+="/"),c}var K=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Y(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var $=["POST","PUT","PATCH","DELETE"],X=(new Set($),["GET",...$]);new Set(X),Symbol("ResetLoaderData");var Z=r.createContext(null);Z.displayName="DataRouter";var ee=r.createContext(null);ee.displayName="DataRouterState";var te=r.createContext({isTransitioning:!1});te.displayName="ViewTransition";var ne=r.createContext(new Map);ne.displayName="Fetchers";var re=r.createContext(null);re.displayName="Await";var ie=r.createContext(null);ie.displayName="Navigation";var oe=r.createContext(null);oe.displayName="Location";var se=r.createContext({outlet:null,matches:[],isDataRoute:!1});se.displayName="Route";var ae=r.createContext(null);ae.displayName="RouteError";function ce(){return null!=r.useContext(oe)}function le(){return w(ce(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(oe).location}var ue="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function de(e){r.useContext(ie).static||r.useLayoutEffect(e)}function he(){let{isDataRoute:e}=r.useContext(se);return e?function(){let{router:e}=Se("useNavigate"),t=Ie("useNavigate"),n=r.useRef(!1);de((()=>{n.current=!0}));let i=r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(n.current,ue),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,d({fromRouteId:t},i)))}),[e,t]);return i}():function(){w(ce(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(Z),{basename:t,navigator:n}=r.useContext(ie),{matches:i}=r.useContext(se),{pathname:o}=le(),s=JSON.stringify(W(i)),a=r.useRef(!1);de((()=>{a.current=!0}));let c=r.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(a.current,ue),!a.current)return;if("number"===typeof r)return void n.go(r);let c=H(r,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(c.pathname="/"===c.pathname?t:K([t,c.pathname])),(i.replace?n.replace:n.push)(c,i.state,i)}),[t,n,s,o,e]);return c}()}r.createContext(null);function fe(){let{matches:e}=r.useContext(se),t=e[e.length-1];return t?t.params:{}}function pe(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(se),{pathname:i}=le(),o=JSON.stringify(W(n));return r.useMemo((()=>H(e,JSON.parse(o),i,"path"===t)),[e,o,i,t])}function me(e,t,n,i){w(ce(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=r.useContext(ie),{matches:s}=r.useContext(se),a=s[s.length-1],c=a?a.params:{},l=a?a.pathname:"/",u=a?a.pathnameBase:"/",h=a&&a.route;{let e=h&&h.path||"";Ce(l,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(l,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,p=le();if(t){var m;let e="string"===typeof t?I(t):t;w("/"===u||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=p;let g=f.pathname||"/",v=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=T(e,{pathname:v});b(h||null!=y,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),b(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=be(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:K([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:K([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,i);return t&&_?r.createElement(oe.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},_):_}function ge(){let e=ke(),t=Y(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,a)}var ve=r.createElement(ge,null),ye=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(se.Provider,{value:this.props.routeContext},r.createElement(ae.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function we(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(Z);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(se.Provider,{value:t},i)}function be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id])));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,a=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=r),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){s=!0,i=a>=0?i.slice(0,a+1):[i[0]];break}}}return i.reduceRight(((e,c,l)=>{let u,d=!1,h=null,f=null;n&&(u=o&&c.route.id?o[c.route.id]:void 0,h=c.route.errorElement||ve,s&&(a<0&&0===l?(Ce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):a===l&&(d=!0,f=c.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,l+1)),m=()=>{let t;return t=u?h:d?f:c.route.Component?r.createElement(c.route.Component,null):c.route.element?c.route.element:e,r.createElement(we,{match:c,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===l)?r.createElement(ye,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function _e(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Se(e){let t=r.useContext(Z);return w(t,_e(e)),t}function Ee(e){let t=r.useContext(ee);return w(t,_e(e)),t}function Ie(e){let t=function(e){let t=r.useContext(se);return w(t,_e(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function ke(){var e;let t=r.useContext(ae),n=Ee("useRouteError"),i=Ie("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var Te={};function Ce(e,t,n){t||Te[e]||(Te[e]=!0,b(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return me(t,void 0,r,n)}));function xe(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ae(e){let{basename:t="/",children:n=null,location:i,navigationType:o="POP",navigator:s,static:a=!1}=e;w(!ce(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),l=r.useMemo((()=>({basename:c,navigator:s,static:a,future:{}})),[c,s,a]);"string"===typeof i&&(i=I(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,m=r.useMemo((()=>{let e=z(u,c);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:o}}),[c,u,d,h,f,p,o]);return b(null!=m,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(ie.Provider,{value:l},r.createElement(oe.Provider,{children:n,value:m}))}function Re(e){let{children:t,location:n}=e;return me(Pe(t),n)}r.Component;function Pe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Pe(e.props.children,o));w(e.type===xe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Pe(e.props.children,o)),n.push(s)})),n}var Oe="get",Ne="application/x-www-form-urlencoded";function De(e){return null!=e&&"string"===typeof e.tagName}var Le=null;var Me=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fe(e){return null==e||Me.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ne,'"')),null)}function je(e,t){let n,r,i,o,s;if(De(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?z(s,t):null,n=e.getAttribute("method")||Oe,i=Fe(e.getAttribute("enctype"))||Ne,o=new FormData(e)}else if(function(e){return De(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return De(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?z(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Oe,i=Fe(e.getAttribute("formenctype"))||Fe(s.getAttribute("enctype"))||Ne,o=new FormData(s,e),!function(){if(null===Le)try{new FormData(document.createElement("form"),0),Le=!1}catch(e){Le=!0}return Le}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else t&&o.append(t,r)}}else{if(De(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oe,r=null,i=Ne,s=e}var a;return o&&"text/plain"===i&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function Ue(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ve(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function ze(e){return null!=e&&"string"===typeof e.page}function Be(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function qe(e,t,n,r,i,o){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter(((e,t)=>s(e,t)||a(e,t))):"data"===o?t.filter(((t,o)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(s(t,o)||a(t,o))return!0;if(t.route.shouldRevalidate){var l;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(l=n[0])||void 0===l?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function We(e){return[...new Set(e)]}function He(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!ze(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e}),[])}function Ke(e){return{__html:e}}Symbol("SingleFetchRedirect");function Ge(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname="".concat(t.pathname.replace(/\/$/,""),".data"),t}r.Component;function Qe(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,o=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(Y(t))return r.createElement(Je,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),o);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return r.createElement(Je,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function Je(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:o,children:s}=e,{routeModules:a}=et();return null!==a.root&&void 0!==t&&t.Layout&&!o?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,i?r.createElement(at,null):null)))}function Ye(e){return!e}function $e(){let e=r.useContext(Z);return Ue(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xe(){let e=r.useContext(ee);return Ue(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ze=r.createContext(void 0);function et(){let e=r.useContext(Ze);return Ue(e,"You must render this element inside a <HydratedRouter> element"),e}function tt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nt(e,t,n){if(n&&!st)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function rt(e){let{page:t}=e,n=s(e,h),{router:i}=$e(),o=r.useMemo((()=>T(i.routes,t,i.basename)),[i.routes,t,i.basename]);return o?r.createElement(ot,d({page:t,matches:o},n)):(console.warn("Tried to prefetch ".concat(t," but no routes matched.")),null)}function it(e){let{manifest:t,routeModules:n}=et(),[i,o]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return He((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ve(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Be).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?d(d({},e),{},{rel:"prefetch",as:"style"}):d(d({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||o(e)})),()=>{r=!0}}),[e,t,n]),i}function ot(e){let{page:t,matches:n}=e,i=s(e,f),o=le(),{manifest:a,routeModules:c}=et(),{loaderData:l,matches:u}=Xe(),h=r.useMemo((()=>qe(t,n,u,a,o,"data")),[t,n,u,a,o]),p=r.useMemo((()=>qe(t,n,u,a,o,"assets")),[t,n,u,a,o]),m=r.useMemo((()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let i=a.routes[t.route.id];i&&i.hasLoader&&(!h.some((e=>e.route.id===t.route.id))&&t.route.id in l&&null!==(n=c[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=Ge(t);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,o,a,h,n,t,c]),g=r.useMemo((()=>function(e,t){return We(e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(p,a)),[p,a]),v=it(p);return r.createElement(r.Fragment,null,m.map((e=>r.createElement("link",d({key:e,rel:"prefetch",as:"fetch",href:e},i)))),g.map((e=>r.createElement("link",d({key:e,rel:"modulepreload",href:e},i)))),v.map((e=>{let{key:t,link:n}=e;return r.createElement("link",d({key:t},n))})))}Ze.displayName="FrameworkContext";var st=!1;function at(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:o}=et(),{router:s,static:a,staticContext:c}=$e(),{matches:l}=Xe(),u=Ye(i);o&&(o.didRenderScripts=!0);let h=nt(l,null,i);r.useEffect((()=>{0}),[]);let f=r.useMemo((()=>{var i;let o=c?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",l=a?"".concat(null!==t.hmr&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(u?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(h.map(((e,n)=>"import * as route".concat(n," from ").concat(JSON.stringify(t.routes[e.route.id].module),";"))).join("\n"),"\n  ").concat(u?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push("/".concat(r.join("/"))),r.pop();i.forEach((e=>{let r=T(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let o=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return d(d({},e),{},{routes:o})}(t,s),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(h.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ke(o),type:void 0})),r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ke(l),type:"module",async:!0})))}),[]),p=h.map((e=>{let n=t.routes[e.route.id];return n?(n.imports||[]).concat([n.module]):[]})).flat(1),m=st?[]:t.entry.imports.concat(p);return st?null:r.createElement(r.Fragment,null,u?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),[...new Set(g)].map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),f);var g}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var lt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{lt&&(window.__reactRouterVersion="7.0.2")}catch(oL){}function ut(e){let{basename:t,children:n,window:i}=e,o=r.useRef();null==o.current&&(o.current=y({window:i,v5Compat:!0}));let s=o.current,[a,c]=r.useState({action:s.action,location:s.location}),l=r.useCallback((e=>{r.startTransition((()=>c(e)))}),[c]);return r.useLayoutEffect((()=>s.listen(l)),[s,l]),r.createElement(Ae,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}var dt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=r.forwardRef((function(e,t){let n,{onClick:i,discover:o="render",prefetch:a="none",relative:c,reloadDocument:l,replace:u,state:h,target:f,to:m,preventScrollReset:g,viewTransition:v}=e,y=s(e,p),{basename:_}=r.useContext(ie),S="string"===typeof m&&dt.test(m),I=!1;if("string"===typeof m&&S&&(n=m,lt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=z(t.pathname,_);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:I=!0}catch(oL){b(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(ce(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(ie),{hash:o,pathname:s,search:a}=pe(e,{relative:t}),c=s;return"/"!==n&&(c="/"===s?n:K([n,s])),i.createHref({pathname:c,search:a,hash:o})}(m,{relative:c}),[T,C,x]=function(e,t){let n=r.useContext(Ze),[i,o]=r.useState(!1),[s,a]=r.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(i){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{o(!0)},m=()=>{o(!1),a(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:tt(c,p),onBlur:tt(l,m),onMouseEnter:tt(u,p),onMouseLeave:tt(d,m),onTouchStart:tt(h,p)}]:[!1,f,{}]}(a,y),A=function(e){let{target:t,replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=he(),l=le(),u=pe(e,{relative:s});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:E(l)===E(u);c(e,{replace:t,state:i,preventScrollReset:o,relative:s,viewTransition:a})}}),[l,c,u,n,i,t,e,o,s,a])}(m,{replace:u,state:h,target:f,preventScrollReset:g,relative:c,viewTransition:v});let R=r.createElement("a",d(d(d({},y),x),{},{href:n||k,onClick:I||l?i:function(e){i&&i(e),e.defaultPrevented||A(e)},ref:ct(t,C),target:f,"data-discover":S||"render"!==o?void 0:"true"}));return T&&!S?r.createElement(r.Fragment,null,R,r.createElement(rt,{page:k})):R}));ht.displayName="Link";var ft=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:o="",end:a=!1,style:c,to:l,viewTransition:u,children:h}=e,f=s(e,m),p=pe(l,{relative:f.relative}),g=le(),v=r.useContext(ee),{navigator:y,basename:b}=r.useContext(ie),_=null!=v&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(te);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=gt("useViewTransitionState"),o=pe(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=z(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=z(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=U(o.pathname,a)||null!=U(o.pathname,s)}(p)&&!0===u,S=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,E=g.pathname,I=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(E=E.toLowerCase(),I=I?I.toLowerCase():null,S=S.toLowerCase()),I&&b&&(I=z(I,b)||I);const k="/"!==S&&S.endsWith("/")?S.length-1:S.length;let T,C=E===S||!a&&E.startsWith(S)&&"/"===E.charAt(k),x=null!=I&&(I===S||!a&&I.startsWith(S)&&"/"===I.charAt(S.length)),A={isActive:C,isPending:x,isTransitioning:_},R=C?n:void 0;T="function"===typeof o?o(A):[o,C?"active":null,x?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof c?c(A):c;return r.createElement(ht,d(d({},f),{},{"aria-current":R,className:T,ref:t,style:P,to:l,viewTransition:u}),"function"===typeof h?h(A):h)}));ft.displayName="NavLink";var pt=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:o,reloadDocument:a,replace:c,state:l,method:u=Oe,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:v}=e,y=s(e,g),b=wt(),_=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ie),i=r.useContext(se);w(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s=d({},pe(e||".",{relative:t})),a=le();if(null==e){s.search=a.search;let e=new URLSearchParams(s.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:K([n,s.pathname]));return E(s)}(h,{relative:p}),S="get"===u.toLowerCase()?"get":"post",I="string"===typeof h&&dt.test(h);return r.createElement("form",d(d({ref:t,method:S,action:_,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;b(t||e.currentTarget,{fetcherKey:i,method:n,navigate:o,replace:c,state:l,relative:p,preventScrollReset:m,viewTransition:v})}},y),{},{"data-discover":I||"render"!==n?void 0:"true"}))}));function mt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function gt(e){let t=r.useContext(Z);return w(t,mt(e)),t}pt.displayName="Form";var vt=0,yt=()=>"__".concat(String(++vt),"__");function wt(){let{router:e}=gt("useSubmit"),{basename:t}=r.useContext(ie),n=Ie("useRouteId");return r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:a,formData:c,body:l}=je(r,t);if(!1===i.navigate){let t=i.fetcherKey||yt();await e.fetch(t,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}new TextEncoder;const bt="Header_fixed__ESQPy",_t="Header_header__container__TDCYE",St="Header_logo__container__M4R51",Et="Header_delivery__h9G2D",It="Header_search__zgCja",kt="Header_order__container__8etyA",Tt="Header_language__BqxEq",Ct="Header_cart__fqIxU",xt="Header_lower__container__4nHIU";var At={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Rt=r.createContext&&r.createContext(At),Pt=["attr","size","title"];function Ot(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nt(){return Nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nt.apply(this,arguments)}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e){return e&&e.map(((e,t)=>r.createElement(e.tag,Lt({key:t},e.attr),Ft(e.child))))}function jt(e){return t=>r.createElement(Ut,Nt({attr:Lt({},e.attr)},t),Ft(e.child))}function Ut(e){var t=t=>{var n,{attr:i,size:o,title:s}=e,a=Ot(e,Pt),c=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Nt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,a,{className:n,style:Lt(Lt({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==Rt?r.createElement(Rt.Consumer,null,(e=>t(e))):t(At)}function Vt(e){return jt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(e)}function zt(e){return jt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(e)}function Bt(e){return jt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(e)}function qt(e){return jt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(e)}var Wt=n(579);const Ht=function(){return(0,Wt.jsx)("div",{className:xt,children:(0,Wt.jsxs)("ul",{children:[(0,Wt.jsxs)("li",{children:[(0,Wt.jsx)(qt,{}),(0,Wt.jsx)("p",{children:"All"})]}),(0,Wt.jsx)("li",{children:"Today's Deals"}),(0,Wt.jsx)("li",{children:"Costumer Service"}),(0,Wt.jsx)("li",{children:"Registry"}),(0,Wt.jsx)("li",{children:"Gift Cards"}),(0,Wt.jsx)("li",{children:"Sell"})]})})},Kt=(0,r.createContext)(),Gt=e=>{let{children:t,reducer:n,initialState:i}=e;return(0,Wt.jsx)(Kt.Provider,{value:(0,r.useReducer)(n,i),children:t})},Qt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Jt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|c>>6,h=63&c;a||(h=64,o||(d=64)),r.push(n[l],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Qt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Yt;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Yt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $t=function(e){return function(e){const t=Qt(e);return Jt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Xt=function(e){try{return Jt.decodeString(e,!0)}catch(oL){console.error("base64Decode failed: ",oL)}return null};function Zt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Zt(e[n],t[n]));return e}function en(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const tn=()=>{try{return en().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(oL){return}const t=e&&Xt(e[1]);return t&&JSON.parse(t)})()}catch(oL){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(oL))}},nn=e=>{var t,n;return null===(n=null===(t=tn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},rn=()=>{var e;return null===(e=tn())||void 0===e?void 0:e.config},on=e=>{var t;return null===(t=tn())||void 0===t?void 0:t["_".concat(e)]};class sn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function an(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function cn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function ln(){var e;const t=null===(e=tn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(oL){return!1}}function un(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}function dn(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function hn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function fn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function pn(){const e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function mn(){return!ln()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gn(){try{return"object"===typeof indexedDB}catch(oL){return!1}}class vn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yn.prototype.create)}}class yn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(wn,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new vn(n,o,t)}}const wn=/\{\$([^}]+)}/g;function bn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _n(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Sn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(En(n)&&En(o)){if(!Sn(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function En(e){return null!==e&&"object"===typeof e}function In(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function kn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Tn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Cn(e,t){const n=new xn(e,t);return n.subscribe.bind(n)}class xn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=An),void 0===r.error&&(r.error=An),void 0===r.complete&&(r.complete=An);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(oL){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(oL){"undefined"!==typeof console&&console.error&&console.error(oL)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function An(){}function Rn(e){return e&&e._delegate?e._delegate:e}class Pn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const On="[DEFAULT]";class Nn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new sn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(oL){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(oL){if(r)return null;throw oL}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:On})}catch(oL){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(oL){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Dn(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On;return this.component?this.component.multipleInstances?e:On:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Dn(e){return e===On?void 0:e}class Ln{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Nn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Mn=[];var Fn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Fn||(Fn={}));const jn={debug:Fn.DEBUG,verbose:Fn.VERBOSE,info:Fn.INFO,warn:Fn.WARN,error:Fn.ERROR,silent:Fn.SILENT},Un=Fn.INFO,Vn={[Fn.DEBUG]:"log",[Fn.VERBOSE]:"log",[Fn.INFO]:"info",[Fn.WARN]:"warn",[Fn.ERROR]:"error"},zn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Vn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Bn{constructor(e){this.name=e,this._logLevel=Un,this._logHandler=zn,this._userLogHandler=null,Mn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?jn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.DEBUG,...t),this._logHandler(this,Fn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.VERBOSE,...t),this._logHandler(this,Fn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.INFO,...t),this._logHandler(this,Fn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.WARN,...t),this._logHandler(this,Fn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.ERROR,...t),this._logHandler(this,Fn.ERROR,...t)}}let qn,Wn;const Hn=new WeakMap,Kn=new WeakMap,Gn=new WeakMap,Qn=new WeakMap,Jn=new WeakMap;let Yn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Kn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Gn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function $n(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Wn||(Wn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(er(this),n),Zn(Hn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zn(e.apply(er(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(er(this),t,...r);return Gn.set(o,t.sort?t.sort():[t]),Zn(o)}}function Xn(e){return"function"===typeof e?$n(e):(e instanceof IDBTransaction&&function(e){if(Kn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Kn.set(e,t)}(e),t=e,(qn||(qn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Yn):e);var t}function Zn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Zn(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Hn.set(t,e)})).catch((()=>{})),Jn.set(t,e),t}(e);if(Qn.has(e))return Qn.get(e);const t=Xn(e);return t!==e&&(Qn.set(e,t),Jn.set(t,e)),t}const er=e=>Jn.get(e);const tr=["get","getKey","getAll","getAllKeys","count"],nr=["put","add","delete","clear"],rr=new Map;function ir(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(rr.get(t))return rr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=nr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!tr.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return rr.set(t,o),o}Yn=(e=>d(d({},e),{},{get:(t,n,r)=>ir(t,n)||e.get(t,n,r),has:(t,n)=>!!ir(t,n)||e.has(t,n)}))(Yn);class or{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const sr="@firebase/app",ar="0.10.16",cr=new Bn("@firebase/app"),lr="@firebase/app-compat",ur="@firebase/analytics-compat",dr="@firebase/analytics",hr="@firebase/app-check-compat",fr="@firebase/app-check",pr="@firebase/auth",mr="@firebase/auth-compat",gr="@firebase/database",vr="@firebase/data-connect",yr="@firebase/database-compat",wr="@firebase/functions",br="@firebase/functions-compat",_r="@firebase/installations",Sr="@firebase/installations-compat",Er="@firebase/messaging",Ir="@firebase/messaging-compat",kr="@firebase/performance",Tr="@firebase/performance-compat",Cr="@firebase/remote-config",xr="@firebase/remote-config-compat",Ar="@firebase/storage",Rr="@firebase/storage-compat",Pr="@firebase/firestore",Or="@firebase/vertexai",Nr="@firebase/firestore-compat",Dr="firebase",Lr="[DEFAULT]",Mr={[sr]:"fire-core",[lr]:"fire-core-compat",[dr]:"fire-analytics",[ur]:"fire-analytics-compat",[fr]:"fire-app-check",[hr]:"fire-app-check-compat",[pr]:"fire-auth",[mr]:"fire-auth-compat",[gr]:"fire-rtdb",[vr]:"fire-data-connect",[yr]:"fire-rtdb-compat",[wr]:"fire-fn",[br]:"fire-fn-compat",[_r]:"fire-iid",[Sr]:"fire-iid-compat",[Er]:"fire-fcm",[Ir]:"fire-fcm-compat",[kr]:"fire-perf",[Tr]:"fire-perf-compat",[Cr]:"fire-rc",[xr]:"fire-rc-compat",[Ar]:"fire-gcs",[Rr]:"fire-gcs-compat",[Pr]:"fire-fst",[Nr]:"fire-fst-compat",[Or]:"fire-vertex","fire-js":"fire-js",[Dr]:"fire-js-all"},Fr=new Map,jr=new Map,Ur=new Map;function Vr(e,t){try{e.container.addComponent(t)}catch(oL){cr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),oL)}}function zr(e,t){e.container.addOrOverwriteComponent(t)}function Br(e){const t=e.name;if(Ur.has(t))return cr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ur.set(t,e);for(const n of Fr.values())Vr(n,e);for(const n of jr.values())Vr(n,e);return!0}function qr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Wr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lr;qr(e,t).clearInstance(n)}function Hr(e){return void 0!==e.options}function Kr(e){return void 0!==e.settings}function Gr(){Ur.clear()}const Qr=new yn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Jr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Pn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}class Yr extends Jr{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,o={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,o,r);else{super(e.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ri(sr,ar,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ni(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Qr.create("server-app-deleted")}}const $r="11.0.2";function Xr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Lr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Qr.create("bad-app-name",{appName:String(i)});if(n||(n=rn()),!n)throw Qr.create("no-options");const o=Fr.get(i);if(o){if(Sn(n,o.options)&&Sn(r,o.config))return o;throw Qr.create("duplicate-app",{appName:i})}const s=new Ln(i);for(const c of Ur.values())s.addComponent(c);const a=new Jr(n,r,s);return Fr.set(i,a),a}function Zr(e,t){if(("undefined"!==typeof window||un())&&!un())throw Qr.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=Hr(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw Qr.create("finalization-registry-not-supported",{});const i=""+(o=JSON.stringify(r),[...o].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var o;const s=jr.get(i);if(s)return s.incRefCount(t.releaseOnDeref),s;const a=new Ln(i);for(const l of Ur.values())a.addComponent(l);const c=new Yr(n,t,i,a);return jr.set(i,c),c}function ei(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr;const t=Fr.get(e);if(!t&&e===Lr&&rn())return Xr();if(!t)throw Qr.create("no-app",{appName:e});return t}function ti(){return Array.from(Fr.values())}async function ni(e){let t=!1;const n=e.name;if(Fr.has(n))t=!0,Fr.delete(n);else if(jr.has(n)){e.decRefCount()<=0&&(jr.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function ri(e,t,n){var r;let i=null!==(r=Mr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void cr.warn(e.join(" "))}Br(new Pn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function ii(e,t){if(null!==e&&"function"!==typeof e)throw Qr.create("invalid-log-argument");!function(e,t){for(const n of Mn){let r=null;t&&t.level&&(r=jn[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Fn[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function oi(e){var t;t=e,Mn.forEach((e=>{e.setLogLevel(t)}))}const si="firebase-heartbeat-store";let ai=null;function ci(){return ai||(ai=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Zn(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Zn(s.result),e.oldVersion,e.newVersion,Zn(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(si)}catch(oL){console.warn(oL)}}}).catch((e=>{throw Qr.create("idb-open",{originalErrorMessage:e.message})}))),ai}async function li(e,t){try{const n=(await ci()).transaction(si,"readwrite"),r=n.objectStore(si);await r.put(t,ui(e)),await n.done}catch(oL){if(oL instanceof vn)cr.warn(oL.message);else{const t=Qr.create("idb-set",{originalErrorMessage:null===oL||void 0===oL?void 0:oL.message});cr.warn(t.message)}}}function ui(e){return"".concat(e.name,"!").concat(e.options.appId)}class di{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fi(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hi();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(oL){cr.warn(oL)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=hi(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),pi(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pi(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=$t(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(oL){return cr.warn(oL),""}}}function hi(){return(new Date).toISOString().substring(0,10)}class fi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!gn()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ci()).transaction(si),n=await t.objectStore(si).get(ui(e));return await t.done,n}catch(oL){if(oL instanceof vn)cr.warn(oL.message);else{const t=Qr.create("idb-get",{originalErrorMessage:null===oL||void 0===oL?void 0:oL.message});cr.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return li(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return li(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function pi(e){return $t(JSON.stringify({version:2,heartbeats:e})).length}var mi;mi="",Br(new Pn("platform-logger",(e=>new or(e)),"PRIVATE")),Br(new Pn("heartbeat",(e=>new di(e)),"PRIVATE")),ri(sr,ar,mi),ri(sr,ar,"esm2017"),ri("fire-js","");class gi{constructor(e,t){this._delegate=e,this.firebase=t,Vr(e,new Pn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),ni(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lr;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lr;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Vr(this._delegate,e)}_addOrOverwriteComponent(e){zr(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const vi=new yn("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const yi=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Xr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(bn(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:ri,setLogLevel:oi,onLog:ii,apps:null,SDK_VERSION:$r,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Br(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw vi.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&Zt(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!bn(n,e=e||Lr))throw vi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(gi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Zt(n,e)},createSubscribe:Cn,ErrorFactory:yn,deepExtend:Zt}),n}(),wi=new Bn("@firebase/app-compat");try{const e=en();if(void 0!==e.firebase){wi.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&wi.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(sL){}const bi=yi;!function(e){ri("@firebase/app-compat","0.2.46",e)}();bi.registerVersion("firebase","11.0.2","app-compat");function _i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Si(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ei=Si,Ii=new yn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ki=new Bn("@firebase/auth");function Ti(e){if(ki.logLevel<=Fn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ki.error("Auth (".concat($r,"): ").concat(e),...n)}}function Ci(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Pi(e,...n)}function xi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Pi(e,...n)}function Ai(e,t,n){const r=Object.assign(Object.assign({},Ei()),{[t]:n});return new yn("auth","Firebase",r).create(t,{appName:e.name})}function Ri(e){return Ai(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ii.create(e,...n)}function Oi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Pi(t,...r)}}function Ni(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ti(t),new Error(t)}function Di(e,t){e||Ni(t)}function Li(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Mi(){return"http:"===Fi()||"https:"===Fi()}function Fi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ji{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile=cn()||fn()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Mi()||hn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ui(e,t){Di(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Vi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Bi=new ji(3e4,6e4);function qi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Wi(e,t,n,r){return Hi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=In(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:a},i);return dn()||(c.referrerPolicy="no-referrer"),Vi.fetch()(Gi(e,e.config.apiHost,n,s),c)}))}async function Hi(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},zi),t);try{const t=new Ji(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Yi(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Yi(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Yi(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Yi(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Ai(e,a,s);Ci(e,a)}}catch(oL){if(oL instanceof vn)throw oL;Ci(e,"network-request-failed",{message:String(oL)})}}async function Ki(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Wi(e,t,n,r,i);return"mfaPendingCredential"in o&&Ci(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Gi(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ui(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Qi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ji{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(xi(this.auth,"network-request-failed"))),Bi.get())}))}}function Yi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xi(e,t,r);return i.customData._tokenResponse=n,i}function $i(e){return void 0!==e&&void 0!==e.enterprise}class Xi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Qi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Zi(e,t){return Wi(e,"GET","/v2/recaptchaConfig",qi(e,t))}async function eo(e,t){return Wi(e,"POST","/v1/accounts:lookup",t)}function to(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(oL){}}function no(e){return 1e3*Number(e)}function ro(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ti("JWT malformed, contained fewer than 3 sections"),null;try{const e=Xt(n);return e?JSON.parse(e):(Ti("Failed to decode base64 JWT payload"),null)}catch(oL){return Ti("Caught error parsing JWT payload as JSON",null===oL||void 0===oL?void 0:oL.toString()),null}}function io(e){const t=ro(e);return Oi(t,"internal-error"),Oi("undefined"!==typeof t.exp,"internal-error"),Oi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function oo(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(oL){throw oL instanceof vn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(oL)&&e.auth.currentUser===e&&await e.auth.signOut(),oL}}class so{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(oL){return void((null===oL||void 0===oL?void 0:oL.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ao{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=to(this.lastLoginAt),this.creationTime=to(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function co(e){var t;const n=e.auth,r=await e.getIdToken(),i=await oo(e,eo(n,{idToken:r}));Oi(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?lo(o.providerUserInfo):[],a=(c=e.providerData,l=s,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ao(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function lo(e){return e.map((e=>{var{providerId:t}=e,n=_i(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oi(e.idToken,"internal-error"),Oi("undefined"!==typeof e.idToken,"internal-error"),Oi("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):io(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oi(0!==e.length,"internal-error");const t=io(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Oi(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Hi(e,{},(async()=>{const n=In({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Gi(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Vi.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new uo;return n&&(Oi("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Oi("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Oi("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return Ni("not implemented")}}function ho(e,t){Oi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class fo{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=_i(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new so(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ao(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await oo(this,this.stsTokenManager.getToken(this.auth,e));return Oi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Rn(e),r=await n.getIdToken(t),i=ro(r);Oi(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:to(no(i.auth_time)),issuedAtTime:to(no(i.iat)),expirationTime:to(no(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Rn(e);await co(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Oi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await co(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kr(this.auth.app))return Promise.reject(Ri(this.auth));const e=await this.getIdToken();return await oo(this,async function(e,t){return Wi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=t;Oi(y&&S,e,"internal-error");const E=uo.fromJSON(this.name,S);Oi("string"===typeof y,e,"internal-error"),ho(u,e.name),ho(d,e.name),Oi("boolean"===typeof w,e,"internal-error"),Oi("boolean"===typeof b,e,"internal-error"),ho(h,e.name),ho(f,e.name),ho(p,e.name),ho(m,e.name),ho(g,e.name),ho(v,e.name);const I=new fo({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new uo;r.updateFromServerResponse(t);const i=new fo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await co(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Oi(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?lo(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new uo;s.updateFromIdToken(n);const a=new fo({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ao(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,c),a}}const po=new Map;function mo(e){Di(e instanceof Function,"Expected a class definition");let t=po.get(e);return t?(Di(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,po.set(e,t),t)}class go{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}go.type="NONE";const vo=go;function yo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class wo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=yo(this.userKey,r.apiKey,i),this.fullPersistenceKey=yo("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new wo(mo(vo),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||mo(vo);const o=yo(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=fo._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(sL){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(sL){}}))),new wo(i,e,n)):new wo(i,e,n)}}function bo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Io(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_o(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(To(t))return"Blackberry";if(Co(t))return"Webos";if(So(t))return"Safari";if((t.includes("chrome/")||Eo(t))&&!t.includes("edge/"))return"Chrome";if(ko(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function _o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/firefox\//i.test(e)}function So(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:an()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Eo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/crios\//i.test(e)}function Io(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/iemobile/i.test(e)}function ko(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/android/i.test(e)}function To(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/blackberry/i.test(e)}function Co(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/webos/i.test(e)}function xo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ao(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return xo(e)||ko(e)||Co(e)||To(e)||/windows phone/i.test(e)||Io(e)}function Ro(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=bo(an());break;case"Worker":t="".concat(bo(an()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat($r,"/").concat(r)}class Po{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(oL){r(oL)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(oL){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===oL||void 0===oL?void 0:oL.message})}}}class Oo{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class No{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lo(this),this.idTokenSubscription=new Lo(this),this.beforeStateQueue=new Po(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ii,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mo(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(oL){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await eo(this,{idToken:e}),n=await fo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(oL){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(oL)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(oL){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await co(e)}catch(oL){if((null===oL||void 0===oL?void 0:oL.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kr(this.app))return Promise.reject(Ri(this));const t=e?Rn(e):null;return t&&Oi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Oi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Kr(this.app)?Promise.reject(Ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kr(this.app)?Promise.reject(Ri(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(mo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Wi(e,"GET","/v2/passwordPolicy",qi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Oo(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Wi(e,"POST","/v2/accounts:revokeToken",qi(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mo(e)||this._popupRedirectResolver;Oi(t,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[mo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oi(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ro(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ki.logLevel<=Fn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ki.warn("Auth (".concat($r,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Do(e){return Rn(e)}class Lo{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cn((e=>this.observer=e))}get next(){return Oi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fo(e){return Mo.loadJS(e)}function jo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Uo{constructor(){this.enterprise=new Vo}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Vo{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zo="NO_RECAPTCHA";class Bo{constructor(e){this.type="recaptcha-enterprise",this.auth=Do(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;$i(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(zo)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Uo).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Zi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Xi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&$i(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Mo.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Fo(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function qo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Bo(e);let s;if(i)s=zo;else try{s=await o.verify(n)}catch(c){s=await o.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Wo(e,t,n,r,i){var o,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await qo(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await qo(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await qo(e,t,n);return r(e,i).catch((async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await qo(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await qo(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Ho(e){const t=Do(e),n=await Zi(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Xi(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Bo(t).verify()}}function Ko(e,t,n){const r=Do(e);Oi(r._canInitEmulator,r,"emulator-config-failed"),Oi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Go(t),{host:s,port:a}=function(e){const t=Go(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Qo(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Qo(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Go(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qo(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Jo{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function Yo(e,t){return Wi(e,"POST","/v1/accounts:signUp",t)}async function $o(e,t){return Ki(e,"POST","/v1/accounts:signInWithPassword",qi(e,t))}class Xo extends Jo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Xo(e,t,"password")}static _fromEmailAndCode(e,t){return new Xo(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Wo(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",$o,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ki(e,"POST","/v1/accounts:signInWithEmailLink",qi(e,t))}(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Wo(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yo,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ki(e,"POST","/v1/accounts:signInWithEmailLink",qi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Zo(e,t){return Ki(e,"POST","/v1/accounts:signInWithIdp",qi(e,t))}class es extends Jo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ci("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=_i(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new es(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Zo(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Zo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zo(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=In(t)}return e}}async function ts(e,t){return Wi(e,"POST","/v1/accounts:sendVerificationCode",qi(e,t))}const ns={USER_NOT_FOUND:"user-not-found"};class rs extends Jo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new rs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new rs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ki(e,"POST","/v1/accounts:signInWithPhoneNumber",qi(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ki(e,"POST","/v1/accounts:signInWithPhoneNumber",qi(e,t));if(n.temporaryProof)throw Yi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ki(e,"POST","/v1/accounts:signInWithPhoneNumber",qi(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ns)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new rs({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class is{constructor(e){var t,n,r,i,o,s;const a=kn(Tn(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Oi(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=kn(Tn(e)).link,n=t?kn(Tn(t)).deep_link_id:null,r=kn(Tn(e)).deep_link_id;return(r?kn(Tn(r)).link:null)||r||n||t||e}(e);try{return new is(t)}catch(sL){return null}}}class os{constructor(){this.providerId=os.PROVIDER_ID}static credential(e,t){return Xo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=is.parseLink(t);return Oi(n,"argument-error"),Xo._fromEmailAndCode(e,n.code,n.tenantId)}}os.PROVIDER_ID="password",os.EMAIL_PASSWORD_SIGN_IN_METHOD="password",os.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ss{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class as extends ss{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cs extends as{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return cs.credential(t.oauthAccessToken)}catch(sL){return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com",cs.PROVIDER_ID="facebook.com";class ls extends as{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return es._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ls.credential(n,r)}catch(sL){return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com",ls.PROVIDER_ID="google.com";class us extends as{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return us.credential(t.oauthAccessToken)}catch(sL){return null}}}us.GITHUB_SIGN_IN_METHOD="github.com",us.PROVIDER_ID="github.com";class ds extends as{constructor(){super("twitter.com")}static credential(e,t){return es._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ds.credential(n,r)}catch(sL){return null}}}async function hs(e,t){return Ki(e,"POST","/v1/accounts:signUp",qi(e,t))}ds.TWITTER_SIGN_IN_METHOD="twitter.com",ds.PROVIDER_ID="twitter.com";class fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await fo._fromIdTokenResponse(e,n,r),o=ps(n);return new fs({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ps(n);return new fs({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ps(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ms extends vn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ms.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ms(e,t,n,r)}}function gs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ms._fromErrorAndOperation(e,n,t,r);throw n}))}async function vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await oo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return fs._forOperation(e,"link",r)}async function ys(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Kr(r.app))return Promise.reject(Ri(r));const i="reauthenticate";try{const o=await oo(e,gs(r,i,t,e),n);Oi(o.idToken,r,"internal-error");const s=ro(o.idToken);Oi(s,r,"internal-error");const{sub:a}=s;return Oi(e.uid===a,r,"user-mismatch"),fs._forOperation(e,i,o)}catch(oL){throw(null===oL||void 0===oL?void 0:oL.code)==="auth/".concat("user-not-found")&&Ci(r,"user-mismatch"),oL}}async function ws(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Kr(e.app))return Promise.reject(Ri(e));const r="signIn",i=await gs(e,r,t),o=await fs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function bs(e,t){return ws(Do(e),t)}async function _s(e){const t=Do(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Ss(e,t){return Wi(e,"POST","/v2/accounts/mfaEnrollment:start",qi(e,t))}new WeakMap;const Es="__sak";class Is{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Es,"1"),this.storage.removeItem(Es),Promise.resolve(!0)):Promise.resolve(!1)}catch(sL){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ks extends Is{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ao(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);pn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ks.type="LOCAL";const Ts=ks;class Cs extends Is{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Cs.type="SESSION";const xs=Cs;class As{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new As(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Rs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}As.receivers=[];class Ps{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=Rs("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Os(){return window}function Ns(){return"undefined"!==typeof Os().WorkerGlobalScope&&"function"===typeof Os().importScripts}const Ds="firebaseLocalStorageDb",Ls="firebaseLocalStorage",Ms="fbase_key";class Fs{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function js(e,t){return e.transaction([Ls],t?"readwrite":"readonly").objectStore(Ls)}function Us(){const e=indexedDB.open(Ds,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ls,{keyPath:Ms})}catch(oL){n(oL)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ls)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ds);return new Fs(e).toPromise()}(),t(await Us()))}))}))}async function Vs(e,t,n){const r=js(e,!0).put({[Ms]:t,value:n});return new Fs(r).toPromise()}function zs(e,t){const n=js(e,!0).delete(t);return new Fs(n).toPromise()}class Bs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Us()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(oL){if(t++>3)throw oL;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ns()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=As._getInstance(Ns()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ps(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(sL){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Us();return await Vs(e,Es,"1"),await zs(e,Es),!0}catch(sL){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Vs(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=js(e,!1).get(t),r=await new Fs(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>zs(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=js(e,!1).getAll();return new Fs(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Bs.type="LOCAL";const qs=Bs;function Ws(e,t){return Wi(e,"POST","/v2/accounts/mfaSignIn:start",qi(e,t))}jo("rcb"),new ji(3e4,6e4);const Hs="recaptcha";async function Ks(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Ho(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Oi("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Wo(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===zo){Oi((null===n||void 0===n?void 0:n.type)===Hs,e,"argument-error");return Ss(e,await Gs(e,t,n))}return Ss(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Oi("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Oi(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Wo(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===zo){Oi((null===n||void 0===n?void 0:n.type)===Hs,e,"argument-error");return Ws(e,await Gs(e,t,n))}return Ws(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Wo(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===zo){Oi((null===n||void 0===n?void 0:n.type)===Hs,e,"argument-error");return ts(e,await Gs(e,t,n))}return ts(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Gs(e,t,n){Oi(n.type===Hs,e,"argument-error");const r=await n.verify();Oi("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Qs{constructor(e){this.providerId=Qs.PROVIDER_ID,this.auth=Do(e)}verifyPhoneNumber(e,t){return Ks(this.auth,e,Rn(t))}static credential(e,t){return rs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Qs.credentialFromTaggedObject(t)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?rs._fromTokenResponse(n,r):null}}function Js(e,t){return t?mo(t):(Oi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Qs.PROVIDER_ID="phone",Qs.PHONE_SIGN_IN_METHOD="phone";class Ys extends Jo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $s(e){return ws(e.auth,new Ys(e),e.bypassAuthState)}function Xs(e){const{auth:t,user:n}=e;return Oi(n,t,"internal-error"),ys(n,new Ys(e),e.bypassAuthState)}async function Zs(e){const{auth:t,user:n}=e;return Oi(n,t,"internal-error"),vs(n,new Ys(e),e.bypassAuthState)}class ea{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(oL){this.reject(oL)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(oL){this.reject(oL)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $s;case"linkViaPopup":case"linkViaRedirect":return Zs;case"reauthViaPopup":case"reauthViaRedirect":return Xs;default:Ci(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ta=new ji(2e3,1e4);class na extends ea{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oi(e,this.auth,"internal-error"),e}async onExecution(){Di(1===this.filter.length,"Popup operations only handle one event");const e=Rs();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(xi(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ta.get())};e()}}na.currentPopupAction=null;const ra=new Map;class ia extends ea{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ra.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=aa(t),r=sa(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(oL){e=()=>Promise.reject(oL)}ra.set(this.auth._key(),e)}return this.bypassAuthState||ra.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function oa(e,t){ra.set(e._key(),t)}function sa(e){return mo(e._redirectPersistence)}function aa(e){return yo("pendingRedirect",e.config.apiKey,e.name)}async function ca(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Kr(e.app))return Promise.reject(Ri(e));const r=Do(e),i=Js(r,t),o=new ia(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class la{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return da(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!da(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(xi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ua(e))}saveEventToCache(e){this.cachedEventUids.add(ua(e)),this.lastProcessedEventTime=Date.now()}}function ua(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function da(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const ha=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fa=/^https?/;async function pa(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Wi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(ma(n))return}catch(sL){}Ci(e,"unauthorized-domain")}function ma(e){const t=Li(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!fa.test(n))return!1;if(ha.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ga=new ji(3e4,6e4);function va(){const e=Os().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ya(e){return new Promise(((t,n)=>{var r,i,o;function s(){va(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{va(),n(xi(e,"network-request-failed"))},timeout:ga.get()})}if(null===(i=null===(r=Os().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Os().gapi)||void 0===o?void 0:o.load)){const t=jo("iframefcb");return Os()[t]=()=>{gapi.load?s():n(xi(e,"network-request-failed"))},Fo("".concat(Mo.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw wa=null,e}))}let wa=null;const ba=new ji(5e3,15e3),_a={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ea(e){const t=e.config;Oi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ui(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:$r},i=Sa.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(In(r).slice(1))}async function Ia(e){const t=await function(e){return wa=wa||ya(e),wa}(e),n=Os().gapi;return Oi(n,e,"internal-error"),t.open({where:document.body,url:Ea(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_a,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=xi(e,"network-request-failed"),o=Os().setTimeout((()=>{r(i)}),ba.get());function s(){Os().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const ka={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ta{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(oL){}}}function Ca(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},ka),{width:r.toString(),height:i.toString(),top:o,left:s}),l=an().toLowerCase();n&&(a=Eo(l)?"_blank":n),_o(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return xo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:an())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Ta(null);const d=window.open(t||"",a,u);Oi(d,e,"popup-blocked");try{d.focus()}catch(oL){}return new Ta(d)}const xa="__/auth/handler",Aa="emulator/auth/handler",Ra=encodeURIComponent("fac");async function Pa(e,t,n,r,i,o){Oi(e.config.authDomain,e,"auth-domain-config-required"),Oi(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:$r,eventId:i};if(t instanceof ss){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",_n(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof as){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(Ra,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(xa);return Ui(t,Aa)}(e),"?").concat(In(a).slice(1)).concat(l)}const Oa="webStorageSupport";const Na=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xs,this._completeRedirectFn=ca,this._overrideRedirectResult=oa}async _openPopup(e,t,n,r){var i;Di(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ca(e,await Pa(e,t,n,Li(),r),Rs())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Os().location.href=e}(await Pa(e,t,n,Li(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Di(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Ia(e),n=new la(e);return t.register("authEvent",(t=>{Oi(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Oa,{type:Oa},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Oa];void 0!==i&&t(!!i),Ci(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pa(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ao()||So()||xo()}};var Da="@firebase/auth",La="1.8.1";class Ma{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Fa=on("authIdTokenMaxAge")||300;let ja=null;var Ua;Mo={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=xi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ua="Browser",Br(new Pn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Oi(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:Ua,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ro(Ua)},l=new No(r,i,o,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Br(new Pn("auth-internal",(e=>(e=>new Ma(e))(Do(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ri(Da,La,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ua)),ri(Da,La,"esm2017");var Va,za,Ba="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},qa={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),c=o(1),l=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(c)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=c,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var l=o.add(r);0>=l.l(e)&&(i=i.add(n),o=l),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),l=(o=s(n)).j(t);d(l)||0<l.l(e);)l=(o=s(n-=r)).j(t);u(o)&&(o=c),i=i.add(o),e=f(e,l)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(l)&&0>e.l(l))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var c=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=c*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=c*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,za=qa.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var c=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+c),n);8>c?(c=s(Math.pow(n,c)),i=i.j(c).add(s(l))):i=(i=i.j(r)).add(s(l))}return i},Va=qa.Integer=r}).apply("undefined"!==typeof Ba?Ba:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Wa,Ha,Ka,Ga,Qa,Ja,Ya,$a,Xa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Za={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Xa&&Xa];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function c(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function l(e,t,n){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:c).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout((()=>{throw e}),0)}function I(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,x=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(P)}};var P=()=>{for(var e;e=I();){try{e.h.call(e.g)}catch(n){E(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}x=!1};function O(){this.s=this.s,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,N);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=q(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,s(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,c=Z(e);if(c||(e[W]=c=new z(e)),(n=c.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,s(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function J(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)J(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(o=e.g[t],n,r,i))&&(V(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):V(e)}}}function $(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var i=t;_(t=new N(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(s=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,c=s.ha||s.src;s.fa&&B(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=l(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,O),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){J(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ce(e){O.call(this),this.h=e,this.g={}}d(ce,O);var le=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}ce.prototype.N=function(){ce.aa.N.call(this),ue(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){N.call(this,"d")}function we(){N.call(this,"c")}d(ye,N),d(we,N);var be={},_e=null;function Se(){return _e=_e||new ne}function Ee(e){N.call(this,be.La,e)}function Ie(e){const t=Se();re(t,new Ee(t))}function ke(e,t){N.call(this,be.STAT_EVENT,e),this.stat=t}function Te(e){const t=Se();re(t,new ke(t,e))}function Ce(e,t){N.call(this,be.Ma,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",d(Ee,N),be.STAT_EVENT="statevent",d(ke,N),be.Ma="timingevent",d(Ce,N),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Pe,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ce(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Pe=new De;var Fe={},je={};function Ue(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(l(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(le[0]=i.toString()),i=le);for(var o=0;o<i.length;o++){var s=K(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ie(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=xe(l(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||cn(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Yt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=xe(l(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.T=l[0],l=l[1],2==n.G)if("c"==l[0]){n.K=l[1],n.ia=l[2];const t=l[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=l[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,c=r.L;c&&(a.I=c),a.B&&(He(a),qe(a)),r.g=s}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=l[0]&&"close"!=l[0]||un(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?un(n,7):Jt(n):"noop"!=l[0]&&n.l&&n.l.ta(l),n.v=0)}Ie()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||Ie(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Kt(this.g);e="";var o=r.length,s=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(c)){var u=c;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ge(this),Ke(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==je){4==h&&(this.s=4,Te(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Te(15),Re(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),on(d),d.M=!0,Te(11))}}else Re(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Re(this.i,this.l,a,null),Qe(this,a);4==h&&Ge(this),this.o&&!this.J&&(4==h?cn(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ge(this),Ke(this)}}}catch(ec){}},Le.prototype.cancel=function(){this.J=!0,Ge(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ie(),Te(17)),Ge(this),this.s=2,Ke(this)):We(this,this.S-e)};var Je=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,ct(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),lt(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),ct(this,t[4]),this.l=ht(t[5]||"",!0),lt(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function st(e){return new ot(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ct(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function lt(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,wt)),e.i=new _t(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,wt=/[#\?@]/g,bt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){St(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function It(e,t){return St(e),t=Tt(e,t),e.g.has(t)}function kt(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function xt(){this.g=new fe}function At(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;s(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(oL){throw t.push(r+"type="+encodeURIComponent("_badmap")),oL}}function Rt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Nt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){St(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)It(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,It(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(Rt,pe),Rt.prototype.g=function(){return new Pt(this.l,this.j)},Rt.prototype.i=(mt={},function(){return mt}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nt(this):Dt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Nt(this))},e.Qa=function(e){this.g&&(this.response=e,Nt(this))},e.ga=function(){this.g&&Nt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ft,ne);var jt=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),qt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!jt.test(s?s.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Ht(e)?e.g.statusText:""}catch(c){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Wt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(oL){}}}function Wt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(rc){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new xt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Jt(e){if($t(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function Yt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function $t(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||R(),x||(C(),x=!0),A.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?l(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{At(a,e,"req"+n+"_")}catch(ec){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||R(),x||(C(),x=!0),A.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=xe(l(e.Fa,e),ln(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ve(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function cn(e,t){var n=null;if(e.g==t){an(e),on(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ce(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=xe(l(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),$t(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof ot?st(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ct(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new ot(null);r&&at(s,r),t&&(s.g=t),o&&ct(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Rt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){we.call(this),this.status=1}function wn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Vt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Vt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let o=this.o;if(this.S&&(o?(o=w(o),_(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Lt(o)))+"&"+t:this.m&&Mt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||$e(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=xe(l(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Yt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Jt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Je(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,we),d(wn,pn),wn.prototype.ua=function(){re(this.g,"a")},wn.prototype.ta=function(e){re(this.g,new vn(e))},wn.prototype.sa=function(e){re(this.g,new yn)},wn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,$a=Za.createWebChannelTransport=function(){return new mn},Ya=Za.getStatEventTarget=function(){return Se()},Ja=Za.Event=be,Qa=Za.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Ga=Za.ErrorCode=Oe,Ne.COMPLETE="complete",Ka=Za.EventType=Ne,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Ha=Za.WebChannel=ge,Za.FetchXmlHttpFactory=Rt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Wa=Za.XhrIo=Ft}).apply("undefined"!==typeof Xa?Xa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ec="@firebase/firestore";class tc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tc.UNAUTHENTICATED=new tc(null),tc.GOOGLE_CREDENTIALS=new tc("google-credentials-uid"),tc.FIRST_PARTY=new tc("first-party-uid"),tc.MOCK_USER=new tc("mock-user");let nc="11.0.2";const rc=new Bn("@firebase/firestore");function ic(){return rc.logLevel}function oc(e){if(rc.logLevel<=Fn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cc);rc.debug("Firestore (".concat(nc,"): ").concat(e),...i)}}function sc(e){if(rc.logLevel<=Fn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cc);rc.error("Firestore (".concat(nc,"): ").concat(e),...i)}}function ac(e){if(rc.logLevel<=Fn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cc);rc.warn("Firestore (".concat(nc,"): ").concat(e),...i)}}function cc(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function lc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(nc,") INTERNAL ASSERTION FAILED: ")+e;throw sc(t),new Error(t)}function uc(e,t){e||lc()}function dc(e,t){return e}const hc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fc extends vn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class pc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class mc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class gc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(tc.UNAUTHENTICATED)))}shutdown(){}}class vc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class yc{constructor(e){this.t=e,this.currentUser=tc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){uc(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new pc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new pc,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{oc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(oc("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new pc)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(oc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(uc("string"==typeof t.accessToken),new mc(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return uc(null===e||"string"==typeof e),new tc(e)}}class wc{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=tc.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class bc{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new wc(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(tc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _c{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){uc(void 0===this.o);const n=e=>{null!=e.error&&oc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,oc("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{oc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):oc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(uc("string"==typeof e.token),this.R=e.token,new _c(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ec(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ic{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ec(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function kc(e,t){return e<t?-1:e>t?1:0}function Tc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Cc(e){return e+"\0"}class xc{static now(){return xc.fromMillis(Date.now())}static fromDate(e){return xc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new xc(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fc(hc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fc(hc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fc(hc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fc(hc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kc(this.nanoseconds,e.nanoseconds):kc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ac{static fromTimestamp(e){return new Ac(e)}static min(){return new Ac(new xc(0,0))}static max(){return new Ac(new xc(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rc{constructor(e,t,n){void 0===t?t=0:t>e.length&&lc(),void 0===n?n=e.length-t:n>e.length-t&&lc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Rc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rc?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pc extends Rc{construct(e,t,n){return new Pc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new fc(hc.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Pc(e)}static emptyPath(){return new Pc([])}}const Oc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nc extends Rc{construct(e,t,n){return new Nc(e,t,n)}static isValidIdentifier(e){return Oc.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nc.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Nc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new fc(hc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new fc(hc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new fc(hc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new fc(hc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nc(t)}static emptyPath(){return new Nc([])}}class Dc{constructor(e){this.path=e}static fromPath(e){return new Dc(Pc.fromString(e))}static fromName(e){return new Dc(Pc.fromString(e).popFirst(5))}static empty(){return new Dc(Pc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dc(new Pc(e.slice()))}}class Lc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Mc(e){return e.fields.find((e=>2===e.kind))}function Fc(e){return e.fields.filter((e=>2!==e.kind))}Lc.UNKNOWN_ID=-1;class jc{constructor(e,t){this.fieldPath=e,this.kind=t}}class Uc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Uc(0,Bc.min())}}function Vc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ac.fromTimestamp(1e9===r?new xc(n+1,0):new xc(n,r));return new Bc(i,Dc.empty(),t)}function zc(e){return new Bc(e.readTime,e.key,-1)}class Bc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Bc(Ac.min(),Dc.empty(),-1)}static max(){return new Bc(Ac.max(),Dc.empty(),-1)}}function qc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Dc.comparator(e.documentKey,t.documentKey),0!==n?n:kc(e.largestBatchId,t.largestBatchId))}const Wc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Kc(e){if(e.code!==hc.FAILED_PRECONDITION||e.message!==Wc)throw e;oc("LocalStore","Unexpectedly lost primary lease")}class Gc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Gc(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Gc?t:Gc.resolve(t)}catch(e){return Gc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Gc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Gc.reject(t)}static resolve(e){return new Gc(((t,n)=>{t(e)}))}static reject(e){return new Gc(((t,n)=>{n(e)}))}static waitFor(e){return new Gc(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Gc.resolve(!1);for(const n of e)t=t.next((e=>e?Gc.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Gc(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{o[c]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Gc(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Qc{static open(e,t,n,r){try{return new Qc(t,e.transaction(r,n))}catch(e){throw new Xc(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new pc,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Xc(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=rl(t.target.error);this.V.reject(new Xc(e,n))}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(oc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new el(t)}}class Jc{static delete(e){return oc("SimpleDb","Removing database:",e),tl(window.indexedDB.deleteDatabase(e)).toPromise()}static p(){if(!gn())return!1;if(Jc.S())return!0;const e=an(),t=Jc.D(e),n=0<t&&t<10,r=Yc(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static C(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.F=n,12.2===Jc.D(an())&&sc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async M(e){return this.db||(oc("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Xc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new fc(hc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new fc(hc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Xc(e,r))},r.onupgradeneeded=e=>{oc("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.F.O(t,r.transaction,e.oldVersion,this.version).next((()=>{oc("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.M(e);const t=Qc.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Gc.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(oc("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Yc(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class $c{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return tl(this.B.delete())}}class Xc extends fc{constructor(e,t){super(hc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Zc(e){return"IndexedDbTransactionError"===e.name}class el{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(oc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(oc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),tl(n)}add(e){return oc("SimpleDb","ADD",this.store.name,e,e),tl(this.store.add(e))}get(e){return tl(this.store.get(e)).next((t=>(void 0===t&&(t=null),oc("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return oc("SimpleDb","DELETE",this.store.name,e),tl(this.store.delete(e))}count(){return oc("SimpleDb","COUNT",this.store.name),tl(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Gc(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Gc(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){oc("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new Gc(((n,r)=>{t.onerror=e=>{const t=rl(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new Gc(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new $c(i),s=t(i.primaryKey,i.value,o);if(s instanceof Gc){const e=s.catch((e=>(o.done(),Gc.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>Gc.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function tl(e){return new Gc(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=rl(e.target.error);n(t)}}))}let nl=!1;function rl(e){const t=Jc.D(an());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new fc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return nl||(nl=!0,setTimeout((()=>{throw e}),0)),e}}return e}class il{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){oc("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{oc("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){Zc(e)?oc("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Kc(e)}await this.X(6e4)}))}}class ol{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return Gc.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return oc("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(oc("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=zc(t);qc(r,n)>0&&(n=r)})),new Bc(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class sl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function al(e){return null==e}function cl(e){return 0===e&&1/e==-1/0}function ll(e){return"number"==typeof e&&Number.isInteger(e)&&!cl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function ul(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hl(t)),t=dl(e.get(n),t);return hl(t)}function dl(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function hl(e){return e+"\x01\x01"}function fl(e){const t=e.length;if(uc(t>=2),2===t)return uc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Pc.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&lc(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:lc()}o=t+2}return new Pc(r)}sl.oe=-1;const pl=["userId","batchId"];function ml(e,t){return[e,ul(t)]}function gl(e,t,n){return[e,ul(t),n]}const vl={},yl=["prefixPath","collectionGroup","readTime","documentId"],wl=["prefixPath","collectionGroup","documentId"],bl=["collectionGroup","readTime","prefixPath","documentId"],_l=["canonicalId","targetId"],Sl=["targetId","path"],El=["path","targetId"],Il=["collectionId","parent"],kl=["indexId","uid"],Tl=["uid","sequenceNumber"],Cl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xl=["indexId","uid","orderedDocumentKey"],Al=["userId","collectionPath","documentId"],Rl=["userId","collectionPath","largestBatchId"],Pl=["userId","collectionGroup","largestBatchId"],Ol=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Nl=[...Ol,"documentOverlays"],Dl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ll=Dl,Ml=[...Ll,"indexConfiguration","indexState","indexEntries"],Fl=Ml,jl=[...Ml,"globals"];class Ul extends Hc{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Vl(e,t){const n=dc(e);return Jc.C(n._e,t)}function zl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ql(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Wl{constructor(e,t){this.comparator=e,this.root=t||Kl.EMPTY}insert(e,t){return new Wl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kl.BLACK,null,null))}remove(e){return new Wl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hl(this.root,e,this.comparator,!0)}}class Hl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Kl.RED,this.left=null!=r?r:Kl.EMPTY,this.right=null!=i?i:Kl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Kl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Kl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lc();if(this.right.isRed())throw lc();const e=this.left.check();if(e!==this.right.check())throw lc();return e+(this.isRed()?0:1)}}Kl.EMPTY=null,Kl.RED=!0,Kl.BLACK=!1,Kl.EMPTY=new class{constructor(){this.size=0}get key(){throw lc()}get value(){throw lc()}get color(){throw lc()}get left(){throw lc()}get right(){throw lc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Kl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gl{constructor(e){this.comparator=e,this.data=new Wl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ql(this.data.getIterator())}getIteratorFrom(e){return new Ql(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Gl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Gl(this.comparator);return t.data=e,t}}class Ql{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jl(e){return e.hasNext()?e.getNext():void 0}class Yl{constructor(e){this.fields=e,e.sort(Nc.comparator)}static empty(){return new Yl([])}unionWith(e){let t=new Gl(Nc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Yl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class $l extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $l("Invalid base64 string: "+e):e}}(e);return new Xl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Xl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xl.EMPTY_BYTE_STRING=new Xl("");const Zl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eu(e){if(uc(!!e),"string"==typeof e){let t=0;const n=Zl.exec(e);if(uc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:tu(e.seconds),nanos:tu(e.nanos)}}function tu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function nu(e){return"string"==typeof e?Xl.fromBase64String(e):Xl.fromUint8Array(e)}function ru(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function iu(e){const t=e.mapValue.fields.__previous_value__;return ru(t)?iu(t):t}function ou(e){const t=eu(e.mapValue.fields.__local_write_time__.timestampValue);return new xc(t.seconds,t.nanos)}class su{constructor(e,t,n,r,i,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=c}}class au{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new au("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}const cu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lu={nullValue:"NULL_VALUE"};function uu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ru(e)?4:Cu(e)?9007199254740991:ku(e)?10:11:lc()}function du(e,t){if(e===t)return!0;const n=uu(e);if(n!==uu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ou(e).isEqual(ou(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=eu(e.timestampValue),r=eu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return nu(e.bytesValue).isEqual(nu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return tu(e.geoPointValue.latitude)===tu(t.geoPointValue.latitude)&&tu(e.geoPointValue.longitude)===tu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return tu(e.integerValue)===tu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=tu(e.doubleValue),r=tu(t.doubleValue);return n===r?cl(n)===cl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Tc(e.arrayValue.values||[],t.arrayValue.values||[],du);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(zl(n)!==zl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!du(n[i],r[i])))return!1;return!0}(e,t);default:return lc()}}function hu(e,t){return void 0!==(e.values||[]).find((e=>du(e,t)))}function fu(e,t){if(e===t)return 0;const n=uu(e),r=uu(t);if(n!==r)return kc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=tu(e.integerValue||e.doubleValue),r=tu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return pu(e.timestampValue,t.timestampValue);case 4:return pu(ou(e),ou(t));case 5:return kc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=nu(e),r=nu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=kc(n[i],r[i]);if(0!==e)return e}return kc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=kc(tu(e.latitude),tu(t.latitude));return 0!==n?n:kc(tu(e.longitude),tu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return mu(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},c=null===(n=s.value)||void 0===n?void 0:n.arrayValue,l=null===(r=a.value)||void 0===r?void 0:r.arrayValue,u=kc((null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0,(null===(o=null==l?void 0:l.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:mu(c,l)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===cu.mapValue&&t===cu.mapValue)return 0;if(e===cu.mapValue)return 1;if(t===cu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=kc(r[s],o[s]);if(0!==e)return e;const t=fu(n[r[s]],i[o[s]]);if(0!==t)return t}return kc(r.length,o.length)}(e.mapValue,t.mapValue);default:throw lc()}}function pu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return kc(e,t);const n=eu(e),r=eu(t),i=kc(n.seconds,r.seconds);return 0!==i?i:kc(n.nanos,r.nanos)}function mu(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=fu(n[i],r[i]);if(e)return e}return kc(n.length,r.length)}function gu(e){return vu(e)}function vu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=eu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return nu(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Dc.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=vu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(vu(e.fields[i]));return n+"}"}(e.mapValue):lc()}function yu(e){switch(uu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=iu(e);return t?16+yu(t):16;case 5:return 2*e.stringValue.length;case 6:return nu(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+yu(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Bl(e.fields,((e,n)=>{t+=e.length+yu(n)})),t}(e.mapValue);default:throw lc()}}function wu(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function bu(e){return!!e&&"integerValue"in e}function _u(e){return!!e&&"arrayValue"in e}function Su(e){return!!e&&"nullValue"in e}function Eu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Iu(e){return!!e&&"mapValue"in e}function ku(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Bl(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Tu(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Tu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Cu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}const xu={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Au(e){return"nullValue"in e?lu:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?wu(au.empty(),Dc.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?ku(e)?xu:{mapValue:{}}:lc()}function Ru(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?wu(au.empty(),Dc.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?xu:"mapValue"in e?ku(e)?{mapValue:{}}:cu:lc()}function Pu(e,t){const n=fu(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ou(e,t){const n=fu(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Nu{constructor(e){this.value=e}static empty(){return new Nu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Iu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(t)}setAll(e){let t=Nc.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Tu(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Iu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return du(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Iu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Bl(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Nu(Tu(this.value))}}function Du(e){const t=[];return Bl(e.fields,((e,n)=>{const r=new Nc([e]);if(Iu(n)){const e=Du(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Yl(t)}class Lu{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Lu(e,0,Ac.min(),Ac.min(),Ac.min(),Nu.empty(),0)}static newFoundDocument(e,t,n,r){return new Lu(e,1,t,Ac.min(),n,r,0)}static newNoDocument(e,t){return new Lu(e,2,t,Ac.min(),Ac.min(),Nu.empty(),0)}static newUnknownDocument(e,t){return new Lu(e,3,t,Ac.min(),Ac.min(),Nu.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ac.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ac.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Lu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Mu{constructor(e,t){this.position=e,this.inclusive=t}}function Fu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Dc.comparator(Dc.fromName(s.referenceValue),n.key):fu(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ju(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!du(e.position[n],t.position[n]))return!1;return!0}class Uu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Vu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class zu{}class Bu extends zu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Xu(e,t,n):"array-contains"===t?new nd(e,n):"in"===t?new rd(e,n):"not-in"===t?new id(e,n):"array-contains-any"===t?new od(e,n):new Bu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Zu(e,n):new ed(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fu(t,this.value)):null!==t&&uu(this.value)===uu(t)&&this.matchesComparison(fu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qu extends zu{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new qu(e,t)}matches(e){return Wu(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Wu(e){return"and"===e.op}function Hu(e){return"or"===e.op}function Ku(e){return Gu(e)&&Wu(e)}function Gu(e){for(const t of e.filters)if(t instanceof qu)return!1;return!0}function Qu(e){if(e instanceof Bu)return e.field.canonicalString()+e.op.toString()+gu(e.value);if(Ku(e))return e.filters.map((e=>Qu(e))).join(",");{const t=e.filters.map((e=>Qu(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ju(e,t){return e instanceof Bu?function(e,t){return t instanceof Bu&&e.op===t.op&&e.field.isEqual(t.field)&&du(e.value,t.value)}(e,t):e instanceof qu?function(e,t){return t instanceof qu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ju(n,t.filters[r])),!0)}(e,t):void lc()}function Yu(e,t){const n=e.filters.concat(t);return qu.create(n,e.op)}function $u(e){return e instanceof Bu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(gu(e.value))}(e):e instanceof qu?function(e){return e.op.toString()+" {"+e.getFilters().map($u).join(" ,")+"}"}(e):"Filter"}class Xu extends Bu{constructor(e,t,n){super(e,t,n),this.key=Dc.fromName(n.referenceValue)}matches(e){const t=Dc.comparator(e.key,this.key);return this.matchesComparison(t)}}class Zu extends Bu{constructor(e,t){super(e,"in",t),this.keys=td("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ed extends Bu{constructor(e,t){super(e,"not-in",t),this.keys=td("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function td(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Dc.fromName(e.referenceValue)))}class nd extends Bu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _u(t)&&hu(t.arrayValue,this.value)}}class rd extends Bu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hu(this.value.arrayValue,t)}}class id extends Bu{constructor(e,t){super(e,"not-in",t)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hu(this.value.arrayValue,t)}}class od extends Bu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_u(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>hu(this.value.arrayValue,e)))}}class sd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function ad(e){return new sd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function cd(e){const t=dc(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Qu(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),al(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>gu(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>gu(e))).join(",")),t.ue=e}return t.ue}function ld(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Vu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ju(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ju(e.startAt,t.startAt)&&ju(e.endAt,t.endAt)}function ud(e){return Dc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function dd(e,t){return e.filters.filter((e=>e instanceof Bu&&e.field.isEqual(t)))}function hd(e,t,n){let r=lu,i=!0;for(const o of dd(e,t)){let e=lu,t=!0;switch(o.op){case"<":case"<=":e=Au(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=lu}Pu({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Pu({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function fd(e,t,n){let r=cu,i=!0;for(const o of dd(e,t)){let e=cu,t=!0;switch(o.op){case">=":case">":e=Ru(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=cu}Ou({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Ou({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class pd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function md(e,t,n,r,i,o,s,a){return new pd(e,t,n,r,i,o,s,a)}function gd(e){return new pd(e)}function vd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function yd(e){return null!==e.collectionGroup}function wd(e){const t=dc(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Gl(Nc.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Uu(r,n))})),e.has(Nc.keyField().canonicalString())||t.ce.push(new Uu(Nc.keyField(),n))}return t.ce}function bd(e){const t=dc(e);return t.le||(t.le=_d(t,wd(e))),t.le}function _d(e,t){if("F"===e.limitType)return ad(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Uu(e.field,t)}));const n=e.endAt?new Mu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Mu(e.startAt.position,e.startAt.inclusive):null;return ad(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Sd(e,t){const n=e.filters.concat([t]);return new pd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ed(e,t,n){return new pd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Id(e,t){return ld(bd(e),bd(t))&&e.limitType===t.limitType}function kd(e){return"".concat(cd(bd(e)),"|lt:").concat(e.limitType)}function Td(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>$u(e))).join(", "),"]")),al(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>gu(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>gu(e))).join(",")),"Target(".concat(t,")")}(bd(e)),"; limitType=").concat(e.limitType,")")}function Cd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Dc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of wd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Fu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,wd(e),t))&&!(e.endAt&&!function(e,t,n){const r=Fu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,wd(e),t))}(e,t)}function xd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ad(e){return(t,n)=>{let r=!1;for(const i of wd(e)){const e=Rd(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Rd(e,t,n){const r=e.field.isKeyField()?Dc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?fu(r,i):lc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return lc()}}class Pd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Bl(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ql(this.inner)}size(){return this.innerSize}}const Od=new Wl(Dc.comparator);function Nd(){return Od}const Dd=new Wl(Dc.comparator);function Ld(){let e=Dd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Md(e){let t=Dd;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Fd(){return Ud()}function jd(){return Ud()}function Ud(){return new Pd((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Vd=new Wl(Dc.comparator),zd=new Gl(Dc.comparator);function Bd(){let e=zd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const qd=new Gl(kc);function Wd(){return qd}function Hd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cl(t)?"-0":t}}function Kd(e){return{integerValue:""+e}}function Gd(e,t){return ll(t)?Kd(t):Hd(e,t)}class Qd{constructor(){this._=void 0}}function Jd(e,t,n){return e instanceof Xd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ru(t)&&(t=iu(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Zd?eh(e,t):e instanceof th?nh(e,t):function(e,t){const n=$d(e,t),r=ih(n)+ih(e.Pe);return bu(n)&&bu(e.Pe)?Kd(r):Hd(e.serializer,r)}(e,t)}function Yd(e,t,n){return e instanceof Zd?eh(e,t):e instanceof th?nh(e,t):n}function $d(e,t){return e instanceof rh?function(e){return bu(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Xd extends Qd{}class Zd extends Qd{constructor(e){super(),this.elements=e}}function eh(e,t){const n=oh(t);for(const r of e.elements)n.some((e=>du(e,r)))||n.push(r);return{arrayValue:{values:n}}}class th extends Qd{constructor(e){super(),this.elements=e}}function nh(e,t){let n=oh(t);for(const r of e.elements)n=n.filter((e=>!du(e,r)));return{arrayValue:{values:n}}}class rh extends Qd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ih(e){return tu(e.integerValue||e.doubleValue)}function oh(e){return _u(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class sh{constructor(e,t){this.field=e,this.transform=t}}class ah{constructor(e,t){this.version=e,this.transformResults=t}}class ch{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ch}static exists(e){return new ch(void 0,e)}static updateTime(e){return new ch(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class uh{}function dh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new _h(e.key,ch.none()):new gh(e.key,e.data,ch.none());{const n=e.data,r=Nu.empty();let i=new Gl(Nc.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new vh(e.key,r,new Yl(i.toArray()),ch.none())}}function hh(e,t,n){e instanceof gh?function(e,t,n){const r=e.value.clone(),i=wh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vh?function(e,t,n){if(!lh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=wh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(yh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fh(e,t,n,r){return e instanceof gh?function(e,t,n,r){if(!lh(e.precondition,t))return n;const i=e.value.clone(),o=bh(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof vh?function(e,t,n,r){if(!lh(e.precondition,t))return n;const i=bh(e.fieldTransforms,r,t),o=t.data;return o.setAll(yh(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return lh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ph(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=$d(r.transform,e||null);null!=i&&(null===n&&(n=Nu.empty()),n.set(r.field,i))}return n||null}function mh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Tc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zd&&t instanceof Zd||e instanceof th&&t instanceof th?Tc(e.elements,t.elements,du):e instanceof rh&&t instanceof rh?du(e.Pe,t.Pe):e instanceof Xd&&t instanceof Xd}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class gh extends uh{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class vh extends uh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yh(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function wh(e,t,n){const r=new Map;uc(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Yd(s,a,n[i]))}return r}function bh(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Jd(e,o,t))}return r}class _h extends uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sh extends uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Eh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&hh(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=fh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=fh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=jd();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=dh(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Ac.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Bd())}isEqual(e){return this.batchId===e.batchId&&Tc(this.mutations,e.mutations,((e,t)=>mh(e,t)))&&Tc(this.baseMutations,e.baseMutations,((e,t)=>mh(e,t)))}}class Ih{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){uc(e.mutations.length===n.length);let r=Vd;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Ih(e,t,n,r)}}class kh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Th{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ch,xh;function Ah(e){switch(e){default:return lc();case hc.CANCELLED:case hc.UNKNOWN:case hc.DEADLINE_EXCEEDED:case hc.RESOURCE_EXHAUSTED:case hc.INTERNAL:case hc.UNAVAILABLE:case hc.UNAUTHENTICATED:return!1;case hc.INVALID_ARGUMENT:case hc.NOT_FOUND:case hc.ALREADY_EXISTS:case hc.PERMISSION_DENIED:case hc.FAILED_PRECONDITION:case hc.ABORTED:case hc.OUT_OF_RANGE:case hc.UNIMPLEMENTED:case hc.DATA_LOSS:return!0}}function Rh(e){if(void 0===e)return sc("GRPC error has no .code"),hc.UNKNOWN;switch(e){case Ch.OK:return hc.OK;case Ch.CANCELLED:return hc.CANCELLED;case Ch.UNKNOWN:return hc.UNKNOWN;case Ch.DEADLINE_EXCEEDED:return hc.DEADLINE_EXCEEDED;case Ch.RESOURCE_EXHAUSTED:return hc.RESOURCE_EXHAUSTED;case Ch.INTERNAL:return hc.INTERNAL;case Ch.UNAVAILABLE:return hc.UNAVAILABLE;case Ch.UNAUTHENTICATED:return hc.UNAUTHENTICATED;case Ch.INVALID_ARGUMENT:return hc.INVALID_ARGUMENT;case Ch.NOT_FOUND:return hc.NOT_FOUND;case Ch.ALREADY_EXISTS:return hc.ALREADY_EXISTS;case Ch.PERMISSION_DENIED:return hc.PERMISSION_DENIED;case Ch.FAILED_PRECONDITION:return hc.FAILED_PRECONDITION;case Ch.ABORTED:return hc.ABORTED;case Ch.OUT_OF_RANGE:return hc.OUT_OF_RANGE;case Ch.UNIMPLEMENTED:return hc.UNIMPLEMENTED;case Ch.DATA_LOSS:return hc.DATA_LOSS;default:return lc()}}(xh=Ch||(Ch={}))[xh.OK=0]="OK",xh[xh.CANCELLED=1]="CANCELLED",xh[xh.UNKNOWN=2]="UNKNOWN",xh[xh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xh[xh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xh[xh.NOT_FOUND=5]="NOT_FOUND",xh[xh.ALREADY_EXISTS=6]="ALREADY_EXISTS",xh[xh.PERMISSION_DENIED=7]="PERMISSION_DENIED",xh[xh.UNAUTHENTICATED=16]="UNAUTHENTICATED",xh[xh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xh[xh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xh[xh.ABORTED=10]="ABORTED",xh[xh.OUT_OF_RANGE=11]="OUT_OF_RANGE",xh[xh.UNIMPLEMENTED=12]="UNIMPLEMENTED",xh[xh.INTERNAL=13]="INTERNAL",xh[xh.UNAVAILABLE=14]="UNAVAILABLE",xh[xh.DATA_LOSS=15]="DATA_LOSS";let Ph=null;function Oh(){return new TextEncoder}const Nh=new Va([4294967295,4294967295],0);function Dh(e){const t=Oh().encode(e),n=new za;return n.update(t),new Uint8Array(n.digest())}function Lh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Va([n,r],0),new Va([i,o],0)]}class Mh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Fh("Invalid padding: ".concat(t));if(n<0)throw new Fh("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Fh("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Fh("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ie=Va.fromNumber(this.Te)}Ee(e,t,n){let r=e.add(t.multiply(Va.fromNumber(n)));return 1===r.compare(Nh)&&(r=new Va([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Dh(e),[n,r]=Lh(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Mh(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=Dh(e),[n,r]=Lh(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jh{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Uh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new jh(Ac.min(),r,new Wl(kc),Nd(),Bd())}}class Uh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Uh(n,t,Bd(),Bd(),Bd())}}class Vh{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class zh{constructor(e,t){this.targetId=e,this.me=t}}class Bh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class qh{constructor(){this.fe=0,this.ge=Kh(),this.pe=Xl.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Bd(),t=Bd(),n=Bd();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:lc()}})),new Uh(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Kh()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,uc(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Wh{constructor(e){this.Le=e,this.Be=new Map,this.ke=Nd(),this.qe=Hh(),this.Qe=Hh(),this.Ke=new Wl(kc)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:lc()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.me.count,r=this.Ye(t);if(r){const i=r.target;if(ud(i))if(0===n){const e=new Dc(i.path);this.We(t,e,Lu.newNoDocument(e,Ac.min()))}else uc(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Ph||Ph.tt(function(e,t,n,r,i){var o,s,a,c,l,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(c=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==h?void 0:h.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.nt(),n,i))}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=nu(n).toUint8Array()}catch(e){if(e instanceof $l)return ac("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Mh(o,r,i)}catch(e){return ac(e instanceof Fh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&ud(i.target)){const t=new Dc(i.target.path);this.st(t).has(r)||this.ot(r,t)||this.We(r,t,Lu.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Bd();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new jh(e,t,this.Ke,this.ke,n);return this.ke=Nd(),this.qe=Hh(),this.Qe=Hh(),this.Ke=new Wl(kc),r}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new qh,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Gl(kc),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Gl(kc),this.qe=this.qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||oc("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new qh),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Hh(){return new Wl(Dc.comparator)}function Kh(){return new Wl(Dc.comparator)}const Gh={asc:"ASCENDING",desc:"DESCENDING"},Qh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jh={and:"AND",or:"OR"};class Yh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $h(e,t){return e.useProto3Json||al(t)?t:{value:t}}function Xh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ef(e,t){return Xh(e,t.toTimestamp())}function tf(e){return uc(!!e),Ac.fromTimestamp(function(e){const t=eu(e);return new xc(t.seconds,t.nanos)}(e))}function nf(e,t){return rf(e,t).canonicalString()}function rf(e,t){const n=function(e){return new Pc(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function of(e){const t=Pc.fromString(e);return uc(Cf(t)),t}function sf(e,t){return nf(e.databaseId,t.path)}function af(e,t){const n=of(t);if(n.get(1)!==e.databaseId.projectId)throw new fc(hc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new fc(hc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Dc(df(n))}function cf(e,t){return nf(e.databaseId,t)}function lf(e){const t=of(e);return 4===t.length?Pc.emptyPath():df(t)}function uf(e){return new Pc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function df(e){return uc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hf(e,t,n){return{name:sf(e,t),fields:n.value.mapValue.fields}}function ff(e,t,n){const r=af(e,t.name),i=tf(t.updateTime),o=t.createTime?tf(t.createTime):Ac.min(),s=new Nu({mapValue:{fields:t.fields}}),a=Lu.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function pf(e,t){let n;if(t instanceof gh)n={update:hf(e,t.key,t.value)};else if(t instanceof _h)n={delete:sf(e,t.key)};else if(t instanceof vh)n={update:hf(e,t.key,t.data),updateMask:Tf(t.fieldMask)};else{if(!(t instanceof Sh))return lc();n={verify:sf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Xd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof th)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rh)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw lc()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ef(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:lc()}(e,t.precondition)),n}function mf(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?ch.updateTime(tf(e.updateTime)):void 0!==e.exists?ch.exists(e.exists):ch.none()}(t.currentDocument):ch.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)uc("REQUEST_TIME"===t.setToServerValue),n=new Xd;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Zd(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new th(e)}else"increment"in t?n=new rh(e,t.increment):lc();const r=Nc.fromServerFormat(t.fieldPath);return new sh(r,n)}(e,t))):[];if(t.update){t.update.name;const i=af(e,t.update.name),o=new Nu({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Yl(t.map((e=>Nc.fromServerFormat(e))))}(t.updateMask);return new vh(i,o,e,n,r)}return new gh(i,o,n,r)}if(t.delete){const r=af(e,t.delete);return new _h(r,n)}if(t.verify){const r=af(e,t.verify);return new Sh(r,n)}return lc()}function gf(e,t){return{documents:[cf(e,t.path)]}}function vf(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cf(e,i);const o=function(e){if(0!==e.length)return kf(qu.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Ef(e.field),direction:bf(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=$h(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ct:n,parent:i}}function yf(e){let t=lf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){uc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=wf(e);return t instanceof qu&&Ku(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Uu(If(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,al(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Mu(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Mu(n,t)}(n.endAt)),md(t,i,s,o,a,"F",c,l)}function wf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=If(e.unaryFilter.field);return Bu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=If(e.unaryFilter.field);return Bu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=If(e.unaryFilter.field);return Bu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=If(e.unaryFilter.field);return Bu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return lc()}}(e):void 0!==e.fieldFilter?function(e){return Bu.create(If(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return qu.create(e.compositeFilter.filters.map((e=>wf(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return lc()}}(e.compositeFilter.op))}(e):lc()}function bf(e){return Gh[e]}function _f(e){return Qh[e]}function Sf(e){return Jh[e]}function Ef(e){return{fieldPath:e.canonicalString()}}function If(e){return Nc.fromServerFormat(e.fieldPath)}function kf(e){return e instanceof Bu?function(e){if("=="===e.op){if(Eu(e.value))return{unaryFilter:{field:Ef(e.field),op:"IS_NAN"}};if(Su(e.value))return{unaryFilter:{field:Ef(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Eu(e.value))return{unaryFilter:{field:Ef(e.field),op:"IS_NOT_NAN"}};if(Su(e.value))return{unaryFilter:{field:Ef(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ef(e.field),op:_f(e.op),value:e.value}}}(e):e instanceof qu?function(e){const t=e.getFilters().map((e=>kf(e)));return 1===t.length?t[0]:{compositeFilter:{op:Sf(e.op),filters:t}}}(e):lc()}function Tf(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Cf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class xf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ac.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ac.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xl.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new xf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Af{constructor(e){this.ht=e}}function Rf(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Pf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:sf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Xh(e,t.version.toTimestamp()),createTime:Xh(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Of(t.version)};else{if(!t.isUnknownDocument())return lc();r.unknownDocument={path:n.path.toArray(),version:Of(t.version)}}return r}function Pf(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Of(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Nf(e){const t=new xc(e.seconds,e.nanoseconds);return Ac.fromTimestamp(t)}function Df(e,t){const n=(t.baseMutations||[]).map((t=>mf(e.ht,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>mf(e.ht,t))),i=xc.fromMillis(t.localWriteTimeMs);return new Eh(t.batchId,i,n,r)}function Lf(e){const t=Nf(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Nf(e.lastLimboFreeSnapshotVersion):Ac.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return uc(1===e.documents.length),bd(gd(lf(e.documents[0])))}(e.query):function(e){return bd(yf(e))}(e.query),new xf(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Xl.fromBase64String(e.resumeToken))}function Mf(e,t){const n=Of(t.snapshotVersion),r=Of(t.lastLimboFreeSnapshotVersion);let i;i=ud(t.target)?gf(e.ht,t.target):vf(e.ht,t.target).ct;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:cd(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ff(e){const t=yf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ed(t,t.limit,"L"):t}function jf(e,t){return new kh(t.largestBatchId,mf(e.ht,t.overlayMutation))}function Uf(e,t){const n=t.path.lastSegment();return[e,ul(t.path.popLast()),n]}function Vf(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Of(r.readTime),documentKey:ul(r.documentKey.path),largestBatchId:r.largestBatchId}}class zf{getBundleMetadata(e,t){return Bf(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Nf(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Bf(e).put(function(e){return{bundleId:e.id,createTime:Of(tf(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return qf(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Ff(e.bundledQuery),readTime:Nf(e.readTime)}}(e)}))}saveNamedQuery(e,t){return qf(e).put(function(e){return{name:e.name,readTime:Of(tf(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Bf(e){return Vl(e,"bundles")}function qf(e){return Vl(e,"namedQueries")}class Wf{constructor(e,t){this.serializer=e,this.userId=t}static Pt(e,t){const n=t.uid||"";return new Wf(e,n)}getOverlay(e,t){return Hf(e).get(Uf(this.userId,t)).next((e=>e?jf(this.serializer,e):null))}getOverlays(e,t){const n=Fd();return Gc.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new kh(t,i);r.push(this.Tt(e,o))})),Gc.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(ul(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Hf(e).j("collectionPathOverlayIndex",r))})),Gc.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Fd(),i=ul(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Hf(e).U("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=jf(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Fd();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hf(e).J({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=jf(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}Tt(e,t){return Hf(e).put(function(e,t,n){const[r,i,o]=Uf(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:pf(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}function Hf(e){return Vl(e,"documentOverlays")}class Kf{It(e){return Vl(e,"globals")}getSessionToken(e){return this.It(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?Xl.fromUint8Array(t):Xl.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.It(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Gf{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(tu(e.integerValue));else if("doubleValue"in e){const n=tu(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),cl(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=eu(n)),t.ft("".concat(n.seconds||"")),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(nu(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?Cu(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):ku(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):lc()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const n=e.fields||{};this.Rt(t,55);for(const r of Object.keys(n))this.gt(r,t),this.dt(n[r],t)}bt(e,t){var n,r;const i=e.fields||{};this.Rt(t,53);const o="value",s=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(t,15),t.Vt(tu(s)),this.gt(o,t),this.dt(i[o],t)}vt(e,t){const n=e.values||[];this.Rt(t,50);for(const r of n)this.dt(r,t)}St(e,t){this.Rt(t,37),Dc.fromName(e).path.forEach((e=>{this.Rt(t,60),this.Ct(e,t)}))}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}function Qf(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Jf(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Qf(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Gf.Ft=new Gf;class Yf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Mt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.xt(n.value),n=t.next();this.Ot()}Nt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Lt(n.value),n=t.next();this.Bt()}kt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.xt(e);else if(e<2048)this.xt(960|e>>>6),this.xt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.xt(480|e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e);else{const e=t.codePointAt(0);this.xt(240|e>>>18),this.xt(128|63&e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e)}}this.Ot()}qt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Lt(e);else if(e<2048)this.Lt(960|e>>>6),this.Lt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Lt(480|e>>>12),this.Lt(128|63&e>>>6),this.Lt(128|63&e);else{const e=t.codePointAt(0);this.Lt(240|e>>>18),this.Lt(128|63&e>>>12),this.Lt(128|63&e>>>6),this.Lt(128|63&e)}}this.Bt()}Qt(e){const t=this.Kt(e),n=Jf(t);this.$t(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ut(e){const t=this.Kt(e),n=Jf(t);this.$t(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Wt(){this.Gt(255),this.Gt(255)}zt(){this.jt(255),this.jt(255)}reset(){this.position=0}seed(e){this.$t(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ht(){return this.buffer.slice(0,this.position)}Kt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}xt(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(t)}Lt(e){const t=255&e;0===t?(this.jt(0),this.jt(255)):255===t?(this.jt(255),this.jt(0)):this.jt(e)}Ot(){this.Gt(0),this.Gt(1)}Bt(){this.jt(0),this.jt(1)}Gt(e){this.$t(1),this.buffer[this.position++]=e}jt(e){this.$t(1),this.buffer[this.position++]=~e}$t(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class $f{constructor(e){this.Jt=e}wt(e){this.Jt.Mt(e)}ft(e){this.Jt.kt(e)}Vt(e){this.Jt.Qt(e)}At(){this.Jt.Wt()}}class Xf{constructor(e){this.Jt=e}wt(e){this.Jt.Nt(e)}ft(e){this.Jt.qt(e)}Vt(e){this.Jt.Ut(e)}At(){this.Jt.zt()}}class Zf{constructor(){this.Jt=new Yf,this.Yt=new $f(this.Jt),this.Zt=new Xf(this.Jt)}seed(e){this.Jt.seed(e)}Xt(e){return 0===e?this.Yt:this.Zt}Ht(){return this.Jt.Ht()}reset(){this.Jt.reset()}}class ep{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}en(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new ep(this.indexId,this.documentKey,this.arrayValue,n)}}function tp(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=np(e.arrayValue,t.arrayValue),0!==n?n:(n=np(e.directionalValue,t.directionalValue),0!==n?n:Dc.comparator(e.documentKey,t.documentKey)))}function np(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class rp{constructor(e){this.tn=new Gl(((e,t)=>Nc.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.nn=e.orderBy,this.rn=[];for(const t of e.filters){const e=t;e.isInequality()?this.tn=this.tn.add(e):this.rn.push(e)}}get sn(){return this.tn.size>1}on(e){if(uc(e.collectionGroup===this.collectionId),this.sn)return!1;const t=Mc(e);if(void 0!==t&&!this._n(t))return!1;const n=Fc(e);let r=new Set,i=0,o=0;for(;i<n.length&&this._n(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.tn.size>0){const e=this.tn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.an(e,t)||!this.un(this.nn[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.nn.length||!this.un(this.nn[o++],e))return!1}return!0}cn(){if(this.sn)return null;let e=new Gl(Nc.comparator);const t=[];for(const n of this.rn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new jc(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new jc(n.field,0))}for(const n of this.nn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new jc(n.field,"asc"===n.dir?0:1)));return new Lc(Lc.UNKNOWN_ID,this.collectionId,t,Uc.empty())}_n(e){for(const t of this.rn)if(this.an(t,e))return!0;return!1}an(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}un(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ip(e){var t,n;if(uc(e instanceof Bu||e instanceof qu),e instanceof Bu){if(e instanceof rd){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Bu.create(e.field,"==",t))))||[];return qu.create(r,"or")}return e}const r=e.filters.map((e=>ip(e)));return qu.create(r,e.op)}function op(e){if(0===e.getFilters().length)return[];const t=lp(ip(e));return uc(cp(t)),sp(t)||ap(t)?[t]:t.getFilters()}function sp(e){return e instanceof Bu}function ap(e){return e instanceof qu&&Ku(e)}function cp(e){return sp(e)||ap(e)||function(e){if(e instanceof qu&&Hu(e)){for(const t of e.getFilters())if(!sp(t)&&!ap(t))return!1;return!0}return!1}(e)}function lp(e){if(uc(e instanceof Bu||e instanceof qu),e instanceof Bu)return e;if(1===e.filters.length)return lp(e.filters[0]);const t=e.filters.map((e=>lp(e)));let n=qu.create(t,e.op);return n=hp(n),cp(n)?n:(uc(n instanceof qu),uc(Wu(n)),uc(n.filters.length>1),n.filters.reduce(((e,t)=>up(e,t))))}function up(e,t){let n;return uc(e instanceof Bu||e instanceof qu),uc(t instanceof Bu||t instanceof qu),n=e instanceof Bu?t instanceof Bu?function(e,t){return qu.create([e,t],"and")}(e,t):dp(e,t):t instanceof Bu?dp(t,e):function(e,t){if(uc(e.filters.length>0&&t.filters.length>0),Wu(e)&&Wu(t))return Yu(e,t.getFilters());const n=Hu(e)?e:t,r=Hu(e)?t:e,i=n.filters.map((e=>up(e,r)));return qu.create(i,"or")}(e,t),hp(n)}function dp(e,t){if(Wu(t))return Yu(t,e.getFilters());{const n=t.filters.map((t=>up(e,t)));return qu.create(n,"or")}}function hp(e){if(uc(e instanceof Bu||e instanceof qu),e instanceof Bu)return e;const t=e.getFilters();if(1===t.length)return hp(t[0]);if(Gu(e))return e;const n=t.map((e=>hp(e))),r=[];return n.forEach((t=>{t instanceof Bu?r.push(t):t instanceof qu&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:qu.create(r,e.op)}class fp{constructor(){this.ln=new pp}addToCollectionParentIndex(e,t){return this.ln.add(t),Gc.resolve()}getCollectionParents(e,t){return Gc.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Gc.resolve()}deleteFieldIndex(e,t){return Gc.resolve()}deleteAllFieldIndexes(e){return Gc.resolve()}createTargetIndexes(e,t){return Gc.resolve()}getDocumentsMatchingTarget(e,t){return Gc.resolve(null)}getIndexType(e,t){return Gc.resolve(0)}getFieldIndexes(e,t){return Gc.resolve([])}getNextCollectionGroupToUpdate(e){return Gc.resolve(null)}getMinOffset(e,t){return Gc.resolve(Bc.min())}getMinOffsetFromCollectionGroup(e,t){return Gc.resolve(Bc.min())}updateCollectionGroup(e,t,n){return Gc.resolve()}updateIndexEntries(e,t){return Gc.resolve()}}class pp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gl(Pc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gl(Pc.comparator)).toArray()}}const mp=new Uint8Array(0);class gp{constructor(e,t){this.databaseId=t,this.hn=new pp,this.Pn=new Pd((e=>cd(e)),((e,t)=>ld(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.hn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.hn.add(t)}));const i={collectionId:n,parent:ul(r)};return vp(e).put(i)}return Gc.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Cc(t),""],!1,!0);return vp(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(fl(r.parent))}return n}))}addFieldIndex(e,t){const n=wp(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=bp(e);return i.next((e=>{n.put(Vf(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=wp(e),r=bp(e),i=yp(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=wp(e),n=yp(e),r=bp(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return Gc.forEach(this.Tn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new rp(t).cn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=yp(e);let r=!0;const i=new Map;return Gc.forEach(this.Tn(t),(t=>this.In(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Bd();const r=[];return Gc.forEach(i,((i,o)=>{oc("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(cd(t)));const s=function(e,t){const n=Mc(t);if(void 0===n)return null;for(const r of dd(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of Fc(t))for(const t of dd(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Fc(t)){const t=0===i.kind?hd(e,i.fieldPath,e.startAt):fd(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Mu(n,r)}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Fc(t)){const t=0===i.kind?fd(e,i.fieldPath,e.endAt):hd(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Mu(n,r)}(o,i),u=this.En(i,o,c),d=this.En(i,o,l),h=this.dn(i,o,a),f=this.An(i.indexId,s,u,c.inclusive,d,l.inclusive,h);return Gc.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=Dc.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Gc.resolve(null)}))}Tn(e){let t=this.Pn.get(e);return t||(t=0===e.filters.length?[e]:op(qu.create(e.filters,"and")).map((t=>ad(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.Pn.set(e,t),t)}An(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.Rn(t[u/c]):mp,d=this.Vn(e,a,n[u%c],r),h=this.mn(e,a,i[u%c],o),f=s.map((t=>this.Vn(e,a,t,!0)));l.push(...this.createRange(d,h,f))}return l}Vn(e,t,n,r){const i=new ep(e,Dc.empty(),t,n);return r?i:i.en()}mn(e,t,n,r){const i=new ep(e,Dc.empty(),t,n);return r?i.en():i}In(e,t){const n=new rp(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.on(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.Tn(t);return Gc.forEach(r,(t=>this.In(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Gl(Nc.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}fn(e,t){const n=new Zf;for(const r of Fc(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Xt(r.kind);Gf.Ft.Et(e,i)}return n.Ht()}Rn(e){const t=new Zf;return Gf.Ft.Et(e,t.Xt(0)),t.Ht()}gn(e,t){const n=new Zf;return Gf.Ft.Et(wu(this.databaseId,t),n.Xt(function(e){const t=Fc(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ht()}dn(e,t,n){if(null===n)return[];let r=[];r.push(new Zf);let i=0;for(const o of Fc(e)){const e=n[i++];for(const n of r)if(this.pn(t,o.fieldPath)&&_u(e))r=this.yn(r,o,e);else{const t=n.Xt(o.kind);Gf.Ft.Et(e,t)}}return this.wn(r)}En(e,t,n){return this.dn(e,t,n.position)}wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ht();return t}yn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Zf;n.seed(e.Ht()),Gf.Ft.Et(o,n.Xt(t.kind)),i.push(n)}return i}pn(e,t){return!!e.filters.find((e=>e instanceof Bu&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=wp(e),r=bp(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return Gc.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Uc(t.sequenceNumber,new Bc(Nf(t.readTime),new Dc(fl(t.documentKey)),t.largestBatchId)):Uc.empty(),r=e.fields.map((e=>{let[t,n]=e;return new jc(Nc.fromServerFormat(t),n)}));return new Lc(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:kc(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=wp(e),i=bp(e);return this.Sn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Gc.forEach(t,(t=>i.put(Vf(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Gc.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Gc.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Gc.forEach(i,(n=>this.bn(e,t,n).next((t=>{const i=this.Dn(r,n);return t.isEqual(i)?Gc.resolve():this.vn(e,r,n,t,i)})))))))}))}Cn(e,t,n,r){return yp(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Fn(e,t,n,r){return yp(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}bn(e,t,n){const r=yp(e);let i=new Gl(tp);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new ep(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Dn(e,t){let n=new Gl(tp);const r=this.fn(t,e);if(null==r)return n;const i=Mc(t);if(null!=i){const o=e.data.field(i.fieldPath);if(_u(o))for(const i of o.arrayValue.values||[])n=n.add(new ep(t.indexId,e.key,this.Rn(i),r))}else n=n.add(new ep(t.indexId,e.key,mp,r));return n}vn(e,t,n,r,i){oc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Jl(o),c=Jl(s);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=Jl(s)):t?(i(a),a=Jl(o)):(a=Jl(o),c=Jl(s))}}(r,i,tp,(r=>{o.push(this.Cn(e,t,n,r))}),(r=>{o.push(this.Fn(e,t,n,r))})),Gc.waitFor(o)}Sn(e){let t=1;return bp(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>tp(e,t))).filter(((e,t,n)=>!t||0!==tp(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=tp(o,e),i=tp(o,t);if(0===n)r[0]=e.en();else if(n>0&&i<0)r.push(o),r.push(o.en());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Mn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,mp,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,mp,[]];i.push(IDBKeyRange.bound(e,t))}return i}Mn(e,t){return tp(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(_p)}getMinOffset(e,t){return Gc.mapArray(this.Tn(t),(t=>this.In(e,t).next((e=>e||lc())))).next(_p)}}function vp(e){return Vl(e,"collectionParents")}function yp(e){return Vl(e,"indexEntries")}function wp(e){return Vl(e,"indexConfiguration")}function bp(e){return Vl(e,"indexState")}function _p(e){uc(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;qc(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Bc(t.readTime,t.documentKey,n)}const Sp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ep{static withCacheSize(e){return new Ep(e,Ep.DEFAULT_COLLECTION_PERCENTILE,Ep.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function Ip(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.J({range:s},((e,t,n)=>(a++,n.delete())));o.push(c.next((()=>{uc(1===a)})));const l=[];for(const u of n.mutations){const e=gl(t,u.key.path,n.batchId);o.push(i.delete(e)),l.push(u.key)}return Gc.waitFor(o).next((()=>l))}function kp(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw lc();t=e.noDocument}return JSON.stringify(t).length}Ep.DEFAULT_COLLECTION_PERCENTILE=10,Ep.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ep.DEFAULT=new Ep(41943040,Ep.DEFAULT_COLLECTION_PERCENTILE,Ep.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ep.DISABLED=new Ep(-1,0,0);class Tp{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.xn={}}static Pt(e,t,n,r){uc(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Tp(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xp(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Ap(e),o=xp(e);return o.add({}).next((s=>{uc("number"==typeof s);const a=new Eh(s,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>pf(e.ht,t))),i=n.mutations.map((t=>pf(e.ht,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new Gl(((e,t)=>kc(e.canonicalString(),t.canonicalString())));for(const e of r){const t=gl(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),l.push(o.put(c)),l.push(i.put(t,vl))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.xn[s]=a.keys()})),Gc.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return xp(e).get(t).next((e=>e?(uc(e.userId===this.userId),Df(this.serializer,e)):null))}On(e,t){return this.xn[t]?Gc.resolve(this.xn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.xn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return xp(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(uc(t.batchId>=n),i=Df(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return xp(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xp(e).U("userMutationsIndex",t).next((e=>e.map((e=>Df(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=ml(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Ap(e).J({range:r},((n,r,o)=>{const[s,a,c]=n,l=fl(a);if(s===this.userId&&t.path.isEqual(l))return xp(e).get(c).next((e=>{if(!e)throw lc();uc(e.userId===this.userId),i.push(Df(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gl(kc);const r=[];return t.forEach((t=>{const i=ml(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Ap(e).J({range:o},((e,r,i)=>{const[o,s,a]=e,c=fl(s);o===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(s)})),Gc.waitFor(r).next((()=>this.Nn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=ml(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Gl(kc);return Ap(e).J({range:o},((e,t,i)=>{const[o,a,c]=e,l=fl(a);o===this.userId&&n.isPrefixOf(l)?l.length===r&&(s=s.add(c)):i.done()})).next((()=>this.Nn(e,s)))}Nn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(xp(e).get(t).next((e=>{if(null===e)throw lc();uc(e.userId===this.userId),n.push(Df(this.serializer,e))})))})),Gc.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Ip(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Ln(t.batchId)})),Gc.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Ln(e){delete this.xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Gc.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Ap(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=fl(e[1]);r.push(t)}else n.done()})).next((()=>{uc(0===r.length)}))}))}containsKey(e,t){return Cp(e,this.userId,t)}Bn(e){return Rp(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Cp(e,t,n){const r=ml(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Ap(e).J({range:o,H:!0},((e,n,r)=>{const[o,a,c]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function xp(e){return Vl(e,"mutations")}function Ap(e){return Vl(e,"documentMutations")}function Rp(e){return Vl(e,"mutationQueues")}class Pp{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Pp(0)}static Qn(){return new Pp(-1)}}class Op{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Kn(e).next((t=>{const n=new Pp(t.highestTargetId);return t.highestTargetId=n.next(),this.$n(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Kn(e).next((e=>Ac.fromTimestamp(new xc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Kn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Kn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.$n(e,r))))}addTargetData(e,t){return this.Un(e,t).next((()=>this.Kn(e).next((n=>(n.targetCount+=1,this.Wn(t,n),this.$n(e,n))))))}updateTargetData(e,t){return this.Un(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Np(e).delete(t.targetId))).next((()=>this.Kn(e))).next((t=>(uc(t.targetCount>0),t.targetCount-=1,this.$n(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Np(e).J(((o,s)=>{const a=Lf(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Gc.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Np(e).J(((e,n)=>{const r=Lf(n);t(r)}))}Kn(e){return Dp(e).get("targetGlobalKey").next((e=>(uc(null!==e),e)))}$n(e,t){return Dp(e).put("targetGlobalKey",t)}Un(e,t){return Np(e).put(Mf(this.serializer,t))}Wn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Kn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=cd(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Np(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=Lf(n);ld(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Lp(e);return t.forEach((t=>{const o=ul(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Gc.waitFor(r)}removeMatchingKeys(e,t,n){const r=Lp(e);return Gc.forEach(t,(t=>{const i=ul(t.path);return Gc.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Lp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Lp(e);let i=Bd();return r.J({range:n,H:!0},((e,t,n)=>{const r=fl(e[1]),o=new Dc(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=ul(t.path),r=IDBKeyRange.bound([n],[Cc(n)],!1,!0);let i=0;return Lp(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ut(e,t){return Np(e).get(t).next((e=>e?Lf(e):null))}}function Np(e){return Vl(e,"targets")}function Dp(e){return Vl(e,"targetGlobal")}function Lp(e){return Vl(e,"targetDocuments")}function Mp(e,t){let[n,r]=e,[i,o]=t;const s=kc(n,i);return 0===s?kc(r,o):s}class Fp{constructor(e){this.Gn=e,this.buffer=new Gl(Mp),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Mp(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jp{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){oc("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Zc(e)?oc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Kc(e)}await this.Yn(3e5)}))}}class Up{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Gc.resolve(sl.oe);const n=new Fp(t);return this.Zn.forEachTarget(e,(e=>n.Hn(e.sequenceNumber))).next((()=>this.Zn.er(e,(e=>n.Hn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(oc("LruGarbageCollector","Garbage collection skipped; disabled"),Gc.resolve(Sp)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(oc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Sp):this.tr(e,t)))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,r,i,o,s,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(oc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),ic()<=Fn.DEBUG&&oc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),Gc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Vp(e,t){return new Up(e,t)}class zp{constructor(e,t){this.db=e,this.garbageCollector=Vp(this,t)}Xn(e){const t=this.nr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}er(e,t){return this.rr(e,((e,n)=>t(n)))}addReference(e,t,n){return Bp(e,n)}removeReference(e,t,n){return Bp(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Bp(e,t)}ir(e,t){return function(e,t){let n=!1;return Rp(e).Y((r=>Cp(e,r,t).next((e=>(e&&(n=!0),Gc.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.rr(e,((o,s)=>{if(s<=t){const t=this.ir(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Ac.min()),Lp(e).delete(function(e){return[0,ul(e.path)]}(o)))))}));r.push(t)}})).next((()=>Gc.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Bp(e,t)}rr(e,t){const n=Lp(e);let r,i=sl.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:c}=n;0===o?(i!==sl.oe&&t(new Dc(fl(r)),i),i=c,r=a):i=sl.oe})).next((()=>{i!==sl.oe&&t(new Dc(fl(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Bp(e,t){return Lp(e).put(function(e,t){return{targetId:0,path:ul(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class qp{constructor(){this.changes=new Pd((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Lu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Gc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Qp(e).put(n)}removeEntry(e,t,n){return Qp(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Pf(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.sr(e,n))))}getEntry(e,t){let n=Lu.newInvalidDocument(t);return Qp(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Jp(t))},((e,r)=>{n=this._r(t,r)})).next((()=>n))}ar(e,t){let n={size:0,document:Lu.newInvalidDocument(t)};return Qp(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Jp(t))},((e,r)=>{n={document:this._r(t,r),size:kp(r)}})).next((()=>n))}getEntries(e,t){let n=Nd();return this.ur(e,t,((e,t)=>{const r=this._r(e,t);n=n.insert(e,r)})).next((()=>n))}cr(e,t){let n=Nd(),r=new Wl(Dc.comparator);return this.ur(e,t,((e,t)=>{const i=this._r(e,t);n=n.insert(e,i),r=r.insert(e,kp(t))})).next((()=>({documents:n,lr:r})))}ur(e,t,n){if(t.isEmpty())return Gc.resolve();let r=new Gl($p);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Jp(r.first()),Jp(r.last())),o=r.getIterator();let s=o.getNext();return Qp(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Dc.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&$p(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.$(Jp(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),Pf(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qp(e).U(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Nd();for(const i of e){const e=this._r(Dc.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Cd(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Nd();const o=Yp(t,n),s=Yp(t,Bc.max());return Qp(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this._r(Dc.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Kp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Gp(e).get("remoteDocumentGlobalKey").next((e=>(uc(!!e),e)))}sr(e,t){return Gp(e).put("remoteDocumentGlobalKey",t)}_r(e,t){if(t){const e=function(e,t){let n;if(t.document)n=ff(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Dc.fromSegments(t.noDocument.path),r=Nf(t.noDocument.readTime);n=Lu.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return lc();{const e=Dc.fromSegments(t.unknownDocument.path),r=Nf(t.unknownDocument.version);n=Lu.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new xc(e[0],e[1]);return Ac.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Ac.min()))return e}return Lu.newInvalidDocument(e)}}function Hp(e){return new Wp(e)}class Kp extends qp{constructor(e,t){super(),this.hr=e,this.trackRemovals=t,this.Pr=new Pd((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Gl(((e,t)=>kc(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.Pr.get(i);if(t.push(this.hr.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=Rf(this.hr.serializer,o);r=r.add(i.path.popLast());const c=kp(a);n+=c-s.size,t.push(this.hr.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=Rf(this.hr.serializer,o.convertToNoDocument(Ac.min()));t.push(this.hr.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.hr.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.hr.updateMetadata(e,n)),Gc.waitFor(t)}getFromCache(e,t){return this.hr.ar(e,t).next((e=>(this.Pr.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.hr.cr(e,t).next((e=>{let{documents:t,lr:n}=e;return n.forEach(((e,n)=>{this.Pr.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Gp(e){return Vl(e,"remoteDocumentGlobal")}function Qp(e){return Vl(e,"remoteDocumentsV14")}function Jp(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Yp(e,t){const n=t.documentKey.path.toArray();return[e,Pf(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function $p(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=kc(n[o],r[o]),i)return i;return i=kc(n.length,r.length),i||(i=kc(n[n.length-2],r[r.length-2]),i||kc(n[n.length-1],r[r.length-1]))}class Xp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Zp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&fh(n.mutation,e,Yl.empty(),xc.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Bd()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bd();const r=Fd();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ld();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Fd();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Bd())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Nd();const o=Ud(),s=Ud();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof vh)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),fh(s.mutation,t,s.mutation.getFieldMask(),xc.now())):o.set(t.key,Yl.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Xp(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Ud();let r=new Wl(((e,t)=>e-t)),i=Bd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Yl.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Bd()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,l=jd();c.forEach((e=>{if(!i.has(e)){const r=dh(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return Gc.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Dc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Gc.resolve(Fd());let s=-1,a=i;return o.next((t=>Gc.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Gc.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Bd()))).next((e=>({batchId:s,changes:Md(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Dc(t)).next((e=>{let t=Ld();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Ld();return this.indexManager.getCollectionParents(e,i).next((s=>Gc.forEach(s,(s=>{const a=function(e,t){return new pd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Lu.newInvalidDocument(r)))}));let n=Ld();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&fh(o.mutation,r,Yl.empty(),xc.now()),Cd(t,r)&&(n=n.insert(e,r))})),n}))}}class em{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Gc.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:tf(e.createTime)}}(t)),Gc.resolve()}getNamedQuery(e,t){return Gc.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(e){return{name:e.name,query:Ff(e.bundledQuery),readTime:tf(e.readTime)}}(t)),Gc.resolve()}}class tm{constructor(){this.overlays=new Wl(Dc.comparator),this.Er=new Map}getOverlay(e,t){return Gc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Fd();return Gc.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Tt(e,t,r)})),Gc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Er.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Er.delete(n)),Gc.resolve()}getOverlaysForCollection(e,t,n){const r=Fd(),i=t.length+1,o=new Dc(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Gc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Wl(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Fd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Fd(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Gc.resolve(s)}Tt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new kh(t,n));let i=this.Er.get(t);void 0===i&&(i=Bd(),this.Er.set(t,i)),this.Er.set(t,i.add(n.key))}}class nm{constructor(){this.sessionToken=Xl.EMPTY_BYTE_STRING}getSessionToken(e){return Gc.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Gc.resolve()}}class rm{constructor(){this.dr=new Gl(im.Ar),this.Rr=new Gl(im.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const n=new im(e,t);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.gr(new im(e,t))}pr(e,t){e.forEach((e=>this.removeReference(e,t)))}yr(e){const t=new Dc(new Pc([])),n=new im(t,e),r=new im(t,e+1),i=[];return this.Rr.forEachInRange([n,r],(e=>{this.gr(e),i.push(e.key)})),i}wr(){this.dr.forEach((e=>this.gr(e)))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Dc(new Pc([])),n=new im(t,e),r=new im(t,e+1);let i=Bd();return this.Rr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new im(e,0),n=this.dr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class im{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Dc.comparator(e.key,t.key)||kc(e.br,t.br)}static Vr(e,t){return kc(e.br,t.br)||Dc.comparator(e.key,t.key)}}class om{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Gl(im.Ar)}checkEmpty(e){return Gc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Eh(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.vr=this.vr.add(new im(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Gc.resolve(o)}lookupMutationBatch(e,t){return Gc.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Fr(n),i=r<0?0:r;return Gc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Gc.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return Gc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new im(t,0),r=new im(t,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],(e=>{const t=this.Cr(e.br);i.push(t)})),Gc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gl(kc);return t.forEach((e=>{const t=new im(e,0),r=new im(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,r],(e=>{n=n.add(e.br)}))})),Gc.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Dc.isDocumentKey(i)||(i=i.child(""));const o=new im(new Dc(i),0);let s=new Gl(kc);return this.vr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.br)),!0)}),o),Gc.resolve(this.Mr(s))}Mr(e){const t=[];return e.forEach((e=>{const n=this.Cr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){uc(0===this.Or(t.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return Gc.forEach(t.mutations,(r=>{const i=new im(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.vr=n}))}Ln(e){}containsKey(e,t){const n=new im(t,0),r=this.vr.firstAfterOrEqual(n);return Gc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Gc.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sm{constructor(e){this.Nr=e,this.docs=new Wl(Dc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Gc.resolve(n?n.document.mutableCopy():Lu.newInvalidDocument(t))}getEntries(e,t){let n=Nd();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Lu.newInvalidDocument(e))})),Gc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Nd();const o=t.path,s=new Dc(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||qc(zc(s),n)<=0||(r.has(s.key)||Cd(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Gc.resolve(i)}getAllFromCollectionGroup(e,t,n,r){lc()}Lr(e,t){return Gc.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new am(this)}getSize(e){return Gc.resolve(this.size)}}class am extends qp{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)})),Gc.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}class cm{constructor(e){this.persistence=e,this.Br=new Pd((e=>cd(e)),ld),this.lastRemoteSnapshotVersion=Ac.min(),this.highestTargetId=0,this.kr=0,this.qr=new rm,this.targetCount=0,this.Qr=Pp.qn()}forEachTarget(e,t){return this.Br.forEach(((e,n)=>t(n))),Gc.resolve()}getLastRemoteSnapshotVersion(e){return Gc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Gc.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Gc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),Gc.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Pp(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Gc.resolve()}updateTargetData(e,t){return this.Un(t),Gc.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Gc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Br.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Br.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Gc.waitFor(i).next((()=>r))}getTargetCount(e){return Gc.resolve(this.targetCount)}getTargetData(e,t){const n=this.Br.get(t)||null;return Gc.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),Gc.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Gc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Gc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return Gc.resolve(n)}containsKey(e,t){return Gc.resolve(this.qr.containsKey(t))}}class lm{constructor(e,t){this.Kr={},this.overlays={},this.$r=new sl(0),this.Ur=!1,this.Ur=!0,this.Wr=new nm,this.referenceDelegate=e(this),this.Gr=new cm(this),this.indexManager=new fp,this.remoteDocumentCache=function(e){return new sm(e)}((e=>this.referenceDelegate.zr(e))),this.serializer=new Af(t),this.jr=new em(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new om(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){oc("MemoryPersistence","Starting transaction:",e);const r=new um(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((e=>this.referenceDelegate.Jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Yr(e,t){return Gc.or(Object.values(this.Kr).map((n=>()=>n.containsKey(e,t))))}}class um extends Hc{constructor(e){super(),this.currentSequenceNumber=e}}class dm{constructor(e){this.persistence=e,this.Zr=new rm,this.Xr=null}static ei(e){return new dm(e)}get ti(){if(this.Xr)return this.Xr;throw lc()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),Gc.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),Gc.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Gc.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach((e=>this.ti.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ti.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gc.forEach(this.ti,(n=>{const r=Dc.fromPath(n);return this.ni(e,r).next((e=>{e||t.removeEntry(r,Ac.min())}))})).next((()=>(this.Xr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ni(e,t).next((e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())}))}zr(e){return 0}ni(e,t){return Gc.or([()=>Gc.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class hm{constructor(e,t){this.persistence=e,this.ri=new Pd((e=>ul(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Vp(this,t)}static ei(e,t){return new hm(e,t)}Hr(){}Jr(e){return Gc.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}er(e,t){return Gc.forEach(this.ri,((n,r)=>this.ir(e,n,r).next((e=>e?Gc.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Lr(e,(r=>this.ir(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Ac.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Gc.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),Gc.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),Gc.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Gc.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yu(e.data.value)),t}ir(e,t,n){return Gc.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.ri.get(t);return Gc.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class fm{constructor(e){this.serializer=e}O(e,t,n,r){const i=new Qc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pl,{unique:!0}),e.createObjectStore("documentMutations")}(e),pm(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Gc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),pm(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ac.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pl,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Gc.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.ii(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.si(i))))),n<7&&r>=7&&(o=o.next((()=>this.oi(i)))),n<8&&r>=8&&(o=o.next((()=>this._i(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ai(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Al});t.createIndex("collectionPathOverlayIndex",Rl,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Pl,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:yl});t.createIndex("documentKeyIndex",wl),t.createIndex("collectionGroupIndex",bl)}(e))).next((()=>this.ui(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ci(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:kl}).createIndex("sequenceNumberIndex",Tl,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Cl}).createIndex("documentKeyIndex",xl,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),n<17&&r>=17&&(o=o.next((()=>{!function(e){e.createObjectStore("globals",{keyPath:"name"})}(e)}))),o}si(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=kp(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ii(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>Gc.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>Gc.forEach(n,(n=>{uc(n.userId===t.userId);const r=Df(this.serializer,n);return Ip(e,t.userId,r).next((()=>{}))}))))}))))}oi(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const o=new Pc(n),s=function(e){return[0,ul(e)]}(o);r.push(t.get(s).next((n=>n?Gc.resolve():(n=>t.put({targetId:0,path:ul(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Gc.waitFor(r)))}))}_i(e,t){e.createObjectStore("collectionParents",{keyPath:Il});const n=t.store("collectionParents"),r=new pp,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:ul(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new Pc(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,o]=e;const s=fl(r);return i(s.popLast())}))))}ai(e){const t=e.store("targets");return t.J(((e,n)=>{const r=Lf(n),i=Mf(this.serializer,r);return t.put(i)}))}ui(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new Dc(Pc.fromString(e.document.name).popFirst(5)):e.noDocument?Dc.fromSegments(e.noDocument.path):e.unknownDocument?Dc.fromSegments(e.unknownDocument.path):lc()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Gc.waitFor(r)))}ci(e,t){const n=t.store("mutations"),r=Hp(this.serializer),i=new lm(dm.ei,this.serializer.ht);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Bd();Df(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Gc.forEach(n,((e,n)=>{const o=new tc(n),s=Wf.Pt(this.serializer,o),a=i.getIndexManager(o),c=Tp.Pt(o,this.serializer,a,i.referenceDelegate);return new Zp(r,c,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Ul(t,sl.oe),e).next()}))}))}}function pm(e){e.createObjectStore("targetDocuments",{keyPath:Sl}).createIndex("documentTargetsIndex",El,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_l,{unique:!0}),e.createObjectStore("targetGlobal")}const mm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gm{constructor(e,t,n,r,i,o,s,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.li=i,this.window=o,this.document=s,this.hi=c,this.Pi=l,this.Ti=u,this.$r=null,this.Ur=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ii=null,this.inForeground=!1,this.Ei=null,this.di=null,this.Ai=Number.NEGATIVE_INFINITY,this.Ri=e=>Promise.resolve(),!gm.p())throw new fc(hc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zp(this,r),this.Vi=t+"main",this.serializer=new Af(a),this.mi=new Jc(this.Vi,this.Ti,new fm(this.serializer)),this.Wr=new Kf,this.Gr=new Op(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Hp(this.serializer),this.jr=new zf,this.window&&this.window.localStorage?this.fi=this.window.localStorage:(this.fi=null,!1===l&&sc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fc(hc.FAILED_PRECONDITION,mm);return this.pi(),this.yi(),this.wi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Gr.getHighestSequenceNumber(e)))})).then((e=>{this.$r=new sl(e,this.hi)})).then((()=>{this.Ur=!0})).catch((e=>(this.mi&&this.mi.close(),Promise.reject(e))))}Si(e){return this.Ri=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.mi.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.li.enqueueAndForget((async()=>{this.started&&await this.gi()})))}gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>ym(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.bi(e).next((e=>{e||(this.isPrimary=!1,this.li.enqueueRetryable((()=>this.Ri(!1))))}))})).next((()=>this.Di(e))).next((t=>this.isPrimary&&!t?this.vi(e).next((()=>!1)):!!t&&this.Ci(e).next((()=>!0)))))).catch((e=>{if(Zc(e))return oc("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return oc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.li.enqueueRetryable((()=>this.Ri(e))),this.isPrimary=e}))}bi(e){return vm(e).get("owner").next((e=>Gc.resolve(this.Fi(e))))}Mi(e){return ym(e).delete(this.clientId)}async xi(){if(this.isPrimary&&!this.Oi(this.Ai,18e5)){this.Ai=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Vl(e,"clientMetadata");return t.U().next((e=>{const n=this.Ni(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Gc.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.fi)for(const t of e)this.fi.removeItem(this.Li(t.clientId))}}wi(){this.di=this.li.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.gi().then((()=>this.xi())).then((()=>this.wi()))))}Fi(e){return!!e&&e.ownerId===this.clientId}Di(e){return this.Pi?Gc.resolve(!0):vm(e).get("owner").next((t=>{if(null!==t&&this.Oi(t.leaseTimestampMs,5e3)&&!this.Bi(t.ownerId)){if(this.Fi(t)&&this.networkEnabled)return!0;if(!this.Fi(t)){if(!t.allowTabSynchronization)throw new fc(hc.FAILED_PRECONDITION,mm);return!1}}return!(!this.networkEnabled||!this.inForeground)||ym(e).U().next((e=>void 0===this.Ni(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&oc("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Ur=!1,this.ki(),this.di&&(this.di.cancel(),this.di=null),this.qi(),this.Qi(),await this.mi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Ul(e,sl.oe);return this.vi(t).next((()=>this.Mi(t)))})),this.mi.close(),this.Ki()}Ni(e,t){return e.filter((e=>this.Oi(e.updateTimeMs,t)&&!this.Bi(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>ym(e).U().next((e=>this.Ni(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ur}getGlobalsCache(){return this.Wr}getMutationQueue(e,t){return Tp.Pt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gp(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return Wf.Pt(this.serializer,e)}getBundleCache(){return this.jr}runTransaction(e,t,n){oc("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?jl:16===e?Fl:15===e?Ml:14===e?Ll:13===e?Dl:12===e?Nl:11===e?Ol:void lc()}(this.Ti);let o;return this.mi.runTransaction(e,r,i,(r=>(o=new Ul(r,this.$r?this.$r.next():sl.oe),"readwrite-primary"===t?this.bi(o).next((e=>!!e||this.Di(o))).next((t=>{if(!t)throw sc("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.li.enqueueRetryable((()=>this.Ri(!1))),new fc(hc.FAILED_PRECONDITION,Wc);return n(o)})).next((e=>this.Ci(o).next((()=>e)))):this.Ui(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Ui(e){return vm(e).get("owner").next((e=>{if(null!==e&&this.Oi(e.leaseTimestampMs,5e3)&&!this.Bi(e.ownerId)&&!this.Fi(e)&&!(this.Pi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new fc(hc.FAILED_PRECONDITION,mm)}))}Ci(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vm(e).put("owner",t)}static p(){return Jc.p()}vi(e){const t=vm(e);return t.get("owner").next((e=>this.Fi(e)?(oc("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Gc.resolve()))}Oi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(sc("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}pi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ei=()=>{this.li.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.gi())))},this.document.addEventListener("visibilitychange",this.Ei),this.inForeground="visible"===this.document.visibilityState)}qi(){this.Ei&&(this.document.removeEventListener("visibilitychange",this.Ei),this.Ei=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ii=()=>{this.ki();const e=/(?:Version|Mobile)\/1[456]/;mn()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.li.enterRestrictedMode(!0),this.li.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ii))}Qi(){this.Ii&&(this.window.removeEventListener("pagehide",this.Ii),this.Ii=null)}Bi(e){var t;try{const n=null!==(null===(t=this.fi)||void 0===t?void 0:t.getItem(this.Li(e)));return oc("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return sc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}ki(){if(this.fi)try{this.fi.setItem(this.Li(this.clientId),String(Date.now()))}catch(oL){sc("Failed to set zombie client id.",oL)}}Ki(){if(this.fi)try{this.fi.removeItem(this.Li(this.clientId))}catch(oL){}}Li(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function vm(e){return Vl(e,"owner")}function ym(e){return Vl(e,"clientMetadata")}function wm(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class bm{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=r}static zi(e,t){let n=Bd(),r=Bd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new bm(e,t.fromCache,n,r)}}class _m{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Sm{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=mn()?8:Yc(an())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Xi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.es(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new _m;return this.ts(e,t,n).next((r=>{if(i.result=r,this.Hi)return this.ns(e,t,n,r.size)}))})).next((()=>i.result))}ns(e,t,n,r){return n.documentReadCount<this.Ji?(ic()<=Fn.DEBUG&&oc("QueryEngine","SDK will not create cache indexes for query:",Td(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Gc.resolve()):(ic()<=Fn.DEBUG&&oc("QueryEngine","Query:",Td(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(ic()<=Fn.DEBUG&&oc("QueryEngine","The SDK decides to create cache indexes for query:",Td(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bd(t))):Gc.resolve())}Xi(e,t){if(vd(t))return Gc.resolve(null);let n=bd(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ed(t,null,"F"),n=bd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Bd(...r);return this.Zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.rs(t,r);return this.ss(t,o,i,n.readTime)?this.Xi(e,Ed(t,null,"F")):this.os(e,o,t,n)}))))})))))}es(e,t,n,r){return vd(t)||r.isEqual(Ac.min())?Gc.resolve(null):this.Zi.getDocuments(e,n).next((i=>{const o=this.rs(t,i);return this.ss(t,o,n,r)?Gc.resolve(null):(ic()<=Fn.DEBUG&&oc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Td(t)),this.os(e,o,t,Vc(r,-1)).next((e=>e)))}))}rs(e,t){let n=new Gl(Ad(e));return t.forEach(((t,r)=>{Cd(e,r)&&(n=n.add(r))})),n}ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(e,t,n){return ic()<=Fn.DEBUG&&oc("QueryEngine","Using full collection scan to execute query:",Td(t)),this.Zi.getDocumentsMatchingQuery(e,t,Bc.min(),n)}os(e,t,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Em{constructor(e,t,n,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new Wl(kc),this.cs=new Pd((e=>cd(e)),ld),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zp(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.us)))}}function Im(e,t,n,r){return new Em(e,t,n,r)}async function km(e,t){const n=dc(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ps(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Bd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Ts:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Tm(e){const t=dc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Gr.getLastRemoteSnapshotVersion(e)))}function Cm(e,t,n){let r=Bd(),i=Bd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Nd();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Ac.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):oc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Is:r,Es:i}}))}function xm(e,t){const n=dc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Am(e,t){const n=dc(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Gr.getTargetData(e,t).next((i=>i?(r=i,Gc.resolve(r)):n.Gr.allocateTargetId(e).next((i=>(r=new xf(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Gr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.us.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(e.targetId,e),n.cs.set(t,e.targetId)),e}))}async function Rm(e,t,n){const r=dc(e),i=r.us.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Zc(e))throw e;oc("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.us=r.us.remove(t),r.cs.delete(i.target)}function Pm(e,t,n){const r=dc(e);let i=Ac.min(),o=Bd();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=dc(e),i=r.cs.get(n);return void 0!==i?Gc.resolve(r.us.get(i)):r.Gr.getTargetData(t,n)}(r,e,bd(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r._s.getDocumentsMatchingQuery(e,t,n?i:Ac.min(),n?o:Bd()))).next((e=>(Dm(r,xd(t),e),{documents:e,ds:o})))))}function Om(e,t){const n=dc(e),r=dc(n.Gr),i=n.us.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ut(e,t).next((e=>e?e.target:null))))}function Nm(e,t){const n=dc(e),r=n.ls.get(t)||Ac.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.hs.getAllFromCollectionGroup(e,t,Vc(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Dm(n,t,e),e)))}function Dm(e,t,n){let r=e.ls.get(t)||Ac.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ls.set(t,r)}async function Lm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bd();const r=await Am(e,bd(Ff(t.bundledQuery))),i=dc(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=tf(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.jr.saveNamedQuery(e,t);const s=r.withResumeToken(Xl.EMPTY_BYTE_STRING,o);return i.us=i.us.insert(s.targetId,s),i.Gr.updateTargetData(e,s).next((()=>i.Gr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Gr.addMatchingKeys(e,n,r.targetId))).next((()=>i.jr.saveNamedQuery(e,t)))}))}function Mm(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Fm(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function jm(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Um{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static fs(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new fc(r.error.code,r.error.message))),o?new Um(e,t,r.state,i):(sc("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vm{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static fs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new fc(n.error.code,n.error.message))),i?new Vm(e,n.state,r):(sc("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static fs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Wd();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=ll(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new zm(e,i):(sc("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Bm{constructor(e,t){this.clientId=e,this.onlineState=t}static fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Bm(t.clientId,t.onlineState):(sc("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class qm{constructor(){this.activeTargetIds=Wd()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wm{constructor(e,t,n,r,i){this.window=e,this.li=t,this.persistenceKey=n,this.ws=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ss=this.bs.bind(this),this.Ds=new Wl(kc),this.started=!1,this.vs=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Cs=Mm(this.persistenceKey,this.ws),this.Fs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ds=this.Ds.insert(this.ws,new qm),this.Ms=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.xs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Os=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ns=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ls=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Ss)}static p(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.ws)continue;const e=this.getItem(Mm(this.persistenceKey,n));if(e){const t=zm.fs(n,e);t&&(this.Ds=this.Ds.insert(t.clientId,t))}}this.Bs();const t=this.storage.getItem(this.Ns);if(t){const e=this.ks(t);e&&this.qs(e)}for(const n of this.vs)this.bs(n);this.vs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Fs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Qs(this.Ds)}isActiveQueryTarget(e){let t=!1;return this.Ds.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ks(e,"pending")}updateMutationState(e,t,n){this.Ks(e,t,n),this.$s(e)}addLocalQueryTarget(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(jm(this.persistenceKey,e));if(t){const r=Vm.fs(e,t);r&&(n=r.state)}}return t&&this.Us.ps(e),this.Bs(),n}removeLocalQueryTarget(e){this.Us.ys(e),this.Bs()}isLocalQueryTarget(e){return this.Us.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jm(this.persistenceKey,e))}updateQueryState(e,t,n){this.Ws(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.$s(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Gs(e)}notifyBundleLoaded(e){this.zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ss),this.removeItem(this.Cs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return oc("SharedClientState","READ",e,t),t}setItem(e,t){oc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){oc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}bs(e){const t=e;if(t.storageArea===this.storage){if(oc("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Cs)return void sc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.li.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ms.test(t.key)){if(null==t.newValue){const e=this.js(t.key);return this.Hs(e,null)}{const e=this.Js(t.key,t.newValue);if(e)return this.Hs(e.clientId,e)}}else if(this.xs.test(t.key)){if(null!==t.newValue){const e=this.Ys(t.key,t.newValue);if(e)return this.Zs(e)}}else if(this.Os.test(t.key)){if(null!==t.newValue){const e=this.Xs(t.key,t.newValue);if(e)return this.eo(e)}}else if(t.key===this.Ns){if(null!==t.newValue){const e=this.ks(t.newValue);if(e)return this.qs(e)}}else if(t.key===this.Fs){const e=function(e){let t=sl.oe;if(null!=e)try{const n=JSON.parse(e);uc("number"==typeof n),t=n}catch(e){sc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==sl.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Ls){const e=this.no(t.newValue);await Promise.all(e.map((e=>this.syncEngine.ro(e))))}}else this.vs.push(t)}))}}get Us(){return this.Ds.get(this.ws)}Bs(){this.setItem(this.Cs,this.Us.gs())}Ks(e,t,n){const r=new Um(this.currentUser,e,t,n),i=Fm(this.persistenceKey,this.currentUser,e);this.setItem(i,r.gs())}$s(e){const t=Fm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Gs(e){const t={clientId:this.ws,onlineState:e};this.storage.setItem(this.Ns,JSON.stringify(t))}Ws(e,t,n){const r=jm(this.persistenceKey,e),i=new Vm(e,t,n);this.setItem(r,i.gs())}zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Ls,t)}js(e){const t=this.Ms.exec(e);return t?t[1]:null}Js(e,t){const n=this.js(e);return zm.fs(n,t)}Ys(e,t){const n=this.xs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Um.fs(new tc(i),r,t)}Xs(e,t){const n=this.Os.exec(e),r=Number(n[1]);return Vm.fs(r,t)}ks(e){return Bm.fs(e)}no(e){return JSON.parse(e)}async Zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.io(e.batchId,e.state,e.error);oc("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}eo(e){return this.syncEngine.so(e.targetId,e.state,e.error)}Hs(e,t){const n=t?this.Ds.insert(e,t):this.Ds.remove(e),r=this.Qs(this.Ds),i=this.Qs(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.oo(o,s).then((()=>{this.Ds=n}))}qs(e){this.Ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Qs(e){let t=Wd();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Hm{constructor(){this._o=new qm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new qm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Km{uo(e){}shutdown(){}}class Gm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){oc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){oc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qm=null;function Jm(){return null===Qm?Qm=268435456+Math.round(2147483648*Math.random()):Qm++,"0x"+Qm.toString(16)}const Ym={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $m{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}const Xm="WebChannelConnection";class Zm extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo="projects/".concat(n,"/databases/").concat(r),this.xo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Oo(e,t,n,r,i){const o=Jm(),s=this.No(e,t.toUriEncodedString());oc("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(a,r,i),this.Bo(e,s,a,n).then((t=>(oc("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw ac("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}ko(e,t,n,r,i,o){return this.Oo(e,t,n,r,i)}Lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+nc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}No(e,t){const n=Ym[e];return"".concat(this.Fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,n,r){const i=Jm();return new Promise(((o,s)=>{const a=new Wa;a.setWithCredentials(!0),a.listenOnce(Ka.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Ga.NO_ERROR:const t=a.getResponseJson();oc(Xm,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Ga.TIMEOUT:oc(Xm,"RPC '".concat(e,"' ").concat(i," timed out")),s(new fc(hc.DEADLINE_EXCEEDED,"Request time out"));break;case Ga.HTTP_ERROR:const n=a.getStatus();if(oc(Xm,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(hc).indexOf(t)>=0?t:hc.UNKNOWN}(t.status);s(new fc(e,t.message))}else s(new fc(hc.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new fc(hc.UNAVAILABLE,"Connection failed."));break;default:lc()}}finally{oc(Xm,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);oc(Xm,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}qo(e,t,n){const r=Jm(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$a(),s=Ya(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Lo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");oc(Xm,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=o.createWebChannel(l,a);let d=!1,h=!1;const f=new $m({Eo:t=>{h?oc(Xm,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(oc(Xm,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),oc(Xm,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Ao:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Ha.EventType.OPEN,(()=>{h||(oc(Xm,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.So())})),p(u,Ha.EventType.CLOSE,(()=>{h||(h=!0,oc(Xm,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Do())})),p(u,Ha.EventType.ERROR,(t=>{h||(h=!0,ac(Xm,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Do(new fc(hc.UNAVAILABLE,"The operation could not be completed")))})),p(u,Ha.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];uc(!!i);const o=i,s=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){oc(Xm,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Ch[e];if(void 0!==t)return Rh(t)}(t),i=s.message;void 0===n&&(n=hc.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.Do(new fc(n,i)),u.close()}else oc(Xm,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.vo(i)}})),p(s,Ja.STAT_EVENT,(t=>{t.stat===Qa.PROXY?oc(Xm,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Qa.NOPROXY&&oc(Xm,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.bo()}),0),f}}function eg(){return"undefined"!=typeof window?window:null}function tg(){return"undefined"!=typeof document?document:null}function ng(e){return new Yh(e,!0)}class rg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=e,this.timerId=t,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-n);r>0&&oc("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Uo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),e()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class ig{constructor(e,t,n,r,i,o,s,a){this.li=e,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new rg(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===hc.RESOURCE_EXHAUSTED?(sc(t.toString()),sc("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===hc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Xo===t&&this.I_(n,r)}),(t=>{e((()=>{const e=new fc(hc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.E_(e)}))}))}I_(e,t){const n=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((e=>{n((()=>this.E_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.n_?this.A_(e):this.onNext(e)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(e){return oc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget((()=>this.Xo===e?t():(oc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class og extends ig{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:lc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(uc(void 0===t||"string"==typeof t),Xl.fromBase64String(t||"")):(uc(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Xl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?hc.UNKNOWN:Rh(e.code);return new fc(t,e.message||"")}(s);n=new Bh(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=af(e,r.document.name),o=tf(r.document.updateTime),s=r.document.createTime?tf(r.document.createTime):Ac.min(),a=new Nu({mapValue:{fields:r.document.fields}}),c=Lu.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Vh(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=af(e,r.document),o=r.readTime?tf(r.readTime):Ac.min(),s=Lu.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Vh([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=af(e,r.document),o=r.removedTargetIds||[];n=new Vh([],o,i,null)}else{if(!("filter"in t))return lc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Th(r,i),s=e.targetId;n=new zh(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ac.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ac.min():t.readTime?tf(t.readTime):Ac.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=uf(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ud(r)?{documents:gf(e,r)}:{query:vf(e,r).ct},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Zh(e,t.resumeToken);const r=$h(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ac.min())>0){n.readTime=Xh(e,t.snapshotVersion.toTimestamp());const r=$h(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=uf(this.serializer),t.removeTarget=e,this.c_(t)}}class sg extends ig{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return uc(!!e.streamToken),this.lastStreamToken=e.streamToken,uc(!e.writeResults||0===e.writeResults.length),this.listener.p_()}onNext(e){uc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=function(e,t){return e&&e.length>0?(uc(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?tf(e.updateTime):tf(t);return n.isEqual(Ac.min())&&(n=tf(t)),new ah(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=tf(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=uf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>pf(this.serializer,e)))};this.c_(t)}}class ag extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new fc(hc.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Oo(e,rf(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===hc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new fc(hc.UNKNOWN,e.toString())}))}ko(e,t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.ko(e,rf(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===hc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new fc(hc.UNKNOWN,e.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class cg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.C_?(sc(t),this.C_=!1):oc("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class lg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo((e=>{n.enqueueAndForget((async()=>{yg(this)&&(oc("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=dc(e);t.k_.add(4),await dg(t),t.K_.set("Unknown"),t.k_.delete(4),await ug(t)}(this))}))})),this.K_=new cg(n,r)}}async function ug(e){if(yg(e))for(const t of e.q_)await t(!0)}async function dg(e){for(const t of e.q_)await t(!1)}function hg(e,t){const n=dc(e);n.B_.has(t.targetId)||(n.B_.set(t.targetId,t),vg(n)?gg(n):Fg(n).s_()&&pg(n,t))}function fg(e,t){const n=dc(e),r=Fg(n);n.B_.delete(t),r.s_()&&mg(n,t),0===n.B_.size&&(r.s_()?r.a_():yg(n)&&n.K_.set("Unknown"))}function pg(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ac.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fg(e).V_(t)}function mg(e,t){e.U_.xe(t),Fg(e).m_(t)}function gg(e){e.U_=new Wh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.B_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Fg(e).start(),e.K_.F_()}function vg(e){return yg(e)&&!Fg(e).i_()&&e.B_.size>0}function yg(e){return 0===dc(e).k_.size}function wg(e){e.U_=void 0}async function bg(e){e.K_.set("Online")}async function _g(e){e.B_.forEach(((t,n)=>{pg(e,t)}))}async function Sg(e,t){wg(e),vg(e)?(e.K_.O_(t),gg(e)):e.K_.set("Unknown")}async function Eg(e,t,n){if(e.K_.set("Online"),t instanceof Bh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.B_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.B_.delete(r),e.U_.removeTarget(r))}(e,t)}catch(n){oc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ig(e,n)}else if(t instanceof Vh?e.U_.$e(t):t instanceof zh?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(Ac.min()))try{const t=await Tm(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.U_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.B_.get(r);i&&e.B_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.B_.get(t);if(!r)return;e.B_.set(t,r.withResumeToken(Xl.EMPTY_BYTE_STRING,r.snapshotVersion)),mg(e,t);const i=new xf(r.target,t,n,r.sequenceNumber);pg(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){oc("RemoteStore","Failed to raise snapshot:",t),await Ig(e,t)}}async function Ig(e,t,n){if(!Zc(t))throw t;e.k_.add(1),await dg(e),e.K_.set("Offline"),n||(n=()=>Tm(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{oc("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await ug(e)}))}function kg(e,t){return t().catch((n=>Ig(e,n,t)))}async function Tg(e){const t=dc(e),n=jg(t);let r=t.L_.length>0?t.L_[t.L_.length-1].batchId:-1;for(;Cg(t);)try{const e=await xm(t.localStore,r);if(null===e){0===t.L_.length&&n.a_();break}r=e.batchId,xg(t,e)}catch(e){await Ig(t,e)}Ag(t)&&Rg(t)}function Cg(e){return yg(e)&&e.L_.length<10}function xg(e,t){e.L_.push(t);const n=jg(e);n.s_()&&n.f_&&n.g_(t.mutations)}function Ag(e){return yg(e)&&!jg(e).i_()&&e.L_.length>0}function Rg(e){jg(e).start()}async function Pg(e){jg(e).w_()}async function Og(e){const t=jg(e);for(const n of e.L_)t.g_(n.mutations)}async function Ng(e,t,n){const r=e.L_.shift(),i=Ih.from(r,t,n);await kg(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Tg(e)}async function Dg(e,t){t&&jg(e).f_&&await async function(e,t){if(function(e){return Ah(e)&&e!==hc.ABORTED}(t.code)){const n=e.L_.shift();jg(e).__(),await kg(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Tg(e)}}(e,t),Ag(e)&&Rg(e)}async function Lg(e,t){const n=dc(e);n.asyncQueue.verifyOperationInProgress(),oc("RemoteStore","RemoteStore received new credentials");const r=yg(n);n.k_.add(3),await dg(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await ug(n)}async function Mg(e,t){const n=dc(e);t?(n.k_.delete(2),await ug(n)):t||(n.k_.add(2),await dg(n),n.K_.set("Unknown"))}function Fg(e){return e.W_||(e.W_=function(e,t,n){const r=dc(e);return r.b_(),new og(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:bg.bind(null,e),mo:_g.bind(null,e),po:Sg.bind(null,e),R_:Eg.bind(null,e)}),e.q_.push((async t=>{t?(e.W_.__(),vg(e)?gg(e):e.K_.set("Unknown")):(await e.W_.stop(),wg(e))}))),e.W_}function jg(e){return e.G_||(e.G_=function(e,t,n){const r=dc(e);return r.b_(),new sg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:()=>Promise.resolve(),mo:Pg.bind(null,e),po:Dg.bind(null,e),p_:Og.bind(null,e),y_:Ng.bind(null,e)}),e.q_.push((async t=>{t?(e.G_.__(),await Tg(e)):(await e.G_.stop(),e.L_.length>0&&(oc("RemoteStore","Stopping write stream with ".concat(e.L_.length," pending writes")),e.L_=[]))}))),e.G_}class Ug{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new pc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Ug(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fc(hc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(e,t){if(sc("AsyncQueue","".concat(t,": ").concat(e)),Zc(e))return new fc(hc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class zg{static emptySet(e){return new zg(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Dc.comparator(t.key,n.key):(e,t)=>Dc.comparator(e.key,t.key),this.keyedMap=Ld(),this.sortedSet=new Wl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new zg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Bg{constructor(){this.z_=new Wl(Dc.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):lc():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class qg{constructor(e,t,n,r,i,o,s,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new qg(e,t,zg.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Wg{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((e=>e.Z_()))}}class Hg{constructor(){this.queries=Kg(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(e,t){const n=dc(e),r=n.queries;n.queries=Kg(),r.forEach(((e,n)=>{for(const r of n.J_)r.onError(t)}))}(this,new fc(hc.ABORTED,"Firestore shutting down"))}}function Kg(){return new Pd((e=>kd(e)),Id)}async function Gg(e,t){const n=dc(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Y_()&&t.Z_()&&(r=2):(o=new Wg,r=t.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Vg(e,"Initialization of query '".concat(Td(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.J_.push(t),t.ea(n.onlineState),o.H_&&t.ta(o.H_)&&$g(n)}async function Qg(e,t){const n=dc(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.J_.indexOf(t);e>=0&&(o.J_.splice(e,1),0===o.J_.length?i=t.Z_()?0:1:!o.Y_()&&t.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Jg(e,t){const n=dc(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.J_)e.ta(i)&&(r=!0);t.H_=i}}r&&$g(n)}function Yg(e,t,n){const r=dc(e),i=r.queries.get(t);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(t)}function $g(e){e.X_.forEach((e=>{e.next()}))}var Xg,Zg;(Zg=Xg||(Xg={})).na="default",Zg.Cache="cache";class ev{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new qg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==t;return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=qg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Xg.Cache}}class tv{constructor(e,t){this.ca=e,this.byteLength=t}la(){return"metadata"in this.ca}}class nv{constructor(e){this.serializer=e}As(e){return af(this.serializer,e)}Rs(e){return e.metadata.exists?ff(this.serializer,e.document,!1):Lu.newNoDocument(this.As(e.metadata.name),this.Vs(e.metadata.readTime))}Vs(e){return tf(e)}}class rv{constructor(e,t,n){this.ha=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=iv(e)}Pa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ca.namedQuery)this.queries.push(e.ca.namedQuery);else if(e.ca.documentMetadata){this.documents.push({metadata:e.ca.documentMetadata}),e.ca.documentMetadata.exists||++t;const n=Pc.fromString(e.ca.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ca.document&&(this.documents[this.documents.length-1].document=e.ca.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ta(e){const t=new Map,n=new nv(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.As(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Bd()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=dc(e);let o=Bd(),s=Nd();for(const l of n){const e=t.As(l.metadata.name);l.document&&(o=o.add(e));const n=t.Rs(l);n.setReadTime(t.Vs(l.metadata.readTime)),s=s.insert(e,n)}const a=i.hs.newChangeBuffer({trackRemovals:!0}),c=await Am(i,function(e){return bd(gd(Pc.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Cm(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Gr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Gr.addMatchingKeys(e,o,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.Is,t.Es))).next((()=>t.Is))))))}(this.localStore,new nv(this.serializer),this.documents,this.ha.id),t=this.Ta(this.documents);for(const n of this.queries)await Lm(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Ia:this.collectionGroups,Ea:e}}}function iv(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class ov{constructor(e){this.key=e}}class sv{constructor(e){this.key=e}}class av{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Bd(),this.mutatedKeys=Bd(),this.Va=Ad(e),this.ma=new zg(this.Va)}get fa(){return this.da}ga(e,t){const n=t?t.pa:new Bg,r=t?t.ma:this.ma;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=Cd(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ya(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Va(u,a)>0||c&&this.Va(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ma:o,pa:n,ss:s,mutatedKeys:i}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lc()}};return n(e)-n(t)}(e.type,t.type)||this.Va(e.doc,t.doc))),this.wa(n),r=null!=r&&r;const s=t&&!r?this.Sa():[],a=0===this.Ra.size&&this.current&&!r?1:0,c=a!==this.Aa;return this.Aa=a,0!==o.length||c?{snapshot:new qg(this.query,e.ma,i,o,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:s}:{ba:s}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Bg,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach((e=>this.da=this.da.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.da=this.da.delete(e))),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Bd(),this.ma.forEach((e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))}));const t=[];return e.forEach((e=>{this.Ra.has(e)||t.push(new sv(e))})),this.Ra.forEach((n=>{e.has(n)||t.push(new ov(n))})),t}va(e){this.da=e.ds,this.Ra=Bd();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return qg.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class cv{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class lv{constructor(e){this.key=e,this.Fa=!1}}class uv{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Pd((e=>kd(e)),Id),this.Oa=new Map,this.Na=new Set,this.La=new Wl(Dc.comparator),this.Ba=new Map,this.ka=new rm,this.qa={},this.Qa=new Map,this.Ka=Pp.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function dv(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Vv(e);let i;const o=r.xa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await fv(r,t,n,!0),i}async function hv(e,t){const n=Vv(e);await fv(n,t,!0,!1)}async function fv(e,t,n,r){const i=await Am(e.localStore,bd(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await pv(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&hg(e.remoteStore,i),a}async function pv(e,t,n,r,i){e.Ua=(t,n,r)=>async function(e,t,n,r){let i=t.view.ga(n);i.ss&&(i=await Pm(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ga(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return Tv(e,t.targetId,a.ba),a.snapshot}(e,t,n,r);const o=await Pm(e.localStore,t,!0),s=new av(t,o.ds),a=s.ga(o.documents),c=Uh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=s.applyChanges(a,e.isPrimaryClient,c);Tv(e,n,l.ba);const u=new cv(t,n,s);return e.xa.set(t,u),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),l.snapshot}async function mv(e,t,n){const r=dc(e),i=r.xa.get(t),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter((e=>!Id(e,t)))),void r.xa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Rm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fg(r.remoteStore,i.targetId),Iv(r,i.targetId)})).catch(Kc)):(Iv(r,i.targetId),await Rm(r.localStore,i.targetId,!0))}async function gv(e,t){const n=dc(e),r=n.xa.get(t),i=n.Oa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fg(n.remoteStore,r.targetId))}async function vv(e,t){const n=dc(e);try{const e=await function(e,t){const n=dc(e),r=t.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const s=[];t.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.Gr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Gr.addMatchingKeys(e,o.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(Xl.EMPTY_BYTE_STRING,Ac.min()).withLastLimboFreeSnapshotVersion(Ac.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,o)&&s.push(n.Gr.updateTargetData(e,l))}));let a=Nd(),c=Bd();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Cm(e,o,t.documentUpdates).next((e=>{a=e.Is,c=e.Es}))),!r.isEqual(Ac.min())){const t=n.Gr.getLastRemoteSnapshotVersion(e).next((t=>n.Gr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Gc.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.us=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ba.get(t);r&&(uc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Fa=!0:e.modifiedDocuments.size>0?uc(r.Fa):e.removedDocuments.size>0&&(uc(r.Fa),r.Fa=!1))})),await Av(n,e,t)}catch(e){await Kc(e)}}function yv(e,t,n){const r=dc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xa.forEach(((n,r)=>{const i=r.view.ea(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=dc(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.J_)i.ea(t)&&(r=!0)})),r&&$g(n)}(r.eventManager,t),e.length&&r.Ma.R_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wv(e,t,n){const r=dc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ba.get(t),o=i&&i.key;if(o){let e=new Wl(Dc.comparator);e=e.insert(o,Lu.newNoDocument(o,Ac.min()));const n=Bd().add(o),i=new jh(Ac.min(),new Map,new Wl(kc),e,n);await vv(r,i),r.La=r.La.remove(o),r.Ba.delete(t),xv(r)}else await Rm(r.localStore,t,!1).then((()=>Iv(r,t,n))).catch(Kc)}async function bv(e,t){const n=dc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=dc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Gc.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);uc(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Bd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Ev(n,r,null),Sv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Av(n,e)}catch(e){await Kc(e)}}async function _v(e,t,n){const r=dc(e);try{const e=await function(e,t){const n=dc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(uc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Ev(r,t,n),Sv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Av(r,e)}catch(n){await Kc(n)}}function Sv(e,t){(e.Qa.get(t)||[]).forEach((e=>{e.resolve()})),e.Qa.delete(t)}function Ev(e,t,n){const r=dc(e);let i=r.qa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.qa[r.currentUser.toKey()]=i}}function Iv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Oa.get(t))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach((t=>{e.ka.containsKey(t)||kv(e,t)}))}function kv(e,t){e.Na.delete(t.path.canonicalString());const n=e.La.get(t);null!==n&&(fg(e.remoteStore,n),e.La=e.La.remove(t),e.Ba.delete(n),xv(e))}function Tv(e,t,n){for(const r of n)r instanceof ov?(e.ka.addReference(r.key,t),Cv(e,r)):r instanceof sv?(oc("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||kv(e,r.key)):lc()}function Cv(e,t){const n=t.key,r=n.path.canonicalString();e.La.get(n)||e.Na.has(r)||(oc("SyncEngine","New document in limbo: "+n),e.Na.add(r),xv(e))}function xv(e){for(;e.Na.size>0&&e.La.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new Dc(Pc.fromString(t)),r=e.Ka.next();e.Ba.set(r,new lv(n)),e.La=e.La.insert(n,r),hg(e.remoteStore,new xf(bd(gd(n.path)),r,"TargetPurposeLimboResolution",sl.oe))}}async function Av(e,t,n){const r=dc(e),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach(((e,a)=>{s.push(r.Ua(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=bm.zi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Ma.R_(i),await async function(e,t){const n=dc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Gc.forEach(t,(t=>Gc.forEach(t.Wi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Gc.forEach(t.Gi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Zc(e))throw e;oc("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.us.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(e,i)}}}(r.localStore,o))}async function Rv(e,t){const n=dc(e);if(!n.currentUser.isEqual(t)){oc("SyncEngine","User change. New user:",t.toKey());const e=await km(n.localStore,t);n.currentUser=t,function(e,t){e.Qa.forEach((e=>{e.forEach((e=>{e.reject(new fc(hc.CANCELLED,t))}))})),e.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Av(n,e.Ts)}}function Pv(e,t){const n=dc(e),r=n.Ba.get(t);if(r&&r.Fa)return Bd().add(r.key);{let e=Bd();const r=n.Oa.get(t);if(!r)return e;for(const t of r){const r=n.xa.get(t);e=e.unionWith(r.view.fa)}return e}}async function Ov(e,t){const n=dc(e),r=await Pm(n.localStore,t.query,!0),i=t.view.va(r);return n.isPrimaryClient&&Tv(n,t.targetId,i.ba),i}async function Nv(e,t){const n=dc(e);return Nm(n.localStore,t).then((e=>Av(n,e)))}async function Dv(e,t,n,r){const i=dc(e),o=await function(e,t){const n=dc(e),r=dc(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.On(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Gc.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await Tg(i.remoteStore):"acknowledged"===n||"rejected"===n?(Ev(i,t,r||null),Sv(i,t),function(e,t){dc(dc(e).mutationQueue).Ln(t)}(i.localStore,t)):lc(),await Av(i,o)):oc("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Lv(e,t,n){const r=dc(e),i=[],o=[];for(const s of t){let e;const t=r.Oa.get(s);if(t&&0!==t.length){e=await Am(r.localStore,bd(t[0]));for(const e of t){const t=r.xa.get(e),n=await Ov(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await Om(r.localStore,s);e=await Am(r.localStore,t),await pv(r,Mv(t),s,!1,e.resumeToken)}i.push(e)}return r.Ma.R_(o),i}function Mv(e){return md(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Fv(e){return function(e){return dc(dc(e).persistence).$i()}(dc(e).localStore)}async function jv(e,t,n,r){const i=dc(e);if(i.$a)return void oc("SyncEngine","Ignoring unexpected query state notification.");const o=i.Oa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Nm(i.localStore,xd(o[0])),r=jh.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Xl.EMPTY_BYTE_STRING);await Av(i,e,r);break}case"rejected":await Rm(i.localStore,t,!0),Iv(i,t,r);break;default:lc()}}async function Uv(e,t,n){const r=Vv(e);if(r.$a){for(const e of t){if(r.Oa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){oc("SyncEngine","Adding an already active target "+e);continue}const t=await Om(r.localStore,e),n=await Am(r.localStore,t);await pv(r,Mv(t),n.targetId,!1,n.resumeToken),hg(r.remoteStore,n)}for(const e of n)r.Oa.has(e)&&await Rm(r.localStore,e,!1).then((()=>{fg(r.remoteStore,e),Iv(r,e)})).catch(Kc)}}function Vv(e){const t=dc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wv.bind(null,t),t.Ma.R_=Jg.bind(null,t.eventManager),t.Ma.Wa=Yg.bind(null,t.eventManager),t}function zv(e){const t=dc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_v.bind(null,t),t}class Bv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ng(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Im(this.persistence,new Sm,e.initialUser,this.serializer)}ja(e){return new lm(dm.ei,this.serializer)}za(e){return new Hm}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bv.provider={build:()=>new Bv};class qv extends Bv{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){uc(this.persistence.referenceDelegate instanceof hm);const n=this.persistence.referenceDelegate.garbageCollector;return new jp(n,e.asyncQueue,t)}ja(e){const t=void 0!==this.cacheSizeBytes?Ep.withCacheSize(this.cacheSizeBytes):Ep.DEFAULT;return new lm((e=>hm.ei(e,t)),this.serializer)}}class Wv extends Bv{constructor(e,t,n){super(),this.Za=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Za.initialize(this,e),await zv(this.Za.syncEngine),await Tg(this.Za.remoteStore),await this.persistence.Si((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}Ha(e){return Im(this.persistence,new Sm,e.initialUser,this.serializer)}Ja(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new jp(n,e.asyncQueue,t)}Ya(e,t){const n=new ol(t,this.persistence);return new il(e.asyncQueue,n)}ja(e){const t=wm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ep.withCacheSize(this.cacheSizeBytes):Ep.DEFAULT;return new gm(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,eg(),tg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}za(e){return new Hm}}class Hv extends Wv{constructor(e,t){super(e,t,!1),this.Za=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Za.syncEngine;this.sharedClientState instanceof Wm&&(this.sharedClientState.syncEngine={io:Dv.bind(null,t),so:jv.bind(null,t),oo:Uv.bind(null,t),$i:Fv.bind(null,t),ro:Nv.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Si((async e=>{await async function(e,t){const n=dc(e);if(Vv(n),zv(n),!0===t&&!0!==n.$a){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Lv(n,e.toArray());n.$a=!0,await Mg(n.remoteStore,!0);for(const r of t)hg(n.remoteStore,r)}else if(!1===t&&!1!==n.$a){const e=[];let t=Promise.resolve();n.Oa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Iv(n,i),Rm(n.localStore,i,!0)))),fg(n.remoteStore,i)})),await t,await Lv(n,e),function(e){const t=dc(e);t.Ba.forEach(((e,n)=>{fg(t.remoteStore,n)})),t.ka.wr(),t.Ba=new Map,t.La=new Wl(Dc.comparator)}(n),n.$a=!1,await Mg(n.remoteStore,!1)}}(this.Za.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}za(e){const t=eg();if(!Wm.p(t))throw new fc(hc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=wm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wm(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Kv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yv(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rv.bind(null,this.syncEngine),await Mg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Hg}createDatastore(e){const t=ng(e.databaseInfo.databaseId),n=function(e){return new Zm(e)}(e.databaseInfo);return function(e,t,n,r){return new ag(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new lg(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>yv(this.syncEngine,e,0)),Gm.p()?new Gm:new Km)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new uv(e,t,n,r,i,o);return s&&(a.$a=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=dc(e);oc("RemoteStore","RemoteStore shutting down."),t.k_.add(5),await dg(t),t.Q_.shutdown(),t.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function Gv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}Kv.provider={build:()=>new Kv};class Qv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):sc("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Jv{constructor(e,t){this.tu=e,this.serializer=t,this.metadata=new pc,this.buffer=new Uint8Array,this.nu=new TextDecoder("utf-8"),this.ru().then((e=>{e&&e.la()?this.metadata.resolve(e.ca.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ca))))}),(e=>this.metadata.reject(e)))}close(){return this.tu.cancel()}async getMetadata(){return this.metadata.promise}async Ga(){return await this.getMetadata(),this.ru()}async ru(){const e=await this.iu();if(null===e)return null;const t=this.nu.decode(e),n=Number(t);isNaN(n)&&this.su("length string (".concat(t,") is not valid number"));const r=await this.ou(n);return new tv(JSON.parse(r),e.length+n)}_u(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async iu(){for(;this._u()<0&&!await this.au(););if(0===this.buffer.length)return null;const e=this._u();e<0&&this.su("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ou(e){for(;this.buffer.length<e;)await this.au()&&this.su("Reached the end of bundle when more is expected.");const t=this.nu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}su(e){throw this.tu.cancel(),new Error("Invalid bundle format: ".concat(e))}async au(){const e=await this.tu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Yv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new fc(hc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=dc(e),r={documents:t.map((e=>sf(n.serializer,e)))},i=await n.ko("BatchGetDocuments",n.serializer.databaseId,Pc.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){uc(!!t.found),t.found.name,t.found.updateTime;const n=af(e,t.found.name),r=tf(t.found.updateTime),i=t.found.createTime?tf(t.found.createTime):Ac.min(),o=new Nu({mapValue:{fields:t.found.fields}});return Lu.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){uc(!!t.missing),uc(!!t.readTime);const n=af(e,t.missing),r=tf(t.readTime);return Lu.newNoDocument(n,r)}(e,t):lc()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());uc(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new _h(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Dc.fromPath(t);this.mutations.push(new Sh(n,this.precondition(n)))})),await async function(e,t){const n=dc(e),r={writes:t.map((e=>pf(n.serializer,e)))};await n.Oo("Commit",n.serializer.databaseId,Pc.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lc();t=Ac.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new fc(hc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ac.min())?ch.exists(!1):ch.updateTime(t):ch.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ac.min()))throw new fc(hc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ch.updateTime(t)}return ch.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $v{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.uu=n.maxAttempts,this.r_=new rg(this.asyncQueue,"transaction_retry")}cu(){this.uu-=1,this.lu()}lu(){this.r_.jo((async()=>{const e=new Yv(this.datastore),t=this.hu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Pu(e)}))))})).catch((e=>{this.Pu(e)}))}))}hu(e){try{const t=this.updateFunction(e);return!al(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Pu(e){this.uu>0&&this.Tu(e)?(this.uu-=1,this.asyncQueue.enqueueAndForget((()=>(this.lu(),Promise.resolve())))):this.deferred.reject(e)}Tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ah(t)}return!1}}class Xv{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=tc.UNAUTHENTICATED,this.clientId=Ic.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{oc("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(oc("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Vg(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Zv(e,t){e.asyncQueue.verifyOperationInProgress(),oc("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await km(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function ey(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ty(e);oc("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Lg(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Lg(t.remoteStore,n))),e._onlineComponents=t}async function ty(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){oc("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===hc.FAILED_PRECONDITION||e.code===hc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ac("Error using user provided cache. Falling back to memory cache: "+n),await Zv(e,new Bv)}}else oc("FirestoreClient","Using default OfflineComponentProvider"),await Zv(e,new qv(void 0));return e._offlineComponents}async function ny(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(oc("FirestoreClient","Using user provided OnlineComponentProvider"),await ey(e,e._uninitializedComponentsProvider._online)):(oc("FirestoreClient","Using default OnlineComponentProvider"),await ey(e,new Kv))),e._onlineComponents}function ry(e){return ty(e).then((e=>e.persistence))}function iy(e){return ty(e).then((e=>e.localStore))}function oy(e){return ny(e).then((e=>e.remoteStore))}function sy(e){return ny(e).then((e=>e.syncEngine))}function ay(e){return ny(e).then((e=>e.datastore))}async function cy(e){const t=await ny(e),n=t.eventManager;return n.onListen=dv.bind(null,t.syncEngine),n.onUnlisten=mv.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=hv.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gv.bind(null,t.syncEngine),n}function ly(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new pc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Qv({next:a=>{o.eu(),t.enqueueAndForget((()=>Qg(e,s)));const c=a.docs.has(n);!c&&a.fromCache?i.reject(new fc(hc.UNAVAILABLE,"Failed to get document because the client is offline.")):c&&a.fromCache&&r&&"server"===r.source?i.reject(new fc(hc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new ev(gd(n.path),o,{includeMetadataChanges:!0,ua:!0});return Gg(e,s)}(await cy(e),e.asyncQueue,t,n,r))),r.promise}function uy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new pc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Qv({next:n=>{o.eu(),t.enqueueAndForget((()=>Qg(e,s))),n.fromCache&&"server"===r.source?i.reject(new fc(hc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new ev(n,o,{includeMetadataChanges:!0,ua:!0});return Gg(e,s)}(await cy(e),e.asyncQueue,t,n,r))),r.promise}function dy(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Oh().encode(e):e,function(e,t){return new Jv(e,t)}(function(e,t){if(e instanceof Uint8Array)return Gv(e,t);if(e instanceof ArrayBuffer)return Gv(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,ng(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=dc(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=dc(e),r=tf(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.jr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(iv(r));const i=new rv(r,e.localStore,t.serializer);let o=await t.Ga();for(;o;){const e=await i.Pa(o);e&&n._updateProgress(e),o=await t.Ga()}const s=await i.complete();return await Av(e,s.Ea,void 0),await function(e,t){const n=dc(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.jr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.Ia)}catch(e){return ac("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await sy(e),i,r)}))}function hy(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const fy=new Map;function py(e,t,n){if(!n)throw new fc(hc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function my(e,t,n,r){if(!0===t&&!0===r)throw new fc(hc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function gy(e){if(!Dc.isDocumentKey(e))throw new fc(hc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function vy(e){if(Dc.isDocumentKey(e))throw new fc(hc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function yy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":lc()}function wy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new fc(hc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yy(e);throw new fc(hc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function by(e,t){if(t<=0)throw new fc(hc.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class _y{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new fc(hc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new fc(hc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}my("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hy(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new fc(hc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new fc(hc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new fc(hc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sy{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _y({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fc(hc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new fc(hc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _y(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new gc;switch(e.type){case"firstParty":return new bc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new fc(hc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=fy.get(e);t&&(oc("ComponentProvider","Removing Datastore"),fy.delete(e),t.terminate())}(this),Promise.resolve()}}function Ey(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=wy(e,Sy))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=tc.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[$t(JSON.stringify({alg:"none",type:"JWT"})),$t(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new fc(hc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new tc(o)}e._authCredentials=new vc(new mc(t,n))}}class Iy{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Iy(this.firestore,e,this._query)}}class ky{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ty(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ky(this.firestore,e,this._key)}}class Ty extends Iy{constructor(e,t,n){super(e,t,gd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ky(this.firestore,null,new Dc(e))}withConverter(e){return new Ty(this.firestore,e,this._path)}}function Cy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rn(e),py("collection","path",t),e instanceof Sy){const n=Pc.fromString(t,...r);return vy(n),new Ty(e,null,n)}{if(!(e instanceof ky||e instanceof Ty))throw new fc(hc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Pc.fromString(t,...r));return vy(n),new Ty(e.firestore,null,n)}}function xy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rn(e),1===arguments.length&&(t=Ic.newId()),py("doc","path",t),e instanceof Sy){const n=Pc.fromString(t,...r);return gy(n),new ky(e,null,new Dc(n))}{if(!(e instanceof ky||e instanceof Ty))throw new fc(hc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Pc.fromString(t,...r));return gy(n),new ky(e.firestore,e instanceof Ty?e.converter:null,new Dc(n))}}function Ay(e,t){return e=Rn(e),t=Rn(t),(e instanceof ky||e instanceof Ty)&&(t instanceof ky||t instanceof Ty)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ry(e,t){return e=Rn(e),t=Rn(t),e instanceof Iy&&t instanceof Iy&&e.firestore===t.firestore&&Id(e._query,t._query)&&e.converter===t.converter}class Py{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new rg(this,"async_queue_retry"),this.fu=()=>{const e=tg();e&&oc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;const t=tg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=tg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise((()=>{}));const t=new pc;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Iu.push(e),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(oL){if(!Zc(oL))throw oL;oc("AsyncQueue","Operation failed with retryable error: "+oL)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(e){const t=this.gu.then((()=>(this.Ru=!0,e().catch((e=>{this.Au=e,this.Ru=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw sc("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ru=!1,e))))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const r=Ug.createAndSchedule(this,e,t,n,(e=>this.Su(e)));return this.du.push(r),r}pu(){this.Au&&lc()}verifyOperationInProgress(){}async bu(){let e;do{e=this.gu,await e}while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then((()=>{this.du.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()}))}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function Oy(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Ny{constructor(){this._progressObserver={},this._taskCompletionResolver=new pc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Dy extends Sy{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Py,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Py(e),this._firestoreClient=void 0,await e}}}function Ly(e){if(e._terminated)throw new fc(hc.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||My(e),e._firestoreClient}function My(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new su(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,hy(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Xv(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function Fy(e,t,n){if((e=wy(e,Dy))._firestoreClient||e._terminated)throw new fc(hc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new fc(hc.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},My(e)}function jy(e){return function(e){const t=new pc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=dc(e);yg(n.remoteStore)||oc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=dc(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Qa.get(e)||[];r.push(t),n.Qa.set(e,r)}catch(e){const n=Vg(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await sy(e),t))),t.promise}(Ly(e=wy(e,Dy)))}function Uy(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await ry(e),n=await oy(e);return t.setNetworkEnabled(!0),function(e){const t=dc(e);return t.k_.delete(0),ug(t)}(n)}))}(Ly(e=wy(e,Dy)))}function Vy(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await ry(e),n=await oy(e);return t.setNetworkEnabled(!1),async function(e){const t=dc(e);t.k_.add(0),await dg(t),t.K_.set("Offline")}(n)}))}(Ly(e=wy(e,Dy)))}function zy(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=dc(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.jr.getNamedQuery(e,t)))}(await iy(e),t)))}(Ly(e=wy(e,Dy)),t).then((t=>t?new Iy(e,null,t.query):null))}class By{constructor(e){this._byteString=e}static fromBase64String(e){try{return new By(Xl.fromBase64String(e))}catch(e){throw new fc(hc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new By(Xl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qy{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new fc(hc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wy{constructor(e){this._methodName=e}}class Hy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fc(hc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fc(hc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kc(this._lat,e._lat)||kc(this._long,e._long)}}class Ky{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Gy=/^__.*__$/;class Qy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new vh(e,this.data,this.fieldMask,t,this.fieldTransforms):new gh(e,this.data,t,this.fieldTransforms)}}class Jy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new vh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Yy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lc()}}class $y{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new $y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Lu(e),r}Bu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return vw(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(0===e.length)throw this.qu("Document fields must not be empty");if(Yy(this.Mu)&&Gy.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Xy{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ng(e)}$u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new $y({Mu:e,methodName:t,Ku:n,path:Nc.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zy(e){const t=e._freezeSettings(),n=ng(e._databaseId);return new Xy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ew(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.$u(o.merge||o.mergeFields?2:0,t,n,i);fw("Data must be an object, but it was:",s,r);const a=dw(r,s);let c,l;if(o.merge)c=new Yl(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=pw(t,r,n);if(!s.contains(i))throw new fc(hc.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));yw(e,i)||e.push(i)}c=new Yl(e),l=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=s.fieldTransforms;return new Qy(new Nu(a),c,l)}class tw extends Wy{_toFieldTransform(e){if(2!==e.Mu)throw 1===e.Mu?e.qu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tw}}function nw(e,t,n){return new $y({Mu:3,Ku:t.settings.Ku,methodName:e._methodName,Nu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class rw extends Wy{_toFieldTransform(e){return new sh(e.path,new Xd)}isEqual(e){return e instanceof rw}}class iw extends Wy{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=nw(this,e,!0),n=this.Uu.map((e=>uw(e,t))),r=new Zd(n);return new sh(e.path,r)}isEqual(e){return e instanceof iw&&Sn(this.Uu,e.Uu)}}class ow extends Wy{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=nw(this,e,!0),n=this.Uu.map((e=>uw(e,t))),r=new th(n);return new sh(e.path,r)}isEqual(e){return e instanceof ow&&Sn(this.Uu,e.Uu)}}class sw extends Wy{constructor(e,t){super(e),this.Wu=t}_toFieldTransform(e){const t=new rh(e.serializer,Gd(e.serializer,this.Wu));return new sh(e.path,t)}isEqual(e){return e instanceof sw&&this.Wu===e.Wu}}function aw(e,t,n,r){const i=e.$u(1,t,n);fw("Data must be an object, but it was:",i,r);const o=[],s=Nu.empty();Bl(r,((e,r)=>{const a=gw(t,e,n);r=Rn(r);const c=i.Bu(a);if(r instanceof tw)o.push(a);else{const e=uw(r,c);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Yl(o);return new Jy(s,a,i.fieldTransforms)}function cw(e,t,n,r,i,o){const s=e.$u(1,t,n),a=[pw(t,r,n)],c=[i];if(o.length%2!=0)throw new fc(hc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(pw(t,o[h])),c.push(o[h+1]);const l=[],u=Nu.empty();for(let h=a.length-1;h>=0;--h)if(!yw(l,a[h])){const e=a[h];let t=c[h];t=Rn(t);const n=s.Bu(e);if(t instanceof tw)l.push(e);else{const r=uw(t,n);null!=r&&(l.push(e),u.set(e,r))}}const d=new Yl(l);return new Jy(u,d,s.fieldTransforms)}function lw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return uw(n,e.$u(r?4:3,t))}function uw(e,t){if(hw(e=Rn(e)))return fw("Unsupported field value:",t,e),dw(e,t);if(e instanceof Wy)return function(e,t){if(!Yy(t.Mu))throw t.qu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&4!==t.Mu)throw t.qu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=uw(i,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Rn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=xc.fromDate(e);return{timestampValue:Xh(t.serializer,n)}}if(e instanceof xc){const n=new xc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xh(t.serializer,n)}}if(e instanceof Hy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof By)return{bytesValue:Zh(t.serializer,e._byteString)};if(e instanceof ky){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:nf(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Ky)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.qu("VectorValues must only contain numeric values.");return Hd(t.serializer,e)}))}}}}}}(e,t);throw t.qu("Unsupported field value: ".concat(yy(e)))}(e,t)}function dw(e,t){const n={};return ql(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bl(e,((e,r)=>{const i=uw(r,t.Ou(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function hw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof xc||e instanceof Hy||e instanceof By||e instanceof ky||e instanceof Wy||e instanceof Ky)}function fw(e,t,n){if(!hw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=yy(n);throw"an object"===r?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function pw(e,t,n){if((t=Rn(t))instanceof qy)return t._internalPath;if("string"==typeof t)return gw(e,t);throw vw("Field path arguments must be of type string or ",e,!1,void 0,n)}const mw=new RegExp("[~\\*/\\[\\]]");function gw(e,t,n){if(t.search(mw)>=0)throw vw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new qy(...t.split("."))._internalPath}catch(Rx){throw vw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function vw(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=" in field ".concat(r)),s&&(c+=" in document ".concat(i)),c+=")"),new fc(hc.INVALID_ARGUMENT,a+e+c)}function yw(e,t){return e.some((e=>e.isEqual(t)))}class ww{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ky(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_w("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class bw extends ww{data(){return super.data()}}function _w(e,t){return"string"==typeof t?gw(e,t):t instanceof qy?t._internalPath:t._delegate._internalPath}function Sw(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new fc(hc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ew{}class Iw extends Ew{}function kw(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Ew&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Cw)).length,n=e.filter((e=>e instanceof Tw)).length;if(t>1||t>0&&n>0)throw new fc(hc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Tw extends Iw{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Tw(e,t,n)}_apply(e){const t=this._parse(e);return Lw(e._query,t),new Iy(e.firestore,e.converter,Sd(e._query,t))}_parse(e){const t=Zy(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new fc(hc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Dw(s,o);const t=[];for(const n of s)t.push(Nw(r,e,n));a={arrayValue:{values:t}}}else a=Nw(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Dw(s,o),a=lw(n,t,s,"in"===o||"not-in"===o);return Bu.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Cw extends Ew{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cw(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:qu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Lw(n,i),n=Sd(n,i)}(e._query,t),new Iy(e.firestore,e.converter,Sd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class xw extends Iw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new xw(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new fc(hc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new fc(hc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uu(t,n)}(e._query,this._field,this._direction);return new Iy(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new pd(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Aw extends Iw{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Aw(e,t,n)}_apply(e){return new Iy(e.firestore,e.converter,Ed(e._query,this._limit,this._limitType))}}class Rw extends Iw{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Rw(e,t,n)}_apply(e){const t=Ow(e,this.type,this._docOrFields,this._inclusive);return new Iy(e.firestore,e.converter,function(e,t){return new pd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Pw extends Iw{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Pw(e,t,n)}_apply(e){const t=Ow(e,this.type,this._docOrFields,this._inclusive);return new Iy(e.firestore,e.converter,function(e,t){return new pd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Ow(e,t,n,r){if(n[0]=Rn(n[0]),n[0]instanceof ww)return function(e,t,n,r,i){if(!r)throw new fc(hc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of wd(e))if(s.field.isKeyField())o.push(wu(t,r.key));else{const e=r.data.field(s.field);if(ru(e))throw new fc(hc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new fc(hc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Mu(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Zy(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new fc(hc.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const o=i[c];if(s[c].field.isKeyField()){if("string"!=typeof o)throw new fc(hc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!yd(e)&&-1!==o.indexOf("/"))throw new fc(hc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(Pc.fromString(o));if(!Dc.isDocumentKey(n))throw new fc(hc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Dc(n);a.push(wu(t,i))}else{const e=lw(n,r,o);a.push(e)}}return new Mu(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Nw(e,t,n){if("string"==typeof(n=Rn(n))){if(""===n)throw new fc(hc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yd(t)&&-1!==n.indexOf("/"))throw new fc(hc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Pc.fromString(n));if(!Dc.isDocumentKey(r))throw new fc(hc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return wu(e,new Dc(r))}if(n instanceof ky)return wu(e,n._key);throw new fc(hc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(yy(n),"."))}function Dw(e,t){if(!Array.isArray(e)||0===e.length)throw new fc(hc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Lw(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new fc(hc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new fc(hc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Mw{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(uu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw lc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Bl(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>tu(e.doubleValue)));return new Ky(i)}convertGeoPoint(e){return new Hy(tu(e.latitude),tu(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=iu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const t=eu(e);return new xc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Pc.fromString(e);uc(Cf(n));const r=new au(n.get(1),n.get(3)),i=new Dc(n.popFirst(5));return r.isEqual(t)||sc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Fw(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class jw extends Mw{constructor(e){super(),this.firestore=e}convertBytes(e){return new By(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ky(this.firestore,null,t)}}class Uw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vw extends ww{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new zw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(_w("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class zw extends Vw{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Bw{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Uw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new zw(this._firestore,this._userDataWriter,n.key,n,new Uw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new fc(hc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new zw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Uw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new zw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Uw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:qw(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function qw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lc()}}function Ww(e,t){return e instanceof Vw&&t instanceof Vw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Bw&&t instanceof Bw&&e._firestore===t._firestore&&Ry(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class Hw extends Mw{constructor(e){super(),this.firestore=e}convertBytes(e){return new By(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ky(this.firestore,null,t)}}function Kw(e){e=wy(e,ky);const t=wy(e.firestore,Dy),n=Ly(t),r=new Hw(t);return function(e,t){const n=new pc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=dc(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new fc(hc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Vg(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await iy(e),t,n))),n.promise}(n,e._key).then((n=>new Vw(t,r,e._key,n,new Uw(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Gw(e){e=wy(e,Iy);const t=wy(e.firestore,Dy),n=Ly(t),r=new Hw(t);return function(e,t){const n=new pc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Pm(e,t,!0),i=new av(t,r.ds),o=i.ga(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=Vg(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await iy(e),t,n))),n.promise}(n,e._query).then((n=>new Bw(t,r,e,n)))}function Qw(e,t,n){e=wy(e,ky);const r=wy(e.firestore,Dy),i=Fw(e.converter,t,n);return Xw(r,[ew(Zy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ch.none())])}function Jw(e,t,n){e=wy(e,ky);const r=wy(e.firestore,Dy),i=Zy(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),c=3;c<s;c++)a[c-3]=arguments[c];return o="string"==typeof(t=Rn(t))||t instanceof qy?cw(i,"updateDoc",e._key,t,n,a):aw(i,"updateDoc",e._key,t),Xw(r,[o.toMutation(e._key,ch.exists(!0))])}function Yw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=Rn(e);let a={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||Oy(n[c])||(a=n[c],c++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Oy(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[c+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof ky)d=wy(e.firestore,Dy),h=gd(e._key.path),u={next:t=>{n[c]&&n[c](Zw(d,e,t))},error:n[c+1],complete:n[c+2]};else{const t=wy(e,Iy);d=wy(t.firestore,Dy),h=t._query;const r=new Hw(d);u={next:e=>{n[c]&&n[c](new Bw(d,r,t,e))},error:n[c+1],complete:n[c+2]},Sw(e._query)}return function(e,t,n,r){const i=new Qv(r),o=new ev(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Gg(await cy(e),o))),()=>{i.eu(),e.asyncQueue.enqueueAndForget((async()=>Qg(await cy(e),o)))}}(Ly(d),h,l,u)}function $w(e,t){return function(e,t){const n=new Qv(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){dc(e).X_.add(t),t.next()}(await cy(e),n))),()=>{n.eu(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){dc(e).X_.delete(t)}(await cy(e),n)))}}(Ly(e=wy(e,Dy)),Oy(t)?t:{next:t})}function Xw(e,t){return function(e,t){const n=new pc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=zv(e);try{const e=await function(e,t){const n=dc(e),r=xc.now(),i=t.reduce(((e,t)=>e.add(t.key)),Bd());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Nd(),c=Bd();return n.hs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=ph(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new vh(e.key,t,Du(t.value.mapValue),ch.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Md(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.qa[e.currentUser.toKey()];r||(r=new Wl(kc)),r=r.insert(t,n),e.qa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Av(r,e.changes),await Tg(r.remoteStore)}catch(e){const t=Vg(e,"Failed to persist write");n.reject(t)}}(await sy(e),t,n))),n.promise}(Ly(e),t)}function Zw(e,t,n){const r=n.docs.get(t._key),i=new Hw(e);return new Vw(e,i,t._key,r,new Uw(n.hasPendingWrites,n.fromCache),t.converter)}const eb={maxAttempts:5};class tb{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zy(e)}set(e,t,n){this._verifyNotCommitted();const r=nb(e,this._firestore),i=Fw(r.converter,t,n),o=ew(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ch.none())),this}update(e,t,n){this._verifyNotCommitted();const r=nb(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Rn(t))||t instanceof qy?cw(this._dataReader,"WriteBatch.update",r._key,t,n,s):aw(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,ch.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nb(e,this._firestore);return this._mutations=this._mutations.concat(new _h(t._key,ch.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fc(hc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nb(e,t){if((e=Rn(e)).firestore!==t)throw new fc(hc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class rb extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zy(e)}get(e){const t=nb(e,this._firestore),n=new jw(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return lc();const r=e[0];if(r.isFoundDocument())return new ww(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new ww(this._firestore,n,t._key,null,t.converter);throw lc()}))}set(e,t,n){const r=nb(e,this._firestore),i=Fw(r.converter,t,n),o=ew(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=nb(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Rn(t))||t instanceof qy?cw(this._dataReader,"Transaction.update",r._key,t,n,s):aw(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=nb(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nb(e,this._firestore),n=new Hw(this._firestore);return super.get(e).then((e=>new Vw(this._firestore,n,t._key,e._document,new Uw(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){nc=e}($r),Br(new Pn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Dy(new yc(e.getProvider("auth-internal")),new Sc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new fc(hc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),ri(ec,"4.7.5",e),ri(ec,"4.7.5","esm2017")}();function ib(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new fc("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function ob(){if("undefined"===typeof Uint8Array)throw new fc("unimplemented","Uint8Arrays are not available in this environment.")}function sb(){if("undefined"==typeof atob)throw new fc("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ab{constructor(e){this._delegate=e}static fromBase64String(e){return sb(),new ab(By.fromBase64String(e))}static fromUint8Array(e){return ob(),new ab(By.fromUint8Array(e))}toBase64(){return sb(),this._delegate.toBase64()}toUint8Array(){return ob(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cb(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class lb{enableIndexedDbPersistence(e,t){return function(e,t){ac("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return Fy(e,Kv.provider,{build:e=>new Wv(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return async function(e){ac("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();Fy(e,Kv.provider,{build:e=>new Hv(e,t.cacheSizeBytes)})}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new fc(hc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new pc;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Jc.p())return Promise.resolve();const t=e+"main";await Jc.delete(t)}(wm(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class ub{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof au||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||ac("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ey(this._delegate,e,t,n)}enableNetwork(){return Uy(this._delegate)}disableNetwork(){return Vy(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,my("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return jy(this._delegate)}onSnapshotsInSync(e){return $w(this._delegate,e)}get app(){if(!this._appCompat)throw new fc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ib(this,Cy(this._delegate,e))}catch(oL){throw gb(oL,"collection()","Firestore.collection()")}}doc(e){try{return new mb(this,xy(this._delegate,e))}catch(oL){throw gb(oL,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new _b(this,function(e,t){if(e=wy(e,Sy),py("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new fc(hc.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Iy(e,null,function(e){return new pd(Pc.emptyPath(),e)}(t))}(this._delegate,e))}catch(oL){throw gb(oL,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=wy(e,Dy);const r=Object.assign(Object.assign({},eb),n);return function(e){if(e.maxAttempts<1)throw new fc(hc.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new pc;return e.asyncQueue.enqueueAndForget((async()=>{const i=await ay(e);new $v(e.asyncQueue,i,n,t,r).cu()})),r.promise}(Ly(e),(n=>t(new rb(e,n))),r)}(this._delegate,(t=>e(new hb(this,t))))}batch(){return Ly(this._delegate),new fb(new tb(this._delegate,(e=>Xw(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Ly(e=wy(e,Dy)),r=new Ny;return dy(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return zy(this._delegate,e).then((e=>e?new _b(this,e):null))}}class db extends Mw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ab(new By(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return mb.forKey(t,this.firestore,null)}}class hb{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new db(e)}get(e){const t=kb(e);return this._delegate.get(t).then((e=>new wb(this._firestore,new Vw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=kb(e);return n?(ib("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=kb(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=kb(e);return this._delegate.delete(t),this}}class fb{constructor(e){this._delegate=e}set(e,t,n){const r=kb(e);return n?(ib("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=kb(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=kb(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class pb{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new zw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bb(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=pb.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new pb(e,new db(e),t),r.set(t,i)),i}}pb.INSTANCES=new WeakMap;class mb{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new db(e)}static forPath(e,t,n){if(e.length%2!==0)throw new fc("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new mb(t,new ky(t._delegate,n,new Dc(e)))}static forKey(e,t,n){return new mb(t,new ky(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Ib(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ib(this.firestore,Cy(this._delegate,e))}catch(oL){throw gb(oL,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Rn(e))instanceof ky&&Ay(this._delegate,e)}set(e,t){t=ib("DocumentReference.set",t);try{return t?Qw(this._delegate,e,t):Qw(this._delegate,e)}catch(oL){throw gb(oL,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Jw(this._delegate,e):Jw(this._delegate,e,t,...r)}catch(oL){throw gb(oL,"updateDoc()","DocumentReference.update()")}}delete(){return Xw(wy((e=this._delegate).firestore,Dy),[new _h(e._key,ch.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=vb(t),i=yb(t,(e=>new wb(this.firestore,new Vw(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Yw(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Kw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=wy(e,ky);const t=wy(e.firestore,Dy);return ly(Ly(t),e._key,{source:"server"}).then((n=>Zw(t,e,n)))}(this._delegate):function(e){e=wy(e,ky);const t=wy(e.firestore,Dy);return ly(Ly(t),e._key).then((n=>Zw(t,e,n)))}(this._delegate),t.then((e=>new wb(this.firestore,new Vw(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new mb(this.firestore,e?this._delegate.withConverter(pb.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function gb(e,t,n){return e.message=e.message.replace(t,n),e}function vb(e){for(const t of e)if("object"===typeof t&&!cb(t))return t;return{}}function yb(e,t){var n,r;let i;return i=cb(e[0])?e[0]:cb(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class wb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new mb(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ww(this._delegate,e._delegate)}}class bb extends wb{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||lc(),t}}class _b{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new db(e)}where(e,t,n){try{return new _b(this.firestore,kw(this._delegate,function(e,t,n){const r=t,i=_w("where",e);return Tw._create(i,r,n)}(e,t,n)))}catch(oL){throw gb(oL,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new _b(this.firestore,kw(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=_w("orderBy",e);return xw._create(n,t)}(e,t)))}catch(oL){throw gb(oL,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new _b(this.firestore,kw(this._delegate,(by("limit",t=e),Aw._create("limit",t,"F"))))}catch(t){throw gb(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new _b(this.firestore,kw(this._delegate,(by("limitToLast",t=e),Aw._create("limitToLast",t,"L"))))}catch(t){throw gb(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new _b(this.firestore,kw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Rw._create("startAt",t,!0)}(...arguments)))}catch(oL){throw gb(oL,"startAt()","Query.startAt()")}}startAfter(){try{return new _b(this.firestore,kw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Rw._create("startAfter",t,!1)}(...arguments)))}catch(oL){throw gb(oL,"startAfter()","Query.startAfter()")}}endBefore(){try{return new _b(this.firestore,kw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Pw._create("endBefore",t,!1)}(...arguments)))}catch(oL){throw gb(oL,"endBefore()","Query.endBefore()")}}endAt(){try{return new _b(this.firestore,kw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Pw._create("endAt",t,!0)}(...arguments)))}catch(oL){throw gb(oL,"endAt()","Query.endAt()")}}isEqual(e){return Ry(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Gw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=wy(e,Iy);const t=wy(e.firestore,Dy),n=Ly(t),r=new Hw(t);return uy(n,e._query,{source:"server"}).then((n=>new Bw(t,r,e,n)))}(this._delegate):function(e){e=wy(e,Iy);const t=wy(e.firestore,Dy),n=Ly(t),r=new Hw(t);return Sw(e._query),uy(n,e._query).then((n=>new Bw(t,r,e,n)))}(this._delegate),t.then((e=>new Eb(this.firestore,new Bw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=vb(t),i=yb(t,(e=>new Eb(this.firestore,new Bw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Yw(this._delegate,r,i)}withConverter(e){return new _b(this.firestore,e?this._delegate.withConverter(pb.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Sb{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new bb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Eb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new _b(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new bb(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Sb(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new bb(this._firestore,n))}))}isEqual(e){return Ww(this._delegate,e._delegate)}}class Ib extends _b{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new mb(this.firestore,e):null}doc(e){try{return new mb(this.firestore,void 0===e?xy(this._delegate):xy(this._delegate,e))}catch(oL){throw gb(oL,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=wy(e.firestore,Dy),r=xy(e),i=Fw(e.converter,t);return Xw(n,[ew(Zy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ch.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new mb(this.firestore,e)))}isEqual(e){return Ay(this._delegate,e._delegate)}withConverter(e){return new Ib(this.firestore,e?this._delegate.withConverter(pb.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function kb(e){return wy(e,ky)}class Tb{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new qy(...t)}static documentId(){return new Tb(Nc.keyField().canonicalString())}isEqual(e){return(e=Rn(e))instanceof qy&&this._delegate._internalPath.isEqual(e._internalPath)}}class Cb{static serverTimestamp(){const e=new rw("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Cb(e)}static delete(){const e=new tw("deleteField");return e._methodName="FieldValue.delete",new Cb(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iw("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new Cb(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ow("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new Cb(e)}static increment(e){const t=new sw("increment",e);return t._methodName="FieldValue.increment",new Cb(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}const xb={Firestore:ub,GeoPoint:Hy,Timestamp:xc,Blob:ab,Transaction:hb,WriteBatch:fb,DocumentReference:mb,DocumentSnapshot:wb,Query:_b,QueryDocumentSnapshot:bb,QuerySnapshot:Eb,CollectionReference:Ib,FieldPath:Tb,FieldValue:Cb,setLogLevel:function(e){var t;t=e,rc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var Ab;(function(e,t){e.INTERNAL.registerComponent(new Pn("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},xb)))})(Ab=bi,((e,t)=>new ub(e,t,new lb))),Ab.registerVersion("@firebase/firestore-compat","0.3.40");const Rb="facebook.com",Pb="github.com",Ob="google.com",Nb="password",Db="twitter.com",Lb="EMAIL_SIGNIN",Mb="PASSWORD_RESET",Fb="RECOVER_EMAIL",jb="REVERT_SECOND_FACTOR_ADDITION",Ub="VERIFY_AND_CHANGE_EMAIL",Vb="VERIFY_EMAIL";function zb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bb=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},qb=zb,Wb=new yn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Hb=new Bn("@firebase/auth");function Kb(e){if(Hb.logLevel<=Fn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Hb.error("Auth (".concat($r,"): ").concat(e),...n)}}function Gb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Xb(e,...n)}function Qb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Xb(e,...n)}function Jb(e,t,n){const r=Object.assign(Object.assign({},qb()),{[t]:n});return new yn("auth","Firebase",r).create(t,{appName:e.name})}function Yb(e){return Jb(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $b(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Gb(e,"argument-error"),Jb(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Xb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Wb.create(e,...n)}function Zb(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Xb(t,...r)}}function e_(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Kb(t),new Error(t)}function t_(e,t){e||e_(t)}function n_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function r_(){return"http:"===i_()||"https:"===i_()}function i_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class o_{constructor(e,t){this.shortDelay=e,this.longDelay=t,t_(t>e,"Short delay should be less than long delay!"),this.isMobile=cn()||fn()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(r_()||hn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function s_(e,t){t_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class a_{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void e_("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void e_("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void e_("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const c_={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},l_=new o_(3e4,6e4);function u_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function d_(e,t,n,r){return h_(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=In(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:a},i);return dn()||(c.referrerPolicy="no-referrer"),a_.fetch()(p_(e,e.config.apiHost,n,s),c)}))}async function h_(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},c_),t);try{const t=new g_(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw v_(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw v_(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw v_(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw v_(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Jb(e,a,s);Gb(e,a)}}catch(oL){if(oL instanceof vn)throw oL;Gb(e,"network-request-failed",{message:String(oL)})}}async function f_(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await d_(e,t,n,r,i);return"mfaPendingCredential"in o&&Gb(e,"multi-factor-auth-required",{_serverResponse:o}),o}function p_(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?s_(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function m_(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class g_{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Qb(this.auth,"network-request-failed"))),l_.get())}))}}function v_(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qb(e,t,r);return i.customData._tokenResponse=n,i}function y_(e){return void 0!==e&&void 0!==e.getResponse}function w_(e){return void 0!==e&&void 0!==e.enterprise}class b_{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return m_(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function __(e,t){return d_(e,"GET","/v2/recaptchaConfig",u_(e,t))}async function S_(e,t){return d_(e,"POST","/v1/accounts:lookup",t)}function E_(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(oL){}}function I_(e){return 1e3*Number(e)}function k_(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Kb("JWT malformed, contained fewer than 3 sections"),null;try{const e=Xt(n);return e?JSON.parse(e):(Kb("Failed to decode base64 JWT payload"),null)}catch(oL){return Kb("Caught error parsing JWT payload as JSON",null===oL||void 0===oL?void 0:oL.toString()),null}}function T_(e){const t=k_(e);return Zb(t,"internal-error"),Zb("undefined"!==typeof t.exp,"internal-error"),Zb("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function C_(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(oL){throw oL instanceof vn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(oL)&&e.auth.currentUser===e&&await e.auth.signOut(),oL}}class x_{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(oL){return void((null===oL||void 0===oL?void 0:oL.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class A_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=E_(this.lastLoginAt),this.creationTime=E_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function R_(e){var t;const n=e.auth,r=await e.getIdToken(),i=await C_(e,S_(n,{idToken:r}));Zb(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?P_(o.providerUserInfo):[],a=(c=e.providerData,l=s,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new A_(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function P_(e){return e.map((e=>{var{providerId:t}=e,n=_i(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class O_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Zb(e.idToken,"internal-error"),Zb("undefined"!==typeof e.idToken,"internal-error"),Zb("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Zb(0!==e.length,"internal-error");const t=T_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Zb(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await h_(e,{},(async()=>{const n=In({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=p_(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",a_.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new O_;return n&&(Zb("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Zb("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Zb("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new O_,this.toJSON())}_performRefresh(){return e_("not implemented")}}function N_(e,t){Zb("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class D_{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=_i(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new A_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await C_(this,this.stsTokenManager.getToken(this.auth,e));return Zb(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Rn(e),r=await n.getIdToken(t),i=k_(r);Zb(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:E_(I_(i.auth_time)),issuedAtTime:E_(I_(i.iat)),expirationTime:E_(I_(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Rn(e);await R_(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Zb(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new D_(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Zb(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await R_(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kr(this.auth.app))return Promise.reject(Yb(this.auth));const e=await this.getIdToken();return await C_(this,async function(e,t){return d_(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=t;Zb(y&&S,e,"internal-error");const E=O_.fromJSON(this.name,S);Zb("string"===typeof y,e,"internal-error"),N_(u,e.name),N_(d,e.name),Zb("boolean"===typeof w,e,"internal-error"),Zb("boolean"===typeof b,e,"internal-error"),N_(h,e.name),N_(f,e.name),N_(p,e.name),N_(m,e.name),N_(g,e.name),N_(v,e.name);const I=new D_({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new O_;r.updateFromServerResponse(t);const i=new D_({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await R_(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Zb(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?P_(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new O_;s.updateFromIdToken(n);const a=new D_({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new A_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,c),a}}const L_=new Map;function M_(e){t_(e instanceof Function,"Expected a class definition");let t=L_.get(e);return t?(t_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,L_.set(e,t),t)}class F_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}F_.type="NONE";const j_=F_;function U_(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class V_{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=U_(this.userKey,r.apiKey,i),this.fullPersistenceKey=U_("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?D_._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new V_(M_(j_),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||M_(j_);const o=U_(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=D_._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(sL){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(sL){}}))),new V_(i,e,n)):new V_(i,e,n)}}function z_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(H_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(B_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(G_(t))return"Blackberry";if(Q_(t))return"Webos";if(q_(t))return"Safari";if((t.includes("chrome/")||W_(t))&&!t.includes("edge/"))return"Chrome";if(K_(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function B_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/firefox\//i.test(e)}function q_(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:an()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function W_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/crios\//i.test(e)}function H_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/iemobile/i.test(e)}function K_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/android/i.test(e)}function G_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/blackberry/i.test(e)}function Q_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/webos/i.test(e)}function J_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Y_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return J_(e)||K_(e)||Q_(e)||G_(e)||/windows phone/i.test(e)||H_(e)}function $_(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=z_(an());break;case"Worker":t="".concat(z_(an()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat($r,"/").concat(r)}class X_{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(oL){r(oL)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(oL){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===oL||void 0===oL?void 0:oL.message})}}}class Z_{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class eS{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nS(this),this.idTokenSubscription=new nS(this),this.beforeStateQueue=new X_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=M_(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await V_.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(oL){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await S_(this,{idToken:e}),n=await D_._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(oL){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(oL)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Zb(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(oL){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await R_(e)}catch(oL){if((null===oL||void 0===oL?void 0:oL.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kr(this.app))return Promise.reject(Yb(this));const t=e?Rn(e):null;return t&&Zb(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Zb(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Kr(this.app)?Promise.reject(Yb(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kr(this.app)?Promise.reject(Yb(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(M_(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return d_(e,"GET","/v2/passwordPolicy",u_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Z_(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return d_(e,"POST","/v2/accounts:revokeToken",u_(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&M_(e)||this._popupRedirectResolver;Zb(t,this,"argument-error"),this.redirectPersistenceManager=await V_.create(this,[M_(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Zb(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Zb(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Hb.logLevel<=Fn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Hb.warn("Auth (".concat($r,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function tS(e){return Rn(e)}class nS{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cn((e=>this.observer=e))}get next(){return Zb(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iS(e){return rS.loadJS(e)}function oS(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}const sS=1e12;class aS{constructor(e){this.auth=e,this.counter=sS,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new uS(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||sS;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||sS;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||sS;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class cS{constructor(){this.enterprise=new lS}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class lS{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class uS{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Zb(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(oL){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(oL){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dS="NO_RECAPTCHA";class hS{constructor(e){this.type="recaptcha-enterprise",this.auth=tS(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;w_(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(dS)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new cS).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{__(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new b_(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&w_(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=rS.recaptchaEnterpriseScript;0!==t.length&&(t+=i),iS(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function fS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new hS(e);let s;if(i)s=dS;else try{s=await o.verify(n)}catch(c){s=await o.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function pS(e,t,n,r,i){var o,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await fS(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await fS(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await fS(e,t,n);return r(e,i).catch((async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await fS(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await fS(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function mS(e){const t=tS(e),n=await __(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new b_(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new hS(t).verify()}}function gS(e,t,n){const r=tS(e);Zb(r._canInitEmulator,r,"emulator-config-failed"),Zb(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=vS(t),{host:s,port:a}=function(e){const t=vS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:yS(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:yS(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function vS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yS(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class wS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return e_("not implemented")}_getIdTokenResponse(e){return e_("not implemented")}_linkToIdToken(e,t){return e_("not implemented")}_getReauthenticationResolver(e){return e_("not implemented")}}async function bS(e,t){return d_(e,"POST","/v1/accounts:resetPassword",u_(e,t))}async function _S(e,t){return d_(e,"POST","/v1/accounts:signUp",t)}async function SS(e,t){return f_(e,"POST","/v1/accounts:signInWithPassword",u_(e,t))}async function ES(e,t){return d_(e,"POST","/v1/accounts:sendOobCode",u_(e,t))}async function IS(e,t){return ES(e,t)}async function kS(e,t){return ES(e,t)}class TS extends wS{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new TS(e,t,"password")}static _fromEmailAndCode(e,t){return new TS(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return pS(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",SS,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return f_(e,"POST","/v1/accounts:signInWithEmailLink",u_(e,t))}(e,{email:this._email,oobCode:this._password});default:Gb(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return pS(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_S,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return f_(e,"POST","/v1/accounts:signInWithEmailLink",u_(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Gb(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function CS(e,t){return f_(e,"POST","/v1/accounts:signInWithIdp",u_(e,t))}class xS extends wS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xS(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gb("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=_i(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new xS(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return CS(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,CS(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,CS(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=In(t)}return e}}async function AS(e,t){return d_(e,"POST","/v1/accounts:sendVerificationCode",u_(e,t))}const RS={USER_NOT_FOUND:"user-not-found"};class PS extends wS{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new PS({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new PS({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return f_(e,"POST","/v1/accounts:signInWithPhoneNumber",u_(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await f_(e,"POST","/v1/accounts:signInWithPhoneNumber",u_(e,t));if(n.temporaryProof)throw v_(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return f_(e,"POST","/v1/accounts:signInWithPhoneNumber",u_(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),RS)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new PS({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class OS{constructor(e){var t,n,r,i,o,s;const a=kn(Tn(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Zb(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=kn(Tn(e)).link,n=t?kn(Tn(t)).deep_link_id:null,r=kn(Tn(e)).deep_link_id;return(r?kn(Tn(r)).link:null)||r||n||t||e}(e);try{return new OS(t)}catch(sL){return null}}}class NS{constructor(){this.providerId=NS.PROVIDER_ID}static credential(e,t){return TS._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=OS.parseLink(t);return Zb(n,"argument-error"),TS._fromEmailAndCode(e,n.code,n.tenantId)}}NS.PROVIDER_ID="password",NS.EMAIL_PASSWORD_SIGN_IN_METHOD="password",NS.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class DS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class LS extends DS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class MS extends LS{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Zb("providerId"in t&&"signInMethod"in t,"argument-error"),xS._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Zb(e.idToken||e.accessToken,"argument-error"),xS._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return MS.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return MS.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new MS(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(oL){return null}}}class FS extends LS{constructor(){super("facebook.com")}static credential(e){return xS._fromParams({providerId:FS.PROVIDER_ID,signInMethod:FS.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FS.credentialFromTaggedObject(e)}static credentialFromError(e){return FS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return FS.credential(t.oauthAccessToken)}catch(sL){return null}}}FS.FACEBOOK_SIGN_IN_METHOD="facebook.com",FS.PROVIDER_ID="facebook.com";class jS extends LS{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xS._fromParams({providerId:jS.PROVIDER_ID,signInMethod:jS.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return jS.credentialFromTaggedObject(e)}static credentialFromError(e){return jS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return jS.credential(n,r)}catch(sL){return null}}}jS.GOOGLE_SIGN_IN_METHOD="google.com",jS.PROVIDER_ID="google.com";class US extends LS{constructor(){super("github.com")}static credential(e){return xS._fromParams({providerId:US.PROVIDER_ID,signInMethod:US.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return US.credentialFromTaggedObject(e)}static credentialFromError(e){return US.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return US.credential(t.oauthAccessToken)}catch(sL){return null}}}US.GITHUB_SIGN_IN_METHOD="github.com",US.PROVIDER_ID="github.com";class VS extends wS{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return CS(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,CS(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,CS(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new VS(n,i):null}static _create(e,t){return new VS(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zS extends DS{constructor(e){Zb(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return zS.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return zS.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=VS.fromJSON(e);return Zb(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return VS._create(r,n)}catch(oL){return null}}}class BS extends LS{constructor(){super("twitter.com")}static credential(e,t){return xS._fromParams({providerId:BS.PROVIDER_ID,signInMethod:BS.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return BS.credentialFromTaggedObject(e)}static credentialFromError(e){return BS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return BS.credential(n,r)}catch(sL){return null}}}async function qS(e,t){return f_(e,"POST","/v1/accounts:signUp",u_(e,t))}BS.TWITTER_SIGN_IN_METHOD="twitter.com",BS.PROVIDER_ID="twitter.com";class WS{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await D_._fromIdTokenResponse(e,n,r),o=HS(n);return new WS({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=HS(n);return new WS({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function HS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class KS extends vn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,KS.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new KS(e,t,n,r)}}function GS(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw KS._fromErrorAndOperation(e,n,t,r);throw n}))}function QS(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function JS(e,t){const n=Rn(e);await $S(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return d_(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=QS(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function YS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await C_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return WS._forOperation(e,"link",r)}async function $S(e,t,n){await R_(t);const r=!1===e?"provider-already-linked":"no-such-provider";Zb(QS(t.providerData).has(n)===e,t.auth,r)}async function XS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Kr(r.app))return Promise.reject(Yb(r));const i="reauthenticate";try{const o=await C_(e,GS(r,i,t,e),n);Zb(o.idToken,r,"internal-error");const s=k_(o.idToken);Zb(s,r,"internal-error");const{sub:a}=s;return Zb(e.uid===a,r,"user-mismatch"),WS._forOperation(e,i,o)}catch(oL){throw(null===oL||void 0===oL?void 0:oL.code)==="auth/".concat("user-not-found")&&Gb(r,"user-mismatch"),oL}}async function ZS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Kr(e.app))return Promise.reject(Yb(e));const r="signIn",i=await GS(e,r,t),o=await WS._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function eE(e,t){return ZS(tS(e),t)}async function tE(e,t){const n=Rn(e);return await $S(!1,n,t.providerId),YS(n,t)}async function nE(e,t){return XS(Rn(e),t)}async function rE(e,t){if(Kr(e.app))return Promise.reject(Yb(e));const n=tS(e),r=await async function(e,t){return f_(e,"POST","/v1/accounts:signInWithCustomToken",u_(e,t))}(n,{token:t,returnSecureToken:!0}),i=await WS._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class iE{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?oE._fromServerResponse(e,t):"totpInfo"in t?sE._fromServerResponse(e,t):Gb(e,"internal-error")}}class oE extends iE{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new oE(t)}}class sE extends iE{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new sE(t)}}function aE(e,t,n){var r;Zb((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Zb("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Zb(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Zb(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function cE(e){const t=tS(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function lE(e,t){await async function(e,t){return d_(e,"POST","/v1/accounts:update",u_(e,t))}(Rn(e),{oobCode:t})}async function uE(e,t){const n=Rn(e),r=await bS(n,{oobCode:t}),i=r.requestType;switch(Zb(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Zb(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Zb(r.mfaInfo,n,"internal-error");default:Zb(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=iE._fromServerResponse(tS(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function dE(e,t){const n={identifier:t,continueUri:r_()?n_():"http://localhost"},{signinMethods:r}=await async function(e,t){return d_(e,"POST","/v1/accounts:createAuthUri",u_(e,t))}(Rn(e),n);return r||[]}async function hE(e,t){const n=Rn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&aE(n.auth,r,t);const{email:i}=await async function(e,t){return ES(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function fE(e,t,n){const r=Rn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&aE(r.auth,i,n);const{email:o}=await async function(e,t){return ES(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function pE(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Rn(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await C_(i,async function(e,t){return d_(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function mE(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await C_(e,async function(e,t){return d_(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class gE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class vE extends gE{constructor(e,t,n,r){super(e,t,n),this.username=r}}class yE extends gE{constructor(e,t){super(e,"facebook.com",t)}}class wE extends vE{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class bE extends gE{constructor(e,t){super(e,"google.com",t)}}class _E extends vE{constructor(e,t,n){super(e,"twitter.com",t,n)}}function SE(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=k_(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new gE(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new yE(o,i);case"github.com":return new wE(o,i);case"google.com":return new bE(o,i);case"twitter.com":return new _E(o,i,e.screenName||null);case"custom":case"anonymous":return new gE(o,null);default:return new gE(o,r,i)}}(n)}class EE{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new EE("enroll",e,t)}static _fromMfaPendingCredential(e){return new EE("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return EE._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return EE._fromIdtoken(e.multiFactorSession.idToken)}return null}}class IE{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=tS(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>iE._fromServerResponse(n,e)));Zb(r.mfaPendingCredential,n,"internal-error");const o=EE._fromMfaPendingCredential(r.mfaPendingCredential);return new IE(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await WS._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Zb(t.user,n,"internal-error"),WS._forOperation(t.user,t.operationType,s);default:Gb(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function kE(e,t){return d_(e,"POST","/v2/accounts/mfaEnrollment:start",u_(e,t))}class TE{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>iE._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new TE(e)}async getSession(){return EE._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await C_(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await C_(this.user,function(e,t){return d_(e,"POST","/v2/accounts/mfaEnrollment:withdraw",u_(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(oL){throw oL}}}const CE=new WeakMap;const xE="__sak";class AE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xE,"1"),this.storage.removeItem(xE),Promise.resolve(!0)):Promise.resolve(!1)}catch(sL){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class RE extends AE{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);pn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}RE.type="LOCAL";const PE=RE;class OE extends AE{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}OE.type="SESSION";const NE=OE;class DE{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new DE(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function LE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}DE.receivers=[];class ME{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=LE("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function FE(){return window}function jE(){return"undefined"!==typeof FE().WorkerGlobalScope&&"function"===typeof FE().importScripts}const UE="firebaseLocalStorageDb",VE="firebaseLocalStorage",zE="fbase_key";class BE{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function qE(e,t){return e.transaction([VE],t?"readwrite":"readonly").objectStore(VE)}function WE(){const e=indexedDB.open(UE,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(VE,{keyPath:zE})}catch(oL){n(oL)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(VE)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(UE);return new BE(e).toPromise()}(),t(await WE()))}))}))}async function HE(e,t,n){const r=qE(e,!0).put({[zE]:t,value:n});return new BE(r).toPromise()}function KE(e,t){const n=qE(e,!0).delete(t);return new BE(n).toPromise()}class GE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await WE()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(oL){if(t++>3)throw oL;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=DE._getInstance(jE()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ME(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(sL){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await WE();return await HE(e,xE,"1"),await KE(e,xE),!0}catch(sL){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>HE(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=qE(e,!1).get(t),r=await new BE(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>KE(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=qE(e,!1).getAll();return new BE(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}GE.type="LOCAL";const QE=GE;function JE(e,t){return d_(e,"POST","/v2/accounts/mfaSignIn:start",u_(e,t))}const YE=oS("rcb"),$E=new o_(3e4,6e4);class XE{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=FE().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Zb(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&y_(FE().grecaptcha)?Promise.resolve(FE().grecaptcha):new Promise(((n,r)=>{const i=FE().setTimeout((()=>{r(Qb(e,"network-request-failed"))}),$E.get());FE()[YE]=()=>{FE().clearTimeout(i),delete FE()[YE];const o=FE().grecaptcha;if(!o||!y_(o))return void r(Qb(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};iS("".concat(rS.recaptchaV2Script,"?").concat(In({onload:YE,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Qb(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=FE().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ZE{async load(e){return new aS(e)}clearedOneInstance(){}}const eI="recaptcha",tI={theme:"light",type:"image"};class nI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},tI);this.parameters=n,this.type=eI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tS(e),this.isInvisible="invisible"===this.parameters.size,Zb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Zb(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ZE:new XE,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(oL){return Promise.reject(oL)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Zb(!this.parameters.sitekey,this.auth,"argument-error"),Zb(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Zb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=FE()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Zb(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Zb(r_()&&!jE(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await d_(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Zb(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Zb(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class rI{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=PS._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function iI(e,t,n){var r;if(!e._getRecaptchaConfig())try{await mS(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Zb("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=pS(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===dS){Zb((null===n||void 0===n?void 0:n.type)===eI,e,"argument-error");return kE(e,await oI(e,t,n))}return kE(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Zb("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Zb(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=pS(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===dS){Zb((null===n||void 0===n?void 0:n.type)===eI,e,"argument-error");return JE(e,await oI(e,t,n))}return JE(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=pS(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===dS){Zb((null===n||void 0===n?void 0:n.type)===eI,e,"argument-error");return AS(e,await oI(e,t,n))}return AS(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function oI(e,t,n){Zb(n.type===eI,e,"argument-error");const r=await n.verify();Zb("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class sI{constructor(e){this.providerId=sI.PROVIDER_ID,this.auth=tS(e)}verifyPhoneNumber(e,t){return iI(this.auth,e,Rn(t))}static credential(e,t){return PS._fromVerification(e,t)}static credentialFromResult(e){const t=e;return sI.credentialFromTaggedObject(t)}static credentialFromError(e){return sI.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?PS._fromTokenResponse(n,r):null}}function aI(e,t){return t?M_(t):(Zb(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}sI.PROVIDER_ID="phone",sI.PHONE_SIGN_IN_METHOD="phone";class cI extends wS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return CS(e,this._buildIdpRequest())}_linkToIdToken(e,t){return CS(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return CS(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lI(e){return ZS(e.auth,new cI(e),e.bypassAuthState)}function uI(e){const{auth:t,user:n}=e;return Zb(n,t,"internal-error"),XS(n,new cI(e),e.bypassAuthState)}async function dI(e){const{auth:t,user:n}=e;return Zb(n,t,"internal-error"),YS(n,new cI(e),e.bypassAuthState)}class hI{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(oL){this.reject(oL)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(oL){this.reject(oL)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lI;case"linkViaPopup":case"linkViaRedirect":return dI;case"reauthViaPopup":case"reauthViaRedirect":return uI;default:Gb(this.auth,"internal-error")}}resolve(e){t_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){t_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fI=new o_(2e3,1e4);class pI extends hI{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,pI.currentPopupAction&&pI.currentPopupAction.cancel(),pI.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Zb(e,this.auth,"internal-error"),e}async onExecution(){t_(1===this.filter.length,"Popup operations only handle one event");const e=LE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Qb(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Qb(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pI.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Qb(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,fI.get())};e()}}pI.currentPopupAction=null;const mI=new Map;class gI extends hI{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=mI.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=bI(t),r=wI(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(oL){e=()=>Promise.reject(oL)}mI.set(this.auth._key(),e)}return this.bypassAuthState||mI.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function vI(e,t){return wI(e)._set(bI(t),"true")}function yI(e,t){mI.set(e._key(),t)}function wI(e){return M_(e._redirectPersistence)}function bI(e){return U_("pendingRedirect",e.config.apiKey,e.name)}function _I(e,t,n){return async function(e,t,n){if(Kr(e.app))return Promise.reject(Yb(e));const r=tS(e);$b(e,t,DS),await r._initializationPromise;const i=aI(r,n);return await vI(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function SI(e,t,n){return async function(e,t,n){const r=Rn(e);if($b(r.auth,t,DS),Kr(r.auth.app))return Promise.reject(Yb(r.auth));await r.auth._initializationPromise;const i=aI(r.auth,n);await vI(i,r.auth);const o=await kI(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function EI(e,t,n){return async function(e,t,n){const r=Rn(e);$b(r.auth,t,DS),await r.auth._initializationPromise;const i=aI(r.auth,n);await $S(!1,r,t.providerId),await vI(i,r.auth);const o=await kI(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function II(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Kr(e.app))return Promise.reject(Yb(e));const r=tS(e),i=aI(r,t),o=new gI(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function kI(e){const t=LE("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class TI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xI(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!xI(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Qb(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(CI(e))}saveEventToCache(e){this.cachedEventUids.add(CI(e)),this.lastProcessedEventTime=Date.now()}}function CI(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function xI(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function AI(e){return d_(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const RI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PI=/^https?/;function OI(e){const t=n_(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!PI.test(n))return!1;if(RI.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const NI=new o_(3e4,6e4);function DI(){const e=FE().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function LI(e){return new Promise(((t,n)=>{var r,i,o;function s(){DI(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{DI(),n(Qb(e,"network-request-failed"))},timeout:NI.get()})}if(null===(i=null===(r=FE().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=FE().gapi)||void 0===o?void 0:o.load)){const t=oS("iframefcb");return FE()[t]=()=>{gapi.load?s():n(Qb(e,"network-request-failed"))},iS("".concat(rS.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw MI=null,e}))}let MI=null;const FI=new o_(5e3,15e3),jI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VI(e){const t=e.config;Zb(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?s_(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:$r},i=UI.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(In(r).slice(1))}async function zI(e){const t=await function(e){return MI=MI||LI(e),MI}(e),n=FE().gapi;return Zb(n,e,"internal-error"),t.open({where:document.body,url:VI(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jI,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Qb(e,"network-request-failed"),o=FE().setTimeout((()=>{r(i)}),FI.get());function s(){FE().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const BI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(oL){}}}function WI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},BI),{width:r.toString(),height:i.toString(),top:o,left:s}),l=an().toLowerCase();n&&(a=W_(l)?"_blank":n),B_(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return J_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:an())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new qI(null);const d=window.open(t||"",a,u);Zb(d,e,"popup-blocked");try{d.focus()}catch(oL){}return new qI(d)}const HI="__/auth/handler",KI="emulator/auth/handler",GI=encodeURIComponent("fac");async function QI(e,t,n,r,i,o){Zb(e.config.authDomain,e,"auth-domain-config-required"),Zb(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:$r,eventId:i};if(t instanceof DS){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",_n(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof LS){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(GI,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(HI);return s_(t,KI)}(e),"?").concat(In(a).slice(1)).concat(l)}const JI="webStorageSupport";const YI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NE,this._completeRedirectFn=II,this._overrideRedirectResult=yI}async _openPopup(e,t,n,r){var i;t_(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return WI(e,await QI(e,t,n,n_(),r),LE())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){FE().location.href=e}(await QI(e,t,n,n_(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(t_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await zI(e),n=new TI(e);return t.register("authEvent",(t=>{Zb(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(JI,{type:JI},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[JI];void 0!==i&&t(!!i),Gb(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await AI(e);for(const n of t)try{if(OI(n))return}catch(sL){}Gb(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Y_()||q_()||J_()}};class $I{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return e_("unexpected MultiFactorSessionType")}}}class XI extends $I{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new XI(e)}_finalizeEnroll(e,t,n){return function(e,t){return d_(e,"POST","/v2/accounts/mfaEnrollment:finalize",u_(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return d_(e,"POST","/v2/accounts/mfaSignIn:finalize",u_(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ZI{constructor(){}static assertion(e){return XI._fromCredential(e)}}ZI.FACTOR_ID="phone";var ek="@firebase/auth",tk="1.8.1";class nk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Zb(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}on("authIdTokenMaxAge");function rk(){return window}!function(e){rS=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Qb("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function(e){Br(new Pn("auth",((t,n)=>{let{options:r}=n;const i=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;Zb(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$_(e)},u=new eS(i,o,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(M_);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,r),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Br(new Pn("auth-internal",(e=>(e=>new nk(e))(tS(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ri(ek,tk,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(e)),ri(ek,tk,"esm2017")}("Browser");async function ik(e,t,n){var r;const{BuildInfo:i}=rk();t_(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(t_(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return J_()?s.ibi=i.packageName:K_()?s.apn=i.packageName:Gb(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,QI(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function ok(e){const{cordova:t}=rk();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}class sk extends TI{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInitialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function ak(e){const t=await uk()._get(dk(e));return t&&await uk()._remove(dk(e)),t}function ck(e,t){var n,r;const i=function(e){const t=hk(e),n=t.link?decodeURIComponent(t.link):void 0,r=hk(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return hk(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=hk(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(oL){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?Qb(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function lk(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function uk(){return M_(PE)}function dk(e){return U_("authEvent",e.config.apiKey,e.name)}function hk(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return kn(n.join("?"))}const fk=class{constructor(){this._redirectPersistence=NE,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=II,this._overrideRedirectResult=yI}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new sk(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Gb(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,c,l,u;const d=rk();Zb("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Zb("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Zb("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zb("function"===typeof(null===(c=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zb("function"===typeof(null===(u=null===(l=null===d||void 0===d?void 0:d.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),mI.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:lk(),postBody:null,tenantId:e.tenantId,error:Qb(e,"no-auth-event")}}(e,n,r);await function(e,t){return uk()._set(dk(e),t)}(e,o);const s=await ik(e,o,t);return async function(e,t,n){const{cordova:r}=rk();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{s(Qb(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),K_()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await ok(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=rk(),n={};J_()?n.iosBundleId=t.packageName:K_()?n.androidPackageName=t.packageName:Gb(e,"operation-not-supported-in-this-environment"),await AI(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=rk(),o=setTimeout((async()=>{await ak(e),t.onEvent(pk())}),500),s=async n=>{clearTimeout(o);const r=await ak(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=ck(r,n.url)),t.onEvent(i||pk())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,c="".concat(i.packageName.toLowerCase(),"://");rk().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&s({url:e}),"function"===typeof a)try{a(e)}catch(oL){console.error(oL)}}}};function pk(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Qb("no-auth-event")}}function mk(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function gk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return!("file:"!==mk()&&"ionic:"!==mk()&&"capacitor:"!==mk()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function vk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return pn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/Edge\/\d+/.test(e)}(e)}function yk(){try{const e=self.localStorage,t=LE();if(e)return e.setItem(t,"1"),e.removeItem(t),!vk()||gn()}catch(oL){return wk()&&gn()}return!1}function wk(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function bk(){return("http:"===mk()||"https:"===mk()||hn()||gk())&&!(fn()||ln())&&yk()&&!wk()}function _k(){return gk()&&"undefined"!==typeof document}const Sk={LOCAL:"local",NONE:"none",SESSION:"session"},Ek=Zb,Ik="persistence";async function kk(e){await e._initializationPromise;const t=Tk(),n=U_(Ik,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Tk(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(oL){return null}}const Ck=Zb;class xk{constructor(){this.browserResolver=M_(YI),this.cordovaResolver=M_(fk),this.underlyingResolver=null,this._redirectPersistence=NE,this._completeRedirectFn=II,this._overrideRedirectResult=yI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return _k()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ck(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!_k()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Ak(e){return e.unwrap()}function Rk(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Dk(e,function(e,t){var n;const r=Rn(e),i=t;return Zb(t.customData.operationType,r,"argument-error"),Zb(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),IE._fromError(r,i)}(e,t))}else if(r){const e=Pk(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Pk(e){const{_tokenResponse:t}=e instanceof vn?e.customData:e;if(!t)return null;if(!(e instanceof vn)&&"temporaryProof"in t&&"phoneNumber"in t)return sI.credentialFromResult(e);const n=t.providerId;if(!n||n===Nb)return null;let r;switch(n){case Ob:r=jS;break;case Rb:r=FS;break;case Pb:r=US;break;case Db:r=BS;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?VS._create(n,s):xS._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new MS(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof vn?r.credentialFromError(e):r.credentialFromResult(e)}function Ok(e,t){return t.catch((t=>{throw t instanceof vn&&Rk(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Pk(r)),additionalUserInfo:SE(e),user:Lk.getOrCreate(n)};var r}))}async function Nk(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Ok(e,n.confirm(t))}}class Dk{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ok(Ak(this.auth),this.resolver.resolveSignIn(e))}}class Lk{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Rn(e);return CE.has(t)||CE.set(t,TE._fromUser(t)),CE.get(t)}(e)}static getOrCreate(e){return Lk.USER_MAP.has(e)||Lk.USER_MAP.set(e,new Lk(e)),Lk.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Ok(this.auth,tE(this._delegate,e))}async linkWithPhoneNumber(e,t){return Nk(this.auth,async function(e,t,n){const r=Rn(e);await $S(!1,r,"phone");const i=await iI(r.auth,t,Rn(n));return new rI(i,(e=>tE(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Ok(this.auth,async function(e,t,n){const r=Rn(e);$b(r.auth,t,DS);const i=aI(r.auth,n);return new pI(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,xk))}async linkWithRedirect(e){return await kk(tS(this.auth)),EI(this._delegate,e,xk)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Ok(this.auth,nE(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Nk(this.auth,async function(e,t,n){const r=Rn(e);if(Kr(r.auth.app))return Promise.reject(Yb(r.auth));const i=await iI(r.auth,t,Rn(n));return new rI(i,(e=>nE(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Ok(this.auth,async function(e,t,n){const r=Rn(e);if(Kr(r.auth.app))return Promise.reject(Qb(r.auth,"operation-not-supported-in-this-environment"));$b(r.auth,t,DS);const i=aI(r.auth,n);return new pI(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,xk))}async reauthenticateWithRedirect(e){return await kk(tS(this.auth)),SI(this._delegate,e,xk)}sendEmailVerification(e){return hE(this._delegate,e)}async unlink(e){return await JS(this._delegate,e),this}updateEmail(e){return function(e,t){const n=Rn(e);return Kr(n.auth.app)?Promise.reject(Yb(n.auth)):mE(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return mE(Rn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=Rn(e);if(Kr(n.auth.app))return Promise.reject(Yb(n.auth));await YS(n,t)}(this._delegate,e)}updateProfile(e){return pE(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return fE(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Lk.USER_MAP=new WeakMap;const Mk=Zb;class Fk{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Mk(n,"invalid-api-key",{appName:e.name}),Mk(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?xk:void 0;this._delegate=t.initialize({options:{persistence:Uk(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Bb),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Lk.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){gS(this._delegate,e,t)}applyActionCode(e){return lE(this._delegate,e)}checkActionCode(e){return uE(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await bS(Rn(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&cE(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Ok(this._delegate,async function(e,t,n){if(Kr(e.app))return Promise.reject(Yb(e));const r=tS(e),i=pS(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qS,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&cE(e),t})),s=await WS._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return dE(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=OS.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Mk(bk(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await tS(e)._initializationPromise,II(e,t,!1)}(this._delegate,xk);return e?Ok(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){tS(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=jk(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=jk(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=tS(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Zb(t.handleCodeInApp,r,"argument-error"),t&&aE(r,e,t)}(i,n),await pS(r,i,"getOobCode",kS,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=tS(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&aE(r,i,n),await pS(r,i,"getOobCode",IS,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Ek(Object.values(Sk).includes(t),e,"invalid-persistence-type"),fn()?Ek(t!==Sk.SESSION,e,"unsupported-persistence-type"):ln()?Ek(t===Sk.NONE,e,"unsupported-persistence-type"):wk()?Ek(t===Sk.NONE||t===Sk.LOCAL&&gn(),e,"unsupported-persistence-type"):Ek(t===Sk.NONE||yk(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Sk.SESSION:t=NE;break;case Sk.LOCAL:t=await M_(QE)._isAvailable()?QE:PE;break;case Sk.NONE:t=j_;break;default:return Gb("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ok(this._delegate,async function(e){var t;if(Kr(e.app))return Promise.reject(Yb(e));const n=tS(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new WS({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await qS(n,{returnSecureToken:!0}),i=await WS._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Ok(this._delegate,eE(this._delegate,e))}signInWithCustomToken(e){return Ok(this._delegate,rE(this._delegate,e))}signInWithEmailAndPassword(e,t){return Ok(this._delegate,function(e,t,n){return Kr(e.app)?Promise.reject(Yb(e)):eE(Rn(e),NS.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&cE(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Ok(this._delegate,async function(e,t,n){if(Kr(e.app))return Promise.reject(Yb(e));const r=Rn(e),i=NS.credentialWithLink(t,n||n_());return Zb(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),eE(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Nk(this._delegate,async function(e,t,n){if(Kr(e.app))return Promise.reject(Yb(e));const r=tS(e),i=await iI(r,t,Rn(n));return new rI(i,(e=>eE(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Mk(bk(),this._delegate,"operation-not-supported-in-this-environment"),Ok(this._delegate,async function(e,t,n){if(Kr(e.app))return Promise.reject(Qb(e,"operation-not-supported-in-this-environment"));const r=tS(e);$b(e,t,DS);const i=aI(r,n);return new pI(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,xk))}async signInWithRedirect(e){return Mk(bk(),this._delegate,"operation-not-supported-in-this-environment"),await kk(this._delegate),_I(this._delegate,e,xk)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await uE(Rn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function jk(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Lk.getOrCreate(e)),error:t,complete:n}}function Uk(e,t){const n=function(e,t){const n=Tk();if(!n)return[];const r=U_(Ik,e,t);switch(n.getItem(r)){case Sk.NONE:return[j_];case Sk.LOCAL:return[QE,NE];case Sk.SESSION:return[NE];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(QE)||n.push(QE),"undefined"!==typeof window)for(const r of[PE,NE])n.includes(r)||n.push(r);return n.includes(j_)||n.push(j_),n}Fk.Persistence=Sk;class Vk{static credential(e,t){return sI.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new sI(Ak(bi.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Vk.PHONE_SIGN_IN_METHOD=sI.PHONE_SIGN_IN_METHOD,Vk.PROVIDER_ID=sI.PROVIDER_ID;const zk=Zb;class Bk{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bi.app();var r;zk(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new nI(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new Pn("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Fk(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Lb,PASSWORD_RESET:Mb,RECOVER_EMAIL:Fb,REVERT_SECOND_FACTOR_ADDITION:jb,VERIFY_AND_CHANGE_EMAIL:Ub,VERIFY_EMAIL:Vb}},EmailAuthProvider:NS,FacebookAuthProvider:FS,GithubAuthProvider:US,GoogleAuthProvider:jS,OAuthProvider:MS,SAMLAuthProvider:zS,PhoneAuthProvider:Vk,PhoneMultiFactorGenerator:ZI,RecaptchaVerifier:Bk,TwitterAuthProvider:BS,Auth:Fk,AuthCredential:wS,Error:vn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.16")}(bi);const qk=bi.initializeApp({apiKey:"AIzaSyAT4Xp-Wd7Ne63SwS8RYqNBtywQ9KMp0co",authDomain:"clone-my-fb4c9.firebaseapp.com",projectId:"clone-my-fb4c9",storageBucket:"clone-my-fb4c9.firebasestorage.app",messagingSenderId:"451494452575",appId:"1:451494452575:web:295994ae2553a55aeeeaea"}),Wk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();const t=qr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=qr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Sn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ci(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Na,persistence:[qs,Ts,xs]}),r=on("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Fa)return;const r=null===t||void 0===t?void 0:t.token;ja!==r&&(ja=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Rn(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Rn(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=nn("auth");return o&&Ko(n,"http://".concat(o)),n}(qk),Hk=qk.firestore(),Kk=()=>{var e;const[{basket:t,user:n},i]=(0,r.useContext)(Kt),o=null===t||void 0===t?void 0:t.reduce(((e,t)=>t.amount+e),0);return(0,Wt.jsxs)("section",{className:bt,children:[(0,Wt.jsx)("section",{children:(0,Wt.jsxs)("div",{className:_t,children:[(0,Wt.jsxs)("div",{className:St,children:[(0,Wt.jsx)(ht,{to:"/",children:(0,Wt.jsx)("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon logo"})}),(0,Wt.jsxs)("div",{className:Et,children:[(0,Wt.jsx)("span",{children:(0,Wt.jsx)(Vt,{})}),(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("p",{children:"Deliver to"}),(0,Wt.jsx)("span",{children:"Ethiopia"})]})]})]}),(0,Wt.jsxs)("div",{className:It,children:[(0,Wt.jsx)("select",{name:"",id:"",children:(0,Wt.jsx)("option",{value:"",children:"All"})}),(0,Wt.jsx)("input",{type:"text"}),(0,Wt.jsx)(zt,{size:38})]}),(0,Wt.jsxs)("div",{className:kt,children:[(0,Wt.jsxs)(ht,{to:"",className:Tt,children:[(0,Wt.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:""}),(0,Wt.jsx)("select",{name:"",id:"",children:(0,Wt.jsx)("option",{value:"",children:"EN"})})]}),(0,Wt.jsx)(ht,{to:!n&&"/auth",children:(0,Wt.jsx)("div",{children:n?(0,Wt.jsxs)(Wt.Fragment,{children:[(0,Wt.jsxs)("p",{children:["Hello ",null===n||void 0===n||null===(e=n.email)||void 0===e?void 0:e.split("@")[0]]}),(0,Wt.jsx)("span",{onClick:()=>n?Wk.signOut():null,children:"Sign Out"})]}):(0,Wt.jsxs)(Wt.Fragment,{children:[(0,Wt.jsx)("p",{children:"Hello, Sign In"}),(0,Wt.jsx)("span",{children:"Account & Lists"})]})})}),(0,Wt.jsxs)(ht,{to:"/orders",children:[(0,Wt.jsx)("p",{children:"returns"}),(0,Wt.jsx)("span",{children:"& Orders"})]}),(0,Wt.jsxs)(ht,{to:"/cart",className:Ct,children:[(0,Wt.jsx)(Bt,{size:35}),(0,Wt.jsx)("span",{children:o})]})]})]})}),(0,Wt.jsx)(Ht,{})]})};const Gk=function(e){let{children:t}=e;return(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)(Kk,{}),t]})};var Qk=n(577);const Jk=[n.p+"static/media/10001.2f5cc63b7e4512dd2789.jpg",n.p+"static/media/10002.225aaef918f59e5de14a.jpg",n.p+"static/media/10003.16272162b96e28f935c4.jpg",n.p+"static/media/10004.805821d23a3f63566f17.jpg",n.p+"static/media/10005.4d36865f92d63b2519a7.jpg"],Yk="Carousel_hero__img__hB6WA";const $k=function(){return(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)(Qk.FN,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:null===Jk||void 0===Jk?void 0:Jk.map(((e,t)=>(0,Wt.jsx)("img",{src:e},e)))}),(0,Wt.jsx)("div",{className:Yk})]})},Xk=[{title:"Electronics",name:"electronics",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_TV_2X._SY304_CB432517900_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/softlines/shopbop/ingress/2023/March/mp_20230219_ff_desktopsinglecategory_desktop_379x304_1._SY304_CB612639047_.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/71r7eWuCsaL._AC_UL480_FMwebp_QL65_.jpg"}],Zk="catagory_category__Gyj12",eT="catagory_Category__container__LMyJe";const tT=function(e){let{data:t}=e;return console.log(t),(0,Wt.jsx)("div",{className:Zk,children:(0,Wt.jsx)(ht,{to:"/category/".concat(t.name),children:(0,Wt.jsxs)("span",{children:[(0,Wt.jsx)("h2",{children:null===t||void 0===t?void 0:t.title}),(0,Wt.jsx)("img",{src:null===t||void 0===t?void 0:t.imgLink,alt:null===t||void 0===t?void 0:t.title}),(0,Wt.jsx)("p",{children:"Shop now"})]})})})};const nT=function(){return(0,Wt.jsx)("section",{className:eT,children:Xk.map(((e,t)=>(0,Wt.jsx)(tT,{data:e},e.title||t)))})};function rT(e,t){return function(){return e.apply(t,arguments)}}const{toString:iT}=Object.prototype,{getPrototypeOf:oT}=Object,sT=(aT=Object.create(null),e=>{const t=iT.call(e);return aT[t]||(aT[t]=t.slice(8,-1).toLowerCase())});var aT;const cT=e=>(e=e.toLowerCase(),t=>sT(t)===e),lT=e=>t=>typeof t===e,{isArray:uT}=Array,dT=lT("undefined");const hT=cT("ArrayBuffer");const fT=lT("string"),pT=lT("function"),mT=lT("number"),gT=e=>null!==e&&"object"===typeof e,vT=e=>{if("object"!==sT(e))return!1;const t=oT(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yT=cT("Date"),wT=cT("File"),bT=cT("Blob"),_T=cT("FileList"),ST=cT("URLSearchParams"),[ET,IT,kT,TT]=["ReadableStream","Request","Response","Headers"].map(cT);function CT(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),uT(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function xT(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const AT="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,RT=e=>!dT(e)&&e!==AT;const PT=(OT="undefined"!==typeof Uint8Array&&oT(Uint8Array),e=>OT&&e instanceof OT);var OT;const NT=cT("HTMLFormElement"),DT=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),LT=cT("RegExp"),MT=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};CT(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},FT="abcdefghijklmnopqrstuvwxyz",jT="0123456789",UT={DIGIT:jT,ALPHA:FT,ALPHA_DIGIT:FT+FT.toUpperCase()+jT};const VT=cT("AsyncFunction"),zT=(BT="function"===typeof setImmediate,qT=pT(AT.postMessage),BT?setImmediate:qT?((e,t)=>(AT.addEventListener("message",(n=>{let{source:r,data:i}=n;r===AT&&i===e&&t.length&&t.shift()()}),!1),n=>{t.push(n),AT.postMessage(e,"*")}))("axios@".concat(Math.random()),[]):e=>setTimeout(e));var BT,qT;const WT="undefined"!==typeof queueMicrotask?queueMicrotask.bind(AT):"undefined"!==typeof process&&process.nextTick||zT,HT={isArray:uT,isArrayBuffer:hT,isBuffer:function(e){return null!==e&&!dT(e)&&null!==e.constructor&&!dT(e.constructor)&&pT(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||pT(e.append)&&("formdata"===(t=sT(e))||"object"===t&&pT(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&hT(e.buffer),t},isString:fT,isNumber:mT,isBoolean:e=>!0===e||!1===e,isObject:gT,isPlainObject:vT,isReadableStream:ET,isRequest:IT,isResponse:kT,isHeaders:TT,isUndefined:dT,isDate:yT,isFile:wT,isBlob:bT,isRegExp:LT,isFunction:pT,isStream:e=>gT(e)&&pT(e.pipe),isURLSearchParams:ST,isTypedArray:PT,isFileList:_T,forEach:CT,merge:function e(){const{caseless:t}=RT(this)&&this||{},n={},r=(r,i)=>{const o=t&&xT(n,i)||i;vT(n[o])&&vT(r)?n[o]=e(n[o],r):vT(r)?n[o]=e({},r):uT(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&CT(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return CT(t,((t,r)=>{n&&pT(t)?e[r]=rT(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&oT(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:sT,kindOfTest:cT,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(uT(e))return e;let t=e.length;if(!mT(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:NT,hasOwnProperty:DT,hasOwnProp:DT,reduceDescriptors:MT,freezeMethods:e=>{MT(e,((t,n)=>{if(pT(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];pT(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return uT(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:xT,global:AT,isContextDefined:RT,ALPHABET:UT,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:UT.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&pT(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(gT(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=uT(e)?[]:{};return CT(e,((e,t)=>{const o=n(e,r+1);!dT(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:VT,isThenable:e=>e&&(gT(e)||pT(e))&&pT(e.then)&&pT(e.catch),setImmediate:zT,asap:WT};function KT(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}HT.inherits(KT,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:HT.toJSONObject(this.config),code:this.code,status:this.status}}});const GT=KT.prototype,QT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{QT[e]={value:e}})),Object.defineProperties(KT,QT),Object.defineProperty(GT,"isAxiosError",{value:!0}),KT.from=(e,t,n,r,i,o)=>{const s=Object.create(GT);return HT.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),KT.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const JT=KT;function YT(e){return HT.isPlainObject(e)||HT.isArray(e)}function $T(e){return HT.endsWith(e,"[]")?e.slice(0,-2):e}function XT(e,t,n){return e?e.concat(t).map((function(e,t){return e=$T(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ZT=HT.toFlatObject(HT,{},null,(function(e){return/^is[A-Z]/.test(e)}));const eC=function(e,t,n){if(!HT.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=HT.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!HT.isUndefined(t[e])}))).metaTokens,i=n.visitor||l,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&HT.isSpecCompliantForm(t);if(!HT.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(HT.isDate(e))return e.toISOString();if(!a&&HT.isBlob(e))throw new JT("Blob is not supported. Use a Buffer instead.");return HT.isArrayBuffer(e)||HT.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(HT.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(HT.isArray(e)&&function(e){return HT.isArray(e)&&!e.some(YT)}(e)||(HT.isFileList(e)||HT.endsWith(n,"[]"))&&(a=HT.toArray(e)))return n=$T(n),a.forEach((function(e,r){!HT.isUndefined(e)&&null!==e&&t.append(!0===s?XT([n],r,o):null===s?n:n+"[]",c(e))})),!1;return!!YT(e)||(t.append(XT(i,n,o),c(e)),!1)}const u=[],d=Object.assign(ZT,{defaultVisitor:l,convertValue:c,isVisitable:YT});if(!HT.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!HT.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),HT.forEach(n,(function(n,o){!0===(!(HT.isUndefined(n)||null===n)&&i.call(t,n,HT.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function tC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function nC(e,t){this._pairs=[],e&&eC(e,this,t)}const rC=nC.prototype;rC.append=function(e,t){this._pairs.push([e,t])},rC.toString=function(e){const t=e?function(t){return e.call(this,t,tC)}:tC;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const iC=nC;function oC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sC(e,t,n){if(!t)return e;const r=n&&n.encode||oC;HT.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(o=i?i(t,n):HT.isURLSearchParams(t)?t.toString():new iC(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const aC=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){HT.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},cC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lC={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:iC,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},uC="undefined"!==typeof window&&"undefined"!==typeof document,dC="object"===typeof navigator&&navigator||void 0,hC=uC&&(!dC||["ReactNative","NativeScript","NS"].indexOf(dC.product)<0),fC="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,pC=uC&&window.location.href||"http://localhost",mC=d(d({},t),lC);const gC=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&HT.isArray(r)?r.length:o,a)return HT.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&HT.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&HT.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s}if(HT.isFormData(e)&&HT.isFunction(e.entries)){const n={};return HT.forEachEntry(e,((e,r)=>{t(function(e){return HT.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const vC={transitional:cC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=HT.isObject(e);i&&HT.isHTMLForm(e)&&(e=new FormData(e));if(HT.isFormData(e))return r?JSON.stringify(gC(e)):e;if(HT.isArrayBuffer(e)||HT.isBuffer(e)||HT.isStream(e)||HT.isFile(e)||HT.isBlob(e)||HT.isReadableStream(e))return e;if(HT.isArrayBufferView(e))return e.buffer;if(HT.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return eC(e,new mC.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return mC.isNode&&HT.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=HT.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return eC(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(HT.isString(e))try{return(t||JSON.parse)(e),HT.trim(e)}catch(oL){if("SyntaxError"!==oL.name)throw oL}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||vC.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(HT.isResponse(e)||HT.isReadableStream(e))return e;if(e&&HT.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(oL){if(n){if("SyntaxError"===oL.name)throw JT.from(oL,JT.ERR_BAD_RESPONSE,this,null,this.response);throw oL}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mC.classes.FormData,Blob:mC.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};HT.forEach(["delete","get","head","post","put","patch"],(e=>{vC.headers[e]={}}));const yC=vC,wC=HT.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bC=Symbol("internals");function _C(e){return e&&String(e).trim().toLowerCase()}function SC(e){return!1===e||null==e?e:HT.isArray(e)?e.map(SC):String(e)}function EC(e,t,n,r,i){return HT.isFunction(r)?r.call(this,t,n):(i&&(t=n),HT.isString(t)?HT.isString(r)?-1!==t.indexOf(r):HT.isRegExp(r)?r.test(t):void 0:void 0)}class IC{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=_C(t);if(!i)throw new Error("header name must be a non-empty string");const o=HT.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=SC(e))}const o=(e,t)=>HT.forEach(e,((e,n)=>i(e,n,t)));if(HT.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(HT.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&wC[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(HT.isHeaders(e))for(const[s,a]of e.entries())i(a,s,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=_C(e)){const n=HT.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(HT.isFunction(t))return t.call(this,e,n);if(HT.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_C(e)){const n=HT.findKey(this,e);return!(!n||void 0===this[n]||t&&!EC(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=_C(e)){const i=HT.findKey(n,e);!i||t&&!EC(0,n[i],i,t)||(delete n[i],r=!0)}}return HT.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!EC(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return HT.forEach(this,((r,i)=>{const o=HT.findKey(n,i);if(o)return t[o]=SC(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=SC(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return HT.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&HT.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[bC]=this[bC]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=_C(e);t[r]||(!function(e,t){const n=HT.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return HT.isArray(e)?e.forEach(r):r(e),this}}IC.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),HT.reduceDescriptors(IC.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),HT.freezeMethods(IC);const kC=IC;function TC(e,t){const n=this||yC,r=t||n,i=kC.from(r.headers);let o=r.data;return HT.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function CC(e){return!(!e||!e.__CANCEL__)}function xC(e,t,n){JT.call(this,null==e?"canceled":e,JT.ERR_CANCELED,t,n),this.name="CanceledError"}HT.inherits(xC,JT,{__CANCEL__:!0});const AC=xC;function RC(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new JT("Request failed with status code "+n.status,[JT.ERR_BAD_REQUEST,JT.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const PC=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),l=r[s];i||(i=c),n[o]=a,r[o]=c;let u=s,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),c-i<t)return;const h=l&&c-l;return h?Math.round(1e3*d/h):void 0}};const OC=function(e,t){let n,r,i=0,o=1e3/t;const s=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];t>=o?s(c,e):(n=c,r||(r=setTimeout((()=>{r=null,s(n)}),o-t)))},()=>n&&s(n)]},NC=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=PC(50,250);return OC((n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-r,c=i(a);r=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},DC=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},LC=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return HT.asap((()=>e(...n)))},MC=mC.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,mC.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(mC.origin),mC.navigator&&/(msie|trident)/i.test(mC.navigator.userAgent)):()=>!0,FC=mC.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];HT.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),HT.isString(r)&&s.push("path="+r),HT.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function jC(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const UC=e=>e instanceof kC?d({},e):e;function VC(e,t){t=t||{};const n={};function r(e,t,n,r){return HT.isPlainObject(e)&&HT.isPlainObject(t)?HT.merge.call({caseless:r},e,t):HT.isPlainObject(t)?HT.merge({},t):HT.isArray(t)?t.slice():t}function i(e,t,n,i){return HT.isUndefined(t)?HT.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function o(e,t){if(!HT.isUndefined(t))return r(void 0,t)}function s(e,t){return HT.isUndefined(t)?HT.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,n)=>i(UC(e),UC(t),0,!0)};return HT.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=c[r]||i,s=o(e[r],t[r],r);HT.isUndefined(s)&&o!==a||(n[r]=s)})),n}const zC=e=>{const t=VC({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:c}=t;if(t.headers=a=kC.from(a),t.url=sC(jC(t.baseURL,t.url),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),HT.isFormData(r))if(mC.hasStandardBrowserEnv||mC.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(mC.hasStandardBrowserEnv&&(i&&HT.isFunction(i)&&(i=i(t)),i||!1!==i&&MC(t.url))){const e=o&&s&&FC.read(s);e&&a.set(o,e)}return t},BC="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=zC(e);let i=r.data;const o=kC.from(r.headers).normalize();let s,a,c,l,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){l&&l(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=kC.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());RC((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new JT("Request aborted",JT.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new JT("Network Error",JT.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||cC;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new JT(t,i.clarifyTimeoutError?JT.ETIMEDOUT:JT.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&HT.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),HT.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([c,u]=NC(f,!0),m.addEventListener("progress",c)),h&&m.upload&&([a,l]=NC(h),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",l)),(r.cancelToken||r.signal)&&(s=t=>{m&&(n(!t||t.type?new AC(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===mC.protocols.indexOf(v)?n(new JT("Unsupported protocol "+v+":",JT.ERR_BAD_REQUEST,e)):m.send(i||null)}))},qC=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof JT?t:new AC(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new JT("timeout ".concat(t," of ms exceeded"),JT.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=r;return a.unsubscribe=()=>HT.asap(s),a}};function WC(e,t){this.v=e,this.k=t}function HC(e){return function(){return new KC(e.apply(this,arguments))}}function KC(e){var t,n;function r(t,n){try{var o=e[t](n),s=o.value,a=s instanceof WC;Promise.resolve(a?s.v:s).then((function(n){if(a){var c="return"===t?"return":"next";if(!s.k||n.done)return r(c,n);n=e[c](n).value}i(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function GC(e){return new WC(e,0)}function QC(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new WC(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function JC(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new YC(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function YC(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return YC=function(e){this.s=e,this.n=e.next},YC.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new YC(e)}KC.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},KC.prototype.next=function(e){return this._invoke("next",e)},KC.prototype.throw=function(e){return this._invoke("throw",e)},KC.prototype.return=function(e){return this._invoke("return",e)};const $C=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},XC=function(){var e=HC((function*(e,t){var n,r=!1,i=!1;try{for(var o,s=JC(ZC(e));r=!(o=yield GC(s.next())).done;r=!1){const e=o.value;yield*QC(JC($C(e,t)))}}catch(a){i=!0,n=a}finally{try{r&&null!=s.return&&(yield GC(s.return()))}finally{if(i)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),ZC=function(){var e=HC((function*(e){if(e[Symbol.asyncIterator])return void(yield*QC(JC(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield GC(t.read());if(e)break;yield n}}finally{yield GC(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),ex=(e,t,n,r)=>{const i=XC(e,t);let o,s=0,a=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return a(),void e.close();let o=r.byteLength;if(n){let e=s+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},tx="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,nx=tx&&"function"===typeof ReadableStream,rx=tx&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ix=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(oL){return!1}},ox=nx&&ix((()=>{let e=!1;const t=new Request(mC.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),sx=nx&&ix((()=>HT.isReadableStream(new Response("").body))),ax={stream:sx&&(e=>e.body)};var cx;tx&&(cx=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ax[e]&&(ax[e]=HT.isFunction(cx[e])?t=>t[e]():(t,n)=>{throw new JT("Response type '".concat(e,"' is not supported"),JT.ERR_NOT_SUPPORT,n)})})));const lx=async(e,t)=>{const n=HT.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(HT.isBlob(e))return e.size;if(HT.isSpecCompliantForm(e)){const t=new Request(mC.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return HT.isArrayBufferView(e)||HT.isArrayBuffer(e)?e.byteLength:(HT.isURLSearchParams(e)&&(e+=""),HT.isString(e)?(await rx(e)).byteLength:void 0)})(t):n},ux=tx&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:h="same-origin",fetchOptions:f}=zC(e);l=l?(l+"").toLowerCase():"text";let p,m=qC([i,o&&o.toAbortSignal()],s);const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let v;try{if(c&&ox&&"get"!==n&&"head"!==n&&0!==(v=await lx(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(HT.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=DC(v,NC(LC(c)));r=ex(n.body,65536,e,t)}}HT.isString(h)||(h=h?"include":"omit");const i="credentials"in Request.prototype;p=new Request(t,d(d({},f),{},{signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?h:void 0}));let o=await fetch(p);const s=sx&&("stream"===l||"response"===l);if(sx&&(a||s&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=HT.toFiniteNumber(o.headers.get("content-length")),[n,r]=a&&DC(t,NC(LC(a),!0))||[];o=new Response(ex(o.body,65536,n,(()=>{r&&r(),g&&g()})),e)}l=l||"text";let y=await ax[HT.findKey(ax,l)||"text"](o,e);return!s&&g&&g(),await new Promise(((t,n)=>{RC(t,n,{data:y,headers:kC.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:p})}))}catch(y){if(g&&g(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new JT("Network Error",JT.ERR_NETWORK,e,p),{cause:y.cause||y});throw JT.from(y,y&&y.code,e,p)}}),dx={http:null,xhr:BC,fetch:ux};HT.forEach(dx,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(oL){}Object.defineProperty(e,"adapterName",{value:t})}}));const hx=e=>"- ".concat(e),fx=e=>HT.isFunction(e)||null===e||!1===e,px=e=>{e=HT.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!fx(n)&&(r=dx[(t=String(n)).toLowerCase()],void 0===r))throw new JT("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(hx).join("\n"):" "+hx(e[0]):"as no adapter specified";throw new JT("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function mx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new AC(null,e)}function gx(e){mx(e),e.headers=kC.from(e.headers),e.data=TC.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return px(e.adapter||yC.adapter)(e).then((function(t){return mx(e),t.data=TC.call(e,e.transformResponse,t),t.headers=kC.from(t.headers),t}),(function(t){return CC(t)||(mx(e),t&&t.response&&(t.response.data=TC.call(e,e.transformResponse,t.response),t.response.headers=kC.from(t.response.headers))),Promise.reject(t)}))}const vx="1.7.9",yx={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{yx[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const wx={};yx.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new JT(r(i," has been removed"+(t?" in "+t:"")),JT.ERR_DEPRECATED);return t&&!wx[i]&&(wx[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},yx.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const bx={assertOptions:function(e,t,n){if("object"!==typeof e)throw new JT("options must be an object",JT.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new JT("option "+o+" must be "+n,JT.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new JT("Unknown option "+o,JT.ERR_BAD_OPTION)}},validators:yx},_x=bx.validators;class Sx{constructor(e){this.defaults=e,this.interceptors={request:new aC,response:new aC}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(oL){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=VC(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&bx.assertOptions(n,{silentJSONParsing:_x.transitional(_x.boolean),forcedJSONParsing:_x.transitional(_x.boolean),clarifyTimeoutError:_x.transitional(_x.boolean)},!1),null!=r&&(HT.isFunction(r)?t.paramsSerializer={serialize:r}:bx.assertOptions(r,{encode:_x.function,serialize:_x.function},!0)),bx.assertOptions(t,{baseUrl:_x.spelling("baseURL"),withXsrfToken:_x.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&HT.merge(i.common,i[t.method]);i&&HT.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=kC.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[gx.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);d<u;)l=l.then(e[d++],e[d++]);return l}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{l=gx.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(e){return sC(jC((e=VC(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}HT.forEach(["delete","get","head","options"],(function(e){Sx.prototype[e]=function(t,n){return this.request(VC(n||{},{method:e,url:t,data:(n||{}).data}))}})),HT.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(VC(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Sx.prototype[e]=t(),Sx.prototype[e+"Form"]=t(!0)}));const Ex=Sx;class Ix{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new AC(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ix((function(t){e=t})),cancel:e}}}const kx=Ix;const Tx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tx).forEach((e=>{let[t,n]=e;Tx[n]=t}));const Cx=Tx;const xx=function e(t){const n=new Ex(t),r=rT(Ex.prototype.request,n);return HT.extend(r,Ex.prototype,n,{allOwnKeys:!0}),HT.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(VC(t,n))},r}(yC);xx.Axios=Ex,xx.CanceledError=AC,xx.CancelToken=kx,xx.isCancel=CC,xx.VERSION=vx,xx.toFormData=eC,xx.AxiosError=JT,xx.Cancel=xx.CanceledError,xx.all=function(e){return Promise.all(e)},xx.spread=function(e){return function(t){return e.apply(null,t)}},xx.isAxiosError=function(e){return HT.isObject(e)&&!0===e.isAxiosError},xx.mergeConfig=VC,xx.AxiosHeaders=kC,xx.formToJSON=e=>gC(HT.isHTMLForm(e)?new FormData(e):e),xx.getAdapter=px,xx.HttpStatusCode=Cx,xx.default=xx;const Ax=xx;function Rx(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Rx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Px=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Rx(e))&&(r&&(r+=" "),r+=t);return r};const Ox=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))},Nx={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Dx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const o=e[i];let s="",a=!0;for(let e=0;e<o.length;e+=1){const r=o[e];r&&(s+=(!0===a?"":" ")+t(r),a=!1,n&&n[r]&&(s+=" "+n[r]))}r[i]=s}return r}const Lx=r.createContext();function Mx(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}function Fx(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.searchParams.append("args[]",e))),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function jx(e){if("string"!==typeof e)throw new Error(Fx(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Ux=jx;let Vx=0;const zx=d({},i).useId;const Bx=function(e){if(void 0!==zx){const t=zx();return null!==e&&void 0!==e?e:t}return function(e){const[t,n]=r.useState(e),i=e||t;return r.useEffect((()=>{null==t&&(Vx+=1,n("mui-".concat(Vx)))}),[t]),i}(e)};const qx=function(e){let{controlled:t,default:n,name:i,state:o="value"}=e;const{current:s}=r.useRef(void 0!==t),[a,c]=r.useState(n);return[s?t:a,r.useCallback((e=>{s||c(e)}),[])]};const Wx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{!function(e,t){"function"===typeof e?e(t):e&&(e.current=t)}(t,e)}))}),t)};function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(null,arguments)}var Kx=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(oL){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Gx=Math.abs,Qx=String.fromCharCode,Jx=Object.assign;function Yx(e){return e.trim()}function $x(e,t,n){return e.replace(t,n)}function Xx(e,t){return e.indexOf(t)}function Zx(e,t){return 0|e.charCodeAt(t)}function eA(e,t,n){return e.slice(t,n)}function tA(e){return e.length}function nA(e){return e.length}function rA(e,t){return t.push(e),e}var iA=1,oA=1,sA=0,aA=0,cA=0,lA="";function uA(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:iA,column:oA,length:s,return:""}}function dA(e,t){return Jx(uA("",null,null,"",null,null,0),e,{length:-e.length},t)}function hA(){return cA=aA>0?Zx(lA,--aA):0,oA--,10===cA&&(oA=1,iA--),cA}function fA(){return cA=aA<sA?Zx(lA,aA++):0,oA++,10===cA&&(oA=1,iA++),cA}function pA(){return Zx(lA,aA)}function mA(){return aA}function gA(e,t){return eA(lA,e,t)}function vA(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yA(e){return iA=oA=1,sA=tA(lA=e),aA=0,[]}function wA(e){return lA="",e}function bA(e){return Yx(gA(aA-1,EA(91===e?e+2:40===e?e+1:e)))}function _A(e){for(;(cA=pA())&&cA<33;)fA();return vA(e)>2||vA(cA)>3?"":" "}function SA(e,t){for(;--t&&fA()&&!(cA<48||cA>102||cA>57&&cA<65||cA>70&&cA<97););return gA(e,mA()+(t<6&&32==pA()&&32==fA()))}function EA(e){for(;fA();)switch(cA){case e:return aA;case 34:case 39:34!==e&&39!==e&&EA(cA);break;case 40:41===e&&EA(e);break;case 92:fA()}return aA}function IA(e,t){for(;fA()&&e+cA!==57&&(e+cA!==84||47!==pA()););return"/*"+gA(t,aA-1)+"*"+Qx(47===e?e:fA())}function kA(e){for(;!vA(pA());)fA();return gA(e,aA)}var TA="-ms-",CA="-moz-",xA="-webkit-",AA="comm",RA="rule",PA="decl",OA="@keyframes";function NA(e,t){for(var n="",r=nA(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function DA(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case PA:return e.return=e.return||e.value;case AA:return"";case OA:return e.return=e.value+"{"+NA(e.children,r)+"}";case RA:e.value=e.props.join(",")}return tA(n=NA(e.children,r))?e.return=e.value+"{"+n+"}":""}function LA(e){return function(t){t.root||(t=t.return)&&e(t)}}function MA(e){return wA(FA("",null,null,null,[""],e=yA(e),0,[0],e))}function FA(e,t,n,r,i,o,s,a,c){for(var l=0,u=0,d=s,h=0,f=0,p=0,m=1,g=1,v=1,y=0,w="",b=i,_=o,S=r,E=w;g;)switch(p=y,y=fA()){case 40:if(108!=p&&58==Zx(E,d-1)){-1!=Xx(E+=$x(bA(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:E+=bA(y);break;case 9:case 10:case 13:case 32:E+=_A(p);break;case 92:E+=SA(mA()-1,7);continue;case 47:switch(pA()){case 42:case 47:rA(UA(IA(fA(),mA()),t,n),c);break;default:E+="/"}break;case 123*m:a[l++]=tA(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(E=$x(E,/\f/g,"")),f>0&&tA(E)-d&&rA(f>32?VA(E+";",r,n,d-1):VA($x(E," ","")+";",r,n,d-2),c);break;case 59:E+=";";default:if(rA(S=jA(E,t,n,l,u,i,a,w,b=[],_=[],d),o),123===y)if(0===u)FA(E,t,S,S,b,o,d,a,_);else switch(99===h&&110===Zx(E,3)?100:h){case 100:case 108:case 109:case 115:FA(e,S,S,r&&rA(jA(e,S,S,0,0,i,a,w,i,b=[],d),_),i,_,d,a,r?b:_);break;default:FA(E,S,S,S,[""],_,0,a,_)}}l=u=f=0,m=v=1,w=E="",d=s;break;case 58:d=1+tA(E),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==hA())continue;switch(E+=Qx(y),y*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[l++]=(tA(E)-1)*v,v=1;break;case 64:45===pA()&&(E+=bA(fA())),h=pA(),u=d=tA(w=E+=kA(mA())),y++;break;case 45:45===p&&2==tA(E)&&(m=0)}}return o}function jA(e,t,n,r,i,o,s,a,c,l,u){for(var d=i-1,h=0===i?o:[""],f=nA(h),p=0,m=0,g=0;p<r;++p)for(var v=0,y=eA(e,d+1,d=Gx(m=s[p])),w=e;v<f;++v)(w=Yx(m>0?h[v]+" "+y:$x(y,/&\f/g,h[v])))&&(c[g++]=w);return uA(e,t,n,0===i?RA:a,c,l,u)}function UA(e,t,n){return uA(e,t,n,AA,Qx(cA),eA(e,2,-2),0)}function VA(e,t,n,r){return uA(e,t,n,PA,eA(e,0,r),eA(e,r+1,-1),r)}var zA=function(e,t,n){for(var r=0,i=0;r=i,i=pA(),38===r&&12===i&&(t[n]=1),!vA(i);)fA();return gA(e,aA)},BA=function(e,t){return wA(function(e,t){var n=-1,r=44;do{switch(vA(r)){case 0:38===r&&12===pA()&&(t[n]=1),e[n]+=zA(aA-1,t,n);break;case 2:e[n]+=bA(r);break;case 4:if(44===r){e[++n]=58===pA()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Qx(r)}}while(r=fA());return e}(yA(e),t))},qA=new WeakMap,WA=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||qA.get(n))&&!r){qA.set(e,!0);for(var i=[],o=BA(t,i),s=n.props,a=0,c=0;a<o.length;a++)for(var l=0;l<s.length;l++,c++)e.props[c]=i[a]?o[a].replace(/&\f/g,s[l]):s[l]+" "+o[a]}}},HA=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function KA(e,t){switch(function(e,t){return 45^Zx(e,0)?(((t<<2^Zx(e,0))<<2^Zx(e,1))<<2^Zx(e,2))<<2^Zx(e,3):0}(e,t)){case 5103:return xA+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xA+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return xA+e+CA+e+TA+e+e;case 6828:case 4268:return xA+e+TA+e+e;case 6165:return xA+e+TA+"flex-"+e+e;case 5187:return xA+e+$x(e,/(\w+).+(:[^]+)/,xA+"box-$1$2"+TA+"flex-$1$2")+e;case 5443:return xA+e+TA+"flex-item-"+$x(e,/flex-|-self/,"")+e;case 4675:return xA+e+TA+"flex-line-pack"+$x(e,/align-content|flex-|-self/,"")+e;case 5548:return xA+e+TA+$x(e,"shrink","negative")+e;case 5292:return xA+e+TA+$x(e,"basis","preferred-size")+e;case 6060:return xA+"box-"+$x(e,"-grow","")+xA+e+TA+$x(e,"grow","positive")+e;case 4554:return xA+$x(e,/([^-])(transform)/g,"$1"+xA+"$2")+e;case 6187:return $x($x($x(e,/(zoom-|grab)/,xA+"$1"),/(image-set)/,xA+"$1"),e,"")+e;case 5495:case 3959:return $x(e,/(image-set\([^]*)/,xA+"$1$`$1");case 4968:return $x($x(e,/(.+:)(flex-)?(.*)/,xA+"box-pack:$3"+TA+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xA+e+e;case 4095:case 3583:case 4068:case 2532:return $x(e,/(.+)-inline(.+)/,xA+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tA(e)-1-t>6)switch(Zx(e,t+1)){case 109:if(45!==Zx(e,t+4))break;case 102:return $x(e,/(.+:)(.+)-([^]+)/,"$1"+xA+"$2-$3$1"+CA+(108==Zx(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Xx(e,"stretch")?KA($x(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Zx(e,t+1))break;case 6444:switch(Zx(e,tA(e)-3-(~Xx(e,"!important")&&10))){case 107:return $x(e,":",":"+xA)+e;case 101:return $x(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+xA+(45===Zx(e,14)?"inline-":"")+"box$3$1"+xA+"$2$3$1"+TA+"$2box$3")+e}break;case 5936:switch(Zx(e,t+11)){case 114:return xA+e+TA+$x(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return xA+e+TA+$x(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return xA+e+TA+$x(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return xA+e+TA+e+e}return e}var GA=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case PA:e.return=KA(e.value,e.length);break;case OA:return NA([dA(e,{value:$x(e.value,"@","@"+xA)})],r);case RA:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return NA([dA(e,{props:[$x(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return NA([dA(e,{props:[$x(t,/:(plac\w+)/,":"+xA+"input-$1")]}),dA(e,{props:[$x(t,/:(plac\w+)/,":-moz-$1")]}),dA(e,{props:[$x(t,/:(plac\w+)/,TA+"input-$1")]})],r)}return""}))}}],QA=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,o=e.stylisPlugins||GA,s={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var c,l=[WA,HA],u=[DA,LA((function(e){c.insert(e)}))],d=function(e){var t=nA(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}(l.concat(o,u));i=function(e,t,n,r){c=n,NA(MA(e?e+"{"+t.styles+"}":t.styles),d),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Kx({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return h.sheet.hydrate(a),h};var JA={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function YA(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var $A=/[A-Z]|^ms/g,XA=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ZA=function(e){return 45===e.charCodeAt(1)},eR=function(e){return null!=e&&"boolean"!==typeof e},tR=YA((function(e){return ZA(e)?e:e.replace($A,"-$&").toLowerCase()})),nR=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(XA,(function(e,t,n){return iR={name:t,styles:n,next:iR},t}))}return 1===JA[e]||ZA(e)||"number"!==typeof t||0===t?t:t+"px"};function rR(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return iR={name:i.name,styles:i.styles,next:iR},i.name;var o=n;if(void 0!==o.styles){var s=o.next;if(void 0!==s)for(;void 0!==s;)iR={name:s.name,styles:s.styles,next:iR},s=s.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=rR(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s){var a=s;null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":eR(a)&&(r+=tR(o)+":"+nR(o,a)+";")}else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var c=rR(e,t,s);switch(o){case"animation":case"animationName":r+=tR(o)+":"+c+";";break;default:r+=o+"{"+c+"}"}}else for(var l=0;l<s.length;l++)eR(s[l])&&(r+=tR(o)+":"+nR(o,s[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=iR,c=n(e);return iR=a,rR(e,t,c)}}var l=n;if(null==t)return l;var u=t[l];return void 0!==u?u:l}var iR,oR=/label:\s*([^\s;{]+)\s*(;|$)/g;function sR(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";iR=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=rR(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++){if(i+=rR(n,t,e[s]),r)i+=o[s]}oR.lastIndex=0;for(var a,c="";null!==(a=oR.exec(i));)c+="-"+a[1];var l=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+c;return{name:l,styles:i,next:iR}}var aR=!!i.useInsertionEffect&&i.useInsertionEffect,cR=aR||function(e){return e()},lR=(aR||r.useLayoutEffect,r.createContext("undefined"!==typeof HTMLElement?QA({key:"css"}):null)),uR=(lR.Provider,function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(lR);return e(t,i,n)}))}),dR=r.createContext({});var hR=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},fR=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pR=YA((function(e){return fR.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),mR=function(e){return"theme"!==e},gR=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?pR:mR},vR=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},yR=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return hR(t,n,r),cR((function(){return function(e,t,n){hR(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},wR=function e(t,n){var i,o,s=t.__emotion_real===t,a=s&&t.__emotion_base||t;void 0!==n&&(i=n.label,o=n.target);var c=vR(t,n,s),l=c||gR(a),u=!l("as");return function(){var d=arguments,h=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{var f=d[0];h.push(f[0]);for(var p=d.length,m=1;m<p;m++)h.push(d[m],f[m])}var g=uR((function(e,t,n){var i=u&&e.as||a,s="",d=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=r.useContext(dR)}"string"===typeof e.className?s=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}(t.registered,d,e.className):null!=e.className&&(s=e.className+" ");var m=sR(h.concat(d),t.registered,f);s+=t.key+"-"+m.name,void 0!==o&&(s+=" "+o);var g=u&&void 0===c?gR(i):l,v={};for(var y in e)u&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=s,n&&(v.ref=n),r.createElement(r.Fragment,null,r.createElement(yR,{cache:t,serialized:m,isStringTag:"string"===typeof i}),r.createElement(i,v))}));return g.displayName=void 0!==i?i:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=a,g.__emotion_styles=h,g.__emotion_forwardProp=c,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,r){return e(t,Hx({},n,r,{shouldForwardProp:vR(g,r,!0)})).apply(void 0,h)},g}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){wR[e]=wR(e)}));const bR=[];function _R(e){return bR[0]=e,sR(bR)}function SR(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ER(e){if(r.isValidElement(e)||!SR(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=ER(e[n])})),t}function IR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const i=n.clone?d({},e):e;return SR(e)&&SR(t)&&Object.keys(t).forEach((o=>{r.isValidElement(t[o])?i[o]=t[o]:SR(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&SR(e[o])?i[o]=IR(e[o],t[o],n):n.clone?i[o]=SR(t[o])?ER(t[o]):t[o]:i[o]=t[o]})),i}const kR=["values","unit","step"];function TR(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=s(e,kR),o=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>d(d({},e),{},{[t.key]:t.val})),{})})(t),a=Object.keys(o);function c(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function l(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function u(e,i){const o=a.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[a[o]]?t[a[o]]:i)-r/100).concat(n,")")}return d({keys:a,values:o,up:c,down:l,between:u,only:function(e){return a.indexOf(e)+1<a.length?u(e,a[a.indexOf(e)+1]):c(e)},not:function(e){const t=a.indexOf(e);return 0===t?c(a[1]):t===a.length-1?l(a[t]):u(e,a[a.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}const CR={borderRadius:4},xR={xs:0,sm:600,md:900,lg:1200,xl:1536},AR={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(xR[e],"px)")},RR={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:xR[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function PR(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||AR;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||AR;return Object.keys(t).reduce(((i,o)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith("@".concat(e))))||!!t.match(/^@\d/))}(e.keys,o)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}(r.containerQueries?r:RR,o);e&&(i[e]=n(t[o],o))}else if(Object.keys(e.values||xR).includes(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i}),{})}return n(t)}function OR(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function NR(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function DR(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function LR(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:DR(e,n)||i,t&&(r=t(r,i,e)),r}const MR=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],s=DR(e.theme,r)||{};return PR(e,o,(e=>{let r=LR(s,i,e);return e===r&&"string"===typeof e&&(r=LR(s,i,"".concat(t).concat("default"===e?"":jx(e)),e)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[t],o};const FR=function(e,t){return t?IR(e,t,{clone:!1}):e};const jR={m:"margin",p:"padding"},UR={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},VR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},zR=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!VR[e])return[e];e=VR[e]}const[t,n]=e.split(""),r=jR[t],i=UR[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),BR=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],qR=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],WR=[...BR,...qR];function HR(e,t,n,r){var i;const o=null!==(i=DR(e,t,!0))&&void 0!==i?i:n;return"number"===typeof o||"string"===typeof o?e=>"string"===typeof e?e:"string"===typeof o?"calc(".concat(e," * ").concat(o,")"):o*e:Array.isArray(o)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=o[t];return e>=0?n:"number"===typeof n?-n:"-".concat(n)}:"function"===typeof o?o:()=>{}}function KR(e){return HR(e,"spacing",8)}function GR(e,t){return"string"===typeof t||null==t?t:e(t)}function QR(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=GR(t,n),e)),{})}(zR(n),r);return PR(e,e[n],i)}function JR(e,t){const n=KR(e.theme);return Object.keys(e).map((r=>QR(e,t,r,n))).reduce(FR,{})}function YR(e){return JR(e,BR)}function $R(e){return JR(e,qR)}function XR(e){return JR(e,WR)}YR.propTypes={},YR.filterProps=BR,$R.propTypes={},$R.filterProps=qR,XR.propTypes={},XR.filterProps=WR;function ZR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KR({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}const eP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?FR(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function tP(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function nP(e,t){return MR({prop:e,themeKey:"borders",transform:t})}const rP=nP("border",tP),iP=nP("borderTop",tP),oP=nP("borderRight",tP),sP=nP("borderBottom",tP),aP=nP("borderLeft",tP),cP=nP("borderColor"),lP=nP("borderTopColor"),uP=nP("borderRightColor"),dP=nP("borderBottomColor"),hP=nP("borderLeftColor"),fP=nP("outline",tP),pP=nP("outlineColor"),mP=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=HR(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:GR(t,e)});return PR(e,e.borderRadius,n)}return null};mP.propTypes={},mP.filterProps=["borderRadius"];eP(rP,iP,oP,sP,aP,cP,lP,uP,dP,hP,mP,fP,pP);const gP=e=>{if(void 0!==e.gap&&null!==e.gap){const t=HR(e.theme,"spacing",8),n=e=>({gap:GR(t,e)});return PR(e,e.gap,n)}return null};gP.propTypes={},gP.filterProps=["gap"];const vP=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=HR(e.theme,"spacing",8),n=e=>({columnGap:GR(t,e)});return PR(e,e.columnGap,n)}return null};vP.propTypes={},vP.filterProps=["columnGap"];const yP=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=HR(e.theme,"spacing",8),n=e=>({rowGap:GR(t,e)});return PR(e,e.rowGap,n)}return null};yP.propTypes={},yP.filterProps=["rowGap"];eP(gP,vP,yP,MR({prop:"gridColumn"}),MR({prop:"gridRow"}),MR({prop:"gridAutoFlow"}),MR({prop:"gridAutoColumns"}),MR({prop:"gridAutoRows"}),MR({prop:"gridTemplateColumns"}),MR({prop:"gridTemplateRows"}),MR({prop:"gridTemplateAreas"}),MR({prop:"gridArea"}));function wP(e,t){return"grey"===t?t:e}eP(MR({prop:"color",themeKey:"palette",transform:wP}),MR({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:wP}),MR({prop:"backgroundColor",themeKey:"palette",transform:wP}));function bP(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const _P=MR({prop:"width",transform:bP}),SP=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||xR[t];return i?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:bP(t)}};return PR(e,e.maxWidth,t)}return null};SP.filterProps=["maxWidth"];const EP=MR({prop:"minWidth",transform:bP}),IP=MR({prop:"height",transform:bP}),kP=MR({prop:"maxHeight",transform:bP}),TP=MR({prop:"minHeight",transform:bP}),CP=(MR({prop:"size",cssProperty:"width",transform:bP}),MR({prop:"size",cssProperty:"height",transform:bP}),eP(_P,SP,EP,IP,kP,TP,MR({prop:"boxSizing"})),{border:{themeKey:"borders",transform:tP},borderTop:{themeKey:"borders",transform:tP},borderRight:{themeKey:"borders",transform:tP},borderBottom:{themeKey:"borders",transform:tP},borderLeft:{themeKey:"borders",transform:tP},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:tP},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:mP},color:{themeKey:"palette",transform:wP},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:wP},backgroundColor:{themeKey:"palette",transform:wP},p:{style:$R},pt:{style:$R},pr:{style:$R},pb:{style:$R},pl:{style:$R},px:{style:$R},py:{style:$R},padding:{style:$R},paddingTop:{style:$R},paddingRight:{style:$R},paddingBottom:{style:$R},paddingLeft:{style:$R},paddingX:{style:$R},paddingY:{style:$R},paddingInline:{style:$R},paddingInlineStart:{style:$R},paddingInlineEnd:{style:$R},paddingBlock:{style:$R},paddingBlockStart:{style:$R},paddingBlockEnd:{style:$R},m:{style:YR},mt:{style:YR},mr:{style:YR},mb:{style:YR},ml:{style:YR},mx:{style:YR},my:{style:YR},margin:{style:YR},marginTop:{style:YR},marginRight:{style:YR},marginBottom:{style:YR},marginLeft:{style:YR},marginX:{style:YR},marginY:{style:YR},marginInline:{style:YR},marginInlineStart:{style:YR},marginInlineEnd:{style:YR},marginBlock:{style:YR},marginBlockStart:{style:YR},marginBlockEnd:{style:YR},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gP},rowGap:{style:yP},columnGap:{style:vP},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:bP},maxWidth:{style:SP},minWidth:{transform:bP},height:{transform:bP},maxHeight:{transform:bP},minHeight:{transform:bP},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const xP=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:c,style:l}=o;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=DR(n,a)||{};if(l)return l(i);return PR(i,t,(t=>{let n=LR(u,c,t);return t===n&&"string"===typeof t&&(n=LR(u,c,"".concat(e).concat("default"===t?"":jx(t)),t)),!1===s?n:{[s]:n}}))}return function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=null!==(r=o.unstable_sxConfig)&&void 0!==r?r:CP;function a(n){let r=n;if("function"===typeof n)r=n(o);else if("object"!==typeof n)return n;if(!r)return null;const i=OR(o.breakpoints),a=Object.keys(i);let c=i;return Object.keys(r).forEach((n=>{const i=function(e,t){return"function"===typeof e?e(t):e}(r[n],o);if(null!==i&&void 0!==i)if("object"===typeof i)if(s[n])c=FR(c,e(n,i,o,s));else{const e=PR({theme:o},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?c=FR(c,e):c[n]=t({sx:i,theme:o})}else c=FR(c,e(n,i,o,s))})),function(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{var n,r;const i=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(i))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(i))||void 0===r?void 0:r[1])||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),d({},t)):t}(o,NR(a,c))}return Array.isArray(i)?i.map(a):a(i)}}();xP.filterProps=["sx"];const AP=xP;function RP(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let i=n.getColorSchemeSelector(e);return"&"===i?t:((i.includes("data-")||i.includes("."))&&(i="*:where(".concat(i.replace(/\s*&$/,""),") &")),{[i]:t})}return n.palette.mode===e?t:{}}const PP=["breakpoints","palette","spacing","shape"];const OP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,o=s(e,PP),a=TR(t),c=ZR(r);let l=IR({breakpoints:a,direction:"ltr",components:{},palette:d({mode:"light"},n),spacing:c,shape:d(d({},CR),i)},o);l=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),d(d({},e),{},{containerQueries:i})}(l),l.applyStyles=RP;for(var u=arguments.length,h=new Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return l=h.reduce(((e,t)=>IR(e,t)),l),l.unstable_sxConfig=d(d({},CP),null===o||void 0===o?void 0:o.unstable_sxConfig),l.unstable_sx=function(e){return AP({sx:e,theme:this})},l},NP=["variants"];function DP(e){const{variants:t}=e,n=s(e,NP),r={variants:t,style:_R(n),isProcessed:!0};return r.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=_R(e.style))})),r}const LP=["variants"],MP=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],FP=OP();function jP(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function UP(e){return e?(t,n)=>n[e]:null}function VP(e,t){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap((t=>VP(e,t)));if(Array.isArray(null===n||void 0===n?void 0:n.variants)){let t;if(n.isProcessed)t=n.style;else{const{variants:e}=n;t=s(n,LP)}return zP(e,n.variants,[t])}return null!==n&&void 0!==n&&n.isProcessed?n.style:n}function zP(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e:for(let a=0;a<t.length;a+=1){const c=t[a];var i,o;if("function"===typeof c.props){if(null!==(i=n)&&void 0!==i||(n=d(d(d({},e),e.ownerState),{},{ownerState:e.ownerState})),!c.props(n))continue}else for(const t in c.props){var s;if(e[t]!==c.props[t]&&(null===(s=e.ownerState)||void 0===s?void 0:s[t])!==c.props[t])continue e}if("function"===typeof c.style)null!==(o=n)&&void 0!==o||(n=d(d(d({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(c.style(n));else r.push(c.style)}return r}function BP(e,t){}function qP(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}function WP(e){return Ox(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function HP(e){if(e.type)return e;if("#"===e.charAt(0))return HP(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Fx(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Fx(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const KP=(e,t)=>{try{return(e=>{const t=HP(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")})(e)}catch(n){return e}};function GP(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function QP(e){e=HP(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),GP({type:a,values:c})}function JP(e){let t="hsl"===(e=HP(e)).type||"hsla"===e.type?HP(QP(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function YP(e,t,n){try{return function(e,t){return e=HP(e),t=WP(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,GP(e)}(e,t)}catch(r){return e}}function $P(e,t){if(e=HP(e),t=WP(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return GP(e)}function XP(e,t,n){try{return $P(e,t)}catch(r){return e}}function ZP(e,t){if(e=HP(e),t=WP(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return GP(e)}function eO(e,t,n){try{return ZP(e,t)}catch(r){return e}}function tO(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return JP(e)>.5?$P(e,t):ZP(e,t)}(e,t)}catch(r){return e}}const nO={black:"#000",white:"#fff"},rO={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},iO={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},oO={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},sO={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},aO={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},cO={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lO={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},uO=["mode","contrastThreshold","tonalOffset"];function dO(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:nO.white,default:nO.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const hO=dO();function fO(){return{text:{primary:nO.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:nO.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const pO=fO();function mO(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=ZP(e.main,i):"dark"===t&&(e.dark=$P(e.main,o)))}function gO(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=s(e,uO),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:aO[200],light:aO[50],dark:aO[400]}:{main:aO[700],light:aO[400],dark:aO[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:iO[200],light:iO[50],dark:iO[400]}:{main:iO[500],light:iO[300],dark:iO[700]}}(t),c=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:oO[500],light:oO[300],dark:oO[700]}:{main:oO[700],light:oO[400],dark:oO[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:cO[400],light:cO[300],dark:cO[700]}:{main:cO[700],light:cO[500],dark:cO[900]}}(t),u=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:lO[400],light:lO[300],dark:lO[700]}:{main:lO[800],light:lO[500],dark:lO[900]}}(t),h=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:sO[400],light:sO[300],dark:sO[700]}:{main:"#ed6c02",light:sO[500],dark:sO[900]}}(t);function f(e){const t=function(e,t){const n=JP(e),r=JP(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,pO.text.primary)>=n?pO.text.primary:hO.text.primary;return t}const p=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:s=700}=e;if(t=d({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Fx(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Fx(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return mO(t,"light",o,r),mO(t,"dark",s,r),t.contrastText||(t.contrastText=f(t.main)),t};let m;"light"===t?m=dO():"dark"===t&&(m=fO());return IR(d({common:d({},nO),mode:t,primary:p({color:o,name:"primary"}),secondary:p({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:c,name:"error"}),warning:p({color:h,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:u,name:"success"}),grey:rO,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:r},m),i)}function vO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const o=r[0];return"string"!==typeof o||o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(o):", var(--".concat(e?"".concat(e,"-"):"").concat(o).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...i),")")}}function yO(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))})),t}const wO=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach(((e,o)=>{o===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])}))};function bO(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};return((e,t,n)=>{!function e(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(r).forEach((r=>{let[s,a]=r;(!n||n&&!n([...i,s]))&&void 0!==a&&null!==a&&("object"===typeof a&&Object.keys(a).length>0?e(a,[...i,s],Array.isArray(a)?[...o,s]:o):t([...i,s],a,o))}))}(e)})(e,((e,t,a)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),c=((e,t)=>{if("number"===typeof t)return["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px");return t})(e,t);Object.assign(i,{[r]:c}),wO(o,e,"var(".concat(r,")"),a),wO(s,e,"var(".concat(r,", ").concat(c,")"),a)}}),(e=>"vars"===e[0])),{css:i,vars:o,varsWithDefaults:s}}const _O=["colorSchemes","components","defaultColorScheme"];const SO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=w,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:a,defaultColorScheme:l="light"}=e,u=s(e,_O),{vars:h,css:f,varsWithDefaults:p}=bO(u,t);let m=p;const g={},{[l]:v}=o,y=s(o,[l].map(c));if(Object.entries(y||{}).forEach((e=>{let[n,r]=e;const{vars:i,css:o,varsWithDefaults:s}=bO(r,t);m=IR(m,s),g[n]={css:o,vars:i}})),v){const{css:e,vars:n,varsWithDefaults:r}=bO(v,t);m=IR(m,r),g[l]={css:e,vars:n}}function w(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(r="[".concat(i,'="%s"]')),t){if("media"===r){var s;if(e.defaultColorScheme===t)return":root";const r=(null===(s=o[t])||void 0===s||null===(s=s.palette)||void 0===s?void 0:s.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:m,generateThemeVars:()=>{let e=d({},h);return Object.entries(g).forEach((t=>{let[,{vars:n}]=t;e=IR(e,n)})),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function a(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:d({},n)}:e)}a(n(void 0,d({},f)),f);const{[i]:l}=g,u=s(g,[i].map(c));if(l){var h;const{css:e}=l,t=null===(h=o[i])||void 0===h||null===(h=h.palette)||void 0===h?void 0:h.mode,s=d(!r&&t?{colorScheme:t}:{},e);a(n(i,d({},s)),s)}return Object.entries(u).forEach((e=>{var t;let[i,{css:s}]=e;const c=null===(t=o[i])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,l=d(!r&&c?{colorScheme:c}:{},s);a(n(i,d({},l)),l)})),t}}};function EO(e,t){return d({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const IO=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const kO={textTransform:"uppercase"},TO='"Roboto", "Helvetica", "Arial", sans-serif';function CO(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=TO,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:c=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:h,pxToRem:f}=n,p=s(n,IO);const m=i/14,g=f||(e=>"".concat(e/u*m,"rem")),v=(e,t,n,i,o)=>{return d(d(d({fontFamily:r,fontWeight:e,fontSize:g(t),lineHeight:n},r===TO?{letterSpacing:"".concat((s=i/t,Math.round(1e5*s)/1e5),"em")}:{}),o),h);var s},y={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(a,48,1.167,0),h4:v(a,34,1.235,.25),h5:v(a,24,1.334,0),h6:v(c,20,1.6,.15),subtitle1:v(a,16,1.75,.15),subtitle2:v(c,14,1.57,.1),body1:v(a,16,1.5,.15),body2:v(a,14,1.43,.15),button:v(c,14,1.75,.4,kO),caption:v(a,12,1.66,.4),overline:v(a,12,2.66,1,kO),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return IR(d({htmlFontSize:u,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:c,fontWeightBold:l},y),p,{clone:!1})}function xO(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const AO=["none",xO(0,2,1,-1,0,1,1,0,0,1,3,0),xO(0,3,1,-2,0,2,2,0,0,1,5,0),xO(0,3,3,-2,0,3,4,0,0,1,8,0),xO(0,2,4,-1,0,4,5,0,0,1,10,0),xO(0,3,5,-1,0,5,8,0,0,1,14,0),xO(0,3,5,-1,0,6,10,0,0,1,18,0),xO(0,4,5,-2,0,7,10,1,0,2,16,1),xO(0,5,5,-3,0,8,10,1,0,3,14,2),xO(0,5,6,-3,0,9,12,1,0,3,16,2),xO(0,6,6,-3,0,10,14,1,0,4,18,3),xO(0,6,7,-4,0,11,15,1,0,4,20,3),xO(0,7,8,-4,0,12,17,2,0,5,22,4),xO(0,7,8,-4,0,13,19,2,0,5,24,4),xO(0,7,9,-4,0,14,21,2,0,5,26,4),xO(0,8,9,-5,0,15,22,2,0,6,28,5),xO(0,8,10,-5,0,16,24,2,0,6,30,5),xO(0,8,11,-5,0,17,26,2,0,6,32,5),xO(0,9,11,-5,0,18,28,2,0,7,34,6),xO(0,9,12,-6,0,19,29,2,0,7,36,6),xO(0,10,13,-6,0,20,31,3,0,8,38,7),xO(0,10,13,-6,0,21,33,3,0,8,40,7),xO(0,10,14,-6,0,22,35,3,0,8,42,7),xO(0,11,14,-7,0,23,36,3,0,9,44,8),xO(0,11,15,-7,0,24,38,3,0,9,46,8)],RO=["duration","easing","delay"],PO={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},OO={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function NO(e){return"".concat(Math.round(e),"ms")}function DO(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function LO(e){const t=d(d({},PO),e.easing),n=d(d({},OO),e.duration);return d(d({getAutoHeightDuration:DO,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:a=0}=r;s(r,RO);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:NO(i)," ").concat(o," ").concat("string"===typeof a?a:NO(a)))).join(",")}},e),{},{easing:t,duration:n})}const MO={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function FO(){const e=d({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let i=0;i<n.length;i++){const[o,s]=n[i];!SR(r=s)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||o.startsWith("unstable_")?delete t[o]:SR(s)&&(t[o]=d({},s),e(t[o]))}var r}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const jO=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function UO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:a={},shape:c}=e,l=s(e,jO);if(e.vars)throw new Error(Fx(20));const u=gO(i),h=OP(e);let f=IR(h,{mixins:EO(h.breakpoints,n),palette:u,shadows:AO.slice(),typography:CO(u,a),transitions:LO(o),zIndex:d({},MO)});f=IR(f,l);for(var p=arguments.length,m=new Array(p>1?p-1:0),g=1;g<p;g++)m[g-1]=arguments[g];return f=m.reduce(((e,t)=>IR(e,t)),f),f.unstable_sxConfig=d(d({},CP),null===l||void 0===l?void 0:l.unstable_sxConfig),f.unstable_sx=function(e){return AP({sx:e,theme:this})},f.toRuntimeSource=FO,f}const VO=UO;const zO=["palette","opacity","overlays"],BO=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=function(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")}));function qO(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function WO(e){return"dark"===e?BO:[]}function HO(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const KO=e=>[...[...Array(25)].map(((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n))),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],GO=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if("class"===i&&(o=".%s"),"data"===i&&(o="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(o="[".concat(i,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const i={};return KO(e.cssVarPrefix).forEach((e=>{i[e]=n[e],delete n[e]})),"media"===o?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:o?{[o.replace("%s",t)]:i,["".concat(r,", ").concat(o.replace("%s",t))]:n}:{[r]:d(d({},n),i)}}if(o&&"media"!==o)return"".concat(r,", ").concat(o.replace("%s",String(t)))}else if(t){if("media"===o)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r},QO=["palette"],JO=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function YO(e,t,n){!e[t]&&n&&(e[t]=n)}function $O(e){return"string"===typeof e&&e.startsWith("hsl")?QP(e):e}function XO(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=KP($O(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const ZO=e=>{try{return e()}catch(t){}};function eN(e,t,n,r){var i,o,a;if(!t)return;t=!0===t?{}:t;const c="dark"===r?"dark":"light";var l;if(!n)return void(e[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r}=e,i=s(e,zO),o=gO(t);return d({palette:o,opacity:d(d({},qO(o.mode)),n),overlays:r||WO(o.mode)},i)}(d(d({},t),{},{palette:d({mode:c},null===(l=t)||void 0===l?void 0:l.palette)})));const u=VO(d(d({},n),{},{palette:d({mode:c},null===(i=t)||void 0===i?void 0:i.palette)})),{palette:h}=u,f=s(u,QO);return e[r]=d(d({},t),{},{palette:h,opacity:d(d({},qO(c)),null===(o=t)||void 0===o?void 0:o.opacity),overlays:(null===(a=t)||void 0===a?void 0:a.overlays)||WO(c)}),f}function tN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=HO,colorSchemeSelector:a=(t.light&&t.dark?"media":void 0),rootSelector:l=":root"}=e,u=s(e,JO),h=Object.keys(t)[0],f=n||(t.light&&"light"!==h?"light":h),p=function(){return vO(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[f]:m,light:g,dark:v}=t,y=d({},s(t,[f,"light","dark"].map(c)));let w=m;if(("dark"===f&&!("dark"in t)||"light"===f&&!("light"in t))&&(w=!0),!w)throw new Error(Fx(21,f));const b=eN(y,w,u,f);g&&!y.light&&eN(y,g,void 0,"light"),v&&!y.dark&&eN(y,v,void 0,"dark");let _=d(d({defaultColorScheme:f},b),{},{cssVarPrefix:i,colorSchemeSelector:a,rootSelector:l,getCssVar:p,colorSchemes:y,font:d(d({},yO(b.typography)),b.font),spacing:(S=u.spacing,"number"===typeof S?"".concat(S,"px"):"string"===typeof S||"function"===typeof S||Array.isArray(S)?S:"8px")});var S;Object.keys(_.colorSchemes).forEach((e=>{const t=_.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return p(e,t[r][i])};var r;if("light"===t.mode&&(YO(t.common,"background","#fff"),YO(t.common,"onBackground","#000")),"dark"===t.mode&&(YO(t.common,"background","#000"),YO(t.common,"onBackground","#fff")),r=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach((e=>{r[e]||(r[e]={})})),"light"===t.mode){YO(t.Alert,"errorColor",XP(t.error.light,.6)),YO(t.Alert,"infoColor",XP(t.info.light,.6)),YO(t.Alert,"successColor",XP(t.success.light,.6)),YO(t.Alert,"warningColor",XP(t.warning.light,.6)),YO(t.Alert,"errorFilledBg",n("palette-error-main")),YO(t.Alert,"infoFilledBg",n("palette-info-main")),YO(t.Alert,"successFilledBg",n("palette-success-main")),YO(t.Alert,"warningFilledBg",n("palette-warning-main")),YO(t.Alert,"errorFilledColor",ZO((()=>t.getContrastText(t.error.main)))),YO(t.Alert,"infoFilledColor",ZO((()=>t.getContrastText(t.info.main)))),YO(t.Alert,"successFilledColor",ZO((()=>t.getContrastText(t.success.main)))),YO(t.Alert,"warningFilledColor",ZO((()=>t.getContrastText(t.warning.main)))),YO(t.Alert,"errorStandardBg",eO(t.error.light,.9)),YO(t.Alert,"infoStandardBg",eO(t.info.light,.9)),YO(t.Alert,"successStandardBg",eO(t.success.light,.9)),YO(t.Alert,"warningStandardBg",eO(t.warning.light,.9)),YO(t.Alert,"errorIconColor",n("palette-error-main")),YO(t.Alert,"infoIconColor",n("palette-info-main")),YO(t.Alert,"successIconColor",n("palette-success-main")),YO(t.Alert,"warningIconColor",n("palette-warning-main")),YO(t.AppBar,"defaultBg",n("palette-grey-100")),YO(t.Avatar,"defaultBg",n("palette-grey-400")),YO(t.Button,"inheritContainedBg",n("palette-grey-300")),YO(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),YO(t.Chip,"defaultBorder",n("palette-grey-400")),YO(t.Chip,"defaultAvatarColor",n("palette-grey-700")),YO(t.Chip,"defaultIconColor",n("palette-grey-700")),YO(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),YO(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),YO(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),YO(t.LinearProgress,"primaryBg",eO(t.primary.main,.62)),YO(t.LinearProgress,"secondaryBg",eO(t.secondary.main,.62)),YO(t.LinearProgress,"errorBg",eO(t.error.main,.62)),YO(t.LinearProgress,"infoBg",eO(t.info.main,.62)),YO(t.LinearProgress,"successBg",eO(t.success.main,.62)),YO(t.LinearProgress,"warningBg",eO(t.warning.main,.62)),YO(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),YO(t.Slider,"primaryTrack",eO(t.primary.main,.62)),YO(t.Slider,"secondaryTrack",eO(t.secondary.main,.62)),YO(t.Slider,"errorTrack",eO(t.error.main,.62)),YO(t.Slider,"infoTrack",eO(t.info.main,.62)),YO(t.Slider,"successTrack",eO(t.success.main,.62)),YO(t.Slider,"warningTrack",eO(t.warning.main,.62));const e=tO(t.background.default,.8);YO(t.SnackbarContent,"bg",e),YO(t.SnackbarContent,"color",ZO((()=>t.getContrastText(e)))),YO(t.SpeedDialAction,"fabHoverBg",tO(t.background.paper,.15)),YO(t.StepConnector,"border",n("palette-grey-400")),YO(t.StepContent,"border",n("palette-grey-400")),YO(t.Switch,"defaultColor",n("palette-common-white")),YO(t.Switch,"defaultDisabledColor",n("palette-grey-100")),YO(t.Switch,"primaryDisabledColor",eO(t.primary.main,.62)),YO(t.Switch,"secondaryDisabledColor",eO(t.secondary.main,.62)),YO(t.Switch,"errorDisabledColor",eO(t.error.main,.62)),YO(t.Switch,"infoDisabledColor",eO(t.info.main,.62)),YO(t.Switch,"successDisabledColor",eO(t.success.main,.62)),YO(t.Switch,"warningDisabledColor",eO(t.warning.main,.62)),YO(t.TableCell,"border",eO(YP(t.divider,1),.88)),YO(t.Tooltip,"bg",YP(t.grey[700],.92))}if("dark"===t.mode){YO(t.Alert,"errorColor",eO(t.error.light,.6)),YO(t.Alert,"infoColor",eO(t.info.light,.6)),YO(t.Alert,"successColor",eO(t.success.light,.6)),YO(t.Alert,"warningColor",eO(t.warning.light,.6)),YO(t.Alert,"errorFilledBg",n("palette-error-dark")),YO(t.Alert,"infoFilledBg",n("palette-info-dark")),YO(t.Alert,"successFilledBg",n("palette-success-dark")),YO(t.Alert,"warningFilledBg",n("palette-warning-dark")),YO(t.Alert,"errorFilledColor",ZO((()=>t.getContrastText(t.error.dark)))),YO(t.Alert,"infoFilledColor",ZO((()=>t.getContrastText(t.info.dark)))),YO(t.Alert,"successFilledColor",ZO((()=>t.getContrastText(t.success.dark)))),YO(t.Alert,"warningFilledColor",ZO((()=>t.getContrastText(t.warning.dark)))),YO(t.Alert,"errorStandardBg",XP(t.error.light,.9)),YO(t.Alert,"infoStandardBg",XP(t.info.light,.9)),YO(t.Alert,"successStandardBg",XP(t.success.light,.9)),YO(t.Alert,"warningStandardBg",XP(t.warning.light,.9)),YO(t.Alert,"errorIconColor",n("palette-error-main")),YO(t.Alert,"infoIconColor",n("palette-info-main")),YO(t.Alert,"successIconColor",n("palette-success-main")),YO(t.Alert,"warningIconColor",n("palette-warning-main")),YO(t.AppBar,"defaultBg",n("palette-grey-900")),YO(t.AppBar,"darkBg",n("palette-background-paper")),YO(t.AppBar,"darkColor",n("palette-text-primary")),YO(t.Avatar,"defaultBg",n("palette-grey-600")),YO(t.Button,"inheritContainedBg",n("palette-grey-800")),YO(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),YO(t.Chip,"defaultBorder",n("palette-grey-700")),YO(t.Chip,"defaultAvatarColor",n("palette-grey-300")),YO(t.Chip,"defaultIconColor",n("palette-grey-300")),YO(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),YO(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),YO(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),YO(t.LinearProgress,"primaryBg",XP(t.primary.main,.5)),YO(t.LinearProgress,"secondaryBg",XP(t.secondary.main,.5)),YO(t.LinearProgress,"errorBg",XP(t.error.main,.5)),YO(t.LinearProgress,"infoBg",XP(t.info.main,.5)),YO(t.LinearProgress,"successBg",XP(t.success.main,.5)),YO(t.LinearProgress,"warningBg",XP(t.warning.main,.5)),YO(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),YO(t.Slider,"primaryTrack",XP(t.primary.main,.5)),YO(t.Slider,"secondaryTrack",XP(t.secondary.main,.5)),YO(t.Slider,"errorTrack",XP(t.error.main,.5)),YO(t.Slider,"infoTrack",XP(t.info.main,.5)),YO(t.Slider,"successTrack",XP(t.success.main,.5)),YO(t.Slider,"warningTrack",XP(t.warning.main,.5));const e=tO(t.background.default,.98);YO(t.SnackbarContent,"bg",e),YO(t.SnackbarContent,"color",ZO((()=>t.getContrastText(e)))),YO(t.SpeedDialAction,"fabHoverBg",tO(t.background.paper,.15)),YO(t.StepConnector,"border",n("palette-grey-600")),YO(t.StepContent,"border",n("palette-grey-600")),YO(t.Switch,"defaultColor",n("palette-grey-300")),YO(t.Switch,"defaultDisabledColor",n("palette-grey-600")),YO(t.Switch,"primaryDisabledColor",XP(t.primary.main,.55)),YO(t.Switch,"secondaryDisabledColor",XP(t.secondary.main,.55)),YO(t.Switch,"errorDisabledColor",XP(t.error.main,.55)),YO(t.Switch,"infoDisabledColor",XP(t.info.main,.55)),YO(t.Switch,"successDisabledColor",XP(t.success.main,.55)),YO(t.Switch,"warningDisabledColor",XP(t.warning.main,.55)),YO(t.TableCell,"border",XP(YP(t.divider,1),.68)),YO(t.Tooltip,"bg",YP(t.grey[700],.92))}XO(t.background,"default"),XO(t.background,"paper"),XO(t.common,"background"),XO(t.common,"onBackground"),XO(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&YO(t[e],"mainChannel",KP($O(n.main))),n.light&&YO(t[e],"lightChannel",KP($O(n.light))),n.dark&&YO(t[e],"darkChannel",KP($O(n.dark))),n.contrastText&&YO(t[e],"contrastTextChannel",KP($O(n.contrastText))),"text"===e&&(XO(t[e],"primary"),XO(t[e],"secondary")),"action"===e&&(n.active&&XO(t[e],"active"),n.selected&&XO(t[e],"selected")))}))}));for(var E=arguments.length,I=new Array(E>1?E-1:0),k=1;k<E;k++)I[k-1]=arguments[k];_=I.reduce(((e,t)=>IR(e,t)),_);const T={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:GO(_)},{vars:C,generateThemeVars:x,generateStyleSheets:A}=SO(_,T);return _.vars=C,Object.entries(_.colorSchemes[_.defaultColorScheme]).forEach((e=>{let[t,n]=e;_[t]=n})),_.generateThemeVars=x,_.generateStyleSheets=A,_.generateSpacing=function(){return ZR(u.spacing,KR(this))},_.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(a),_.spacing=_.generateSpacing(),_.shouldSkipGeneratingVar=o,_.unstable_sxConfig=d(d({},CP),null===u||void 0===u?void 0:u.unstable_sxConfig),_.unstable_sx=function(e){return AP({sx:e,theme:this})},_.toRuntimeSource=FO,_}const nN=["palette","cssVariables","colorSchemes","defaultColorScheme"];function rN(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=d(d({},!0!==n&&n),{},{palette:gO(d(d({},!0===n?{}:n.palette),{},{mode:t}))}))}const iN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=(null===t||void 0===t?void 0:t.mode)}=e,o=s(e,nN),a=i||"light",c=null===r||void 0===r?void 0:r[a],l=d(d({},r),t?{[a]:d(d({},"boolean"!==typeof c&&c),{},{palette:t})}:void 0);for(var u=arguments.length,h=new Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];if(!1===n){if(!("colorSchemes"in e))return VO(e,...h);let n=t;"palette"in e||l[a]&&(!0!==l[a]?n=l[a].palette:"dark"===a&&(n={mode:"dark"}));const r=VO(d(d({},e),{},{palette:n}),...h);return r.defaultColorScheme=a,r.colorSchemes=l,"light"===r.palette.mode&&(r.colorSchemes.light=d(d({},!0!==l.light&&l.light),{},{palette:r.palette}),rN(r,"dark",l.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=d(d({},!0!==l.dark&&l.dark),{},{palette:r.palette}),rN(r,"light",l.light)),r}return t||"light"in l||"light"!==a||(l.light=!0),tN(d(d({},o),{},{colorSchemes:l,defaultColorScheme:a},"boolean"!==typeof n&&n),...h)}();const oN=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},sN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=FP,rootShouldForwardProp:r=jP,slotShouldForwardProp:i=jP}=e;function o(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==AP))));const{name:n,slot:a,skipVariantsResolver:c,skipSx:l,overridesResolver:u=UP(qP(a))}=t,h=s(t,MP),f=void 0!==c?c:a&&"Root"!==a&&"root"!==a||!1,p=l||!1;let m=jP;"Root"===a||"root"===a?m=r:a?m=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=function(e,t){return wR(e,t)}(e,d({shouldForwardProp:m,label:BP(n,a)},h)),v=e=>{if("function"===typeof e&&e.__emotion_real!==e)return function(t){return VP(t,e)};if(SR(e)){const t=DP(e);return t.variants?function(e){return VP(e,t)}:t.style}return e},y=function(){const t=[];for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const a=i.map(v),c=[];if(t.push(o),n&&u&&c.push((function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=VP(e,r[n]);return u(e,i)})),n&&!f&&c.push((function(e){var t;const r=e.theme,i=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return i?zP(e,i):null})),p||c.push(AP),Array.isArray(a[0])){const e=a.shift(),n=new Array(t.length).fill(""),r=new Array(c.length).fill("");let i;i=[...n,...e,...r],i.raw=[...n,...e.raw,...r],t.unshift(i)}const l=[...t,...a,...c],d=g(...l);return e.muiName&&(d.muiName=e.muiName),d};return g.withConfig&&(y.withConfig=g.withConfig),y}}({themeId:"$$material",defaultTheme:iN,rootShouldForwardProp:e=>oN(e)&&"classes"!==e}),aN=sN,cN={theme:void 0};const lN=function(e){let t,n;return function(r){let i=t;return void 0!==i&&r.theme===n||(cN.theme=r.theme,i=DP(e(cN)),t=i,n=r.theme),i}};function uN(e,t){const n=d({},t);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if("components"===i||"slots"===i)n[i]=d(d({},e[i]),n[i]);else if("componentsProps"===i||"slotProps"===i){const r=e[i],o=t[i];if(o)if(r){n[i]=d({},o);for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[i][t]=uN(r[t],o[t])}}else n[i]=o;else n[i]=r||{}}else void 0===n[i]&&(n[i]=e[i])}return n}const dN=r.createContext(void 0);function hN(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?uN(i.defaultProps,r):i.styleOverrides||i.variants?r:uN(i,r)}({props:t,name:n,theme:{components:r.useContext(dN)}})}function fN(e){return hN(e)}const pN=e=>e,mN=(()=>{let e=pN;return{configure(t){e=t},generate:t=>e(t),reset(){e=pN}}})(),gN={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function vN(e,t){const n=gN[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(mN.generate(e),"-").concat(t)}function yN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=vN(e,t,n)})),r}function wN(e){return vN("MuiSvgIcon",e)}yN("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const bN=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],_N=aN("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(Ux(n.color))],t["fontSize".concat(Ux(n.fontSize))]]}})(lN((e=>{var t,n,r,i,o,s,a,c,l,u,d,h,f,p,m;let{theme:g}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=g.transitions)||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t,"fill",{duration:null===(r=(null!==(i=g.vars)&&void 0!==i?i:g).transitions)||void 0===r||null===(r=r.duration)||void 0===r?void 0:r.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(o=g.typography)||void 0===o||null===(s=o.pxToRem)||void 0===s?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(a=g.typography)||void 0===a||null===(c=a.pxToRem)||void 0===c?void 0:c.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(l=g.typography)||void 0===l||null===(u=l.pxToRem)||void 0===u?void 0:u.call(l,35))||"2.1875rem"}},...Object.entries((null!==(d=g.vars)&&void 0!==d?d:g).palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{var t,n;let[r]=e;return{props:{color:r},style:{color:null===(t=(null!==(n=g.vars)&&void 0!==n?n:g).palette)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.main}}})),{props:{color:"action"},style:{color:null===(h=(null!==(f=g.vars)&&void 0!==f?f:g).palette)||void 0===h||null===(h=h.action)||void 0===h?void 0:h.active}},{props:{color:"disabled"},style:{color:null===(p=(null!==(m=g.vars)&&void 0!==m?m:g).palette)||void 0===p||null===(p=p.action)||void 0===p?void 0:p.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),SN=r.forwardRef((function(e,t){const n=fN({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:c="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:f,viewBox:p="0 0 24 24"}=n,m=s(n,bN),g=r.isValidElement(i)&&"svg"===i.type,v=d(d({},n),{},{color:a,component:c,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:p,hasSvgAsChild:g}),y={};h||(y.viewBox=p);const w=(e=>{const{color:t,fontSize:n,classes:r}=e;return Dx({root:["root","inherit"!==t&&"color".concat(Ux(t)),"fontSize".concat(Ux(n))]},wN,r)})(v);return(0,Wt.jsxs)(_N,d(d(d(d({as:c,className:Px(w.root,o),focusable:"false",color:u,"aria-hidden":!f||void 0,role:f?"img":void 0,ref:t},y),m),g&&i.props),{},{ownerState:v,children:[g?i.props.children:i,f?(0,Wt.jsx)("title",{children:f}):null]}))}));SN&&(SN.muiName="SvgIcon");const EN=SN;function IN(e,t){function n(n,r){return(0,Wt.jsx)(EN,d(d({"data-testid":"".concat(t,"Icon"),ref:r},n),{},{children:e}))}return n.muiName=EN.muiName,r.memo(r.forwardRef(n))}const kN=IN((0,Wt.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),TN=IN((0,Wt.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function CN(e){return vN("MuiRating",e)}const xN=yN("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),AN=["value"],RN=["component","className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function PN(e,t){if(null==e)return e;const n=Math.round(e/t)*t;return Number(n.toFixed(function(e){const t=e.toString().split(".")[1];return t?t.length:0}(t)))}const ON=aN("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(xN.visuallyHidden)]:t.visuallyHidden},t.root,t["size".concat(Ux(n.size))],n.readOnly&&t.readOnly]}})(lN((e=>{let{theme:t}=e;return{display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",["&.".concat(xN.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(xN.focusVisible," .").concat(xN.iconActive)]:{outline:"1px solid #999"},["& .".concat(xN.visuallyHidden)]:Nx,variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(30)}},{props:e=>{let{ownerState:t}=e;return t.readOnly},style:{pointerEvents:"none"}}]}}))),NN=aN("label",{name:"MuiRating",slot:"Label",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.label,n.emptyValueFocused&&t.labelEmptyValueActive]}})({cursor:"inherit",variants:[{props:e=>{let{ownerState:t}=e;return t.emptyValueFocused},style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),DN=aN("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})(lN((e=>{let{theme:t}=e;return{display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:e=>{let{ownerState:t}=e;return t.iconActive},style:{transform:"scale(1.2)"}},{props:e=>{let{ownerState:t}=e;return t.iconEmpty},style:{color:(t.vars||t).palette.action.disabled}}]}}))),LN=aN("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>oN(e)&&"iconActive"!==e,overridesResolver:(e,t)=>{const{iconActive:n}=e;return[t.decimal,n&&t.iconActive]}})({position:"relative",variants:[{props:e=>{let{iconActive:t}=e;return t},style:{transform:"scale(1.2)"}}]});function MN(e){const{value:t}=e,n=s(e,AN);return(0,Wt.jsx)("span",d({},n))}function FN(e){const{classes:t,disabled:n,emptyIcon:i,focus:o,getLabelText:s,highlightSelectedOnly:a,hover:c,icon:l,IconContainerComponent:u,isActive:h,itemValue:f,labelProps:p,name:m,onBlur:g,onChange:v,onClick:y,onFocus:w,readOnly:b,ownerState:_,ratingValue:S,ratingValueRounded:E}=e,I=a?f===S:f<=S,k=f<=c,T=f<=o,C=f===E,x="".concat(m,"-").concat(Bx()),A=(0,Wt.jsx)(DN,{as:u,value:f,className:Px(t.icon,I?t.iconFilled:t.iconEmpty,k&&t.iconHover,T&&t.iconFocus,h&&t.iconActive),ownerState:d(d({},_),{},{iconEmpty:!I,iconFilled:I,iconHover:k,iconFocus:T,iconActive:h}),children:i&&!I?i:l});return b?(0,Wt.jsx)("span",d(d({},p),{},{children:A})):(0,Wt.jsxs)(r.Fragment,{children:[(0,Wt.jsxs)(NN,d(d({ownerState:d(d({},_),{},{emptyValueFocused:void 0}),htmlFor:x},p),{},{children:[A,(0,Wt.jsx)("span",{className:t.visuallyHidden,children:s(f)})]})),(0,Wt.jsx)("input",{className:t.visuallyHidden,onFocus:w,onBlur:g,onChange:v,onClick:y,disabled:n,value:f,id:x,type:"radio",name:m,checked:C})]})}const jN=(0,Wt.jsx)(kN,{fontSize:"inherit"}),UN=(0,Wt.jsx)(TN,{fontSize:"inherit"});function VN(e){return"".concat(e||"0"," Star").concat(1!==e?"s":"")}const zN=r.forwardRef((function(e,t){const n=fN({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:a=null,disabled:c=!1,emptyIcon:l=UN,emptyLabelText:u="Empty",getLabelText:h=VN,highlightSelectedOnly:f=!1,icon:p=jN,IconContainerComponent:m=MN,max:g=5,name:v,onChange:y,onChangeActive:w,onMouseLeave:b,onMouseMove:_,precision:S=1,readOnly:E=!1,size:I="medium",value:k}=n,T=s(n,RN),C=Bx(v),[x,A]=qx({controlled:k,default:a,name:"Rating"}),R=PN(x,S),P=(()=>{const e=r.useContext(Lx);return null!==e&&void 0!==e&&e})(),[{hover:O,focus:N},D]=r.useState({hover:-1,focus:-1});let L=R;-1!==O&&(L=O),-1!==N&&(L=N);const[M,F]=r.useState(!1),j=r.useRef(),U=Wx(j,t),V=e=>{let t=""===e.target.value?null:parseFloat(e.target.value);-1!==O&&(t=O),A(t),y&&y(e,t)},z=e=>{0===e.clientX&&0===e.clientY||(D({hover:-1,focus:-1}),A(null),y&&parseFloat(e.target.value)===R&&y(e,null))},B=e=>{Mx(e.target)&&F(!0);const t=parseFloat(e.target.value);D((e=>({hover:e.hover,focus:t})))},q=e=>{if(-1!==O)return;Mx(e.target)||F(!1);D((e=>({hover:e.hover,focus:-1})))},[W,H]=r.useState(!1),K=d(d({},n),{},{component:i,defaultValue:a,disabled:c,emptyIcon:l,emptyLabelText:u,emptyValueFocused:W,focusVisible:M,getLabelText:h,icon:p,IconContainerComponent:m,max:g,precision:S,readOnly:E,size:I}),G=(e=>{const{classes:t,size:n,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:s}=e;return Dx({root:["root","size".concat(Ux(n)),i&&"disabled",s&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]},CN,t)})(K);return(0,Wt.jsxs)(ON,d(d({as:i,ref:U,onMouseMove:e=>{_&&_(e);const t=j.current,{right:n,left:r,width:i}=t.getBoundingClientRect();let o;o=P?(n-e.clientX)/i:(e.clientX-r)/i;let s=PN(g*o+S/2,S);s=Ox(s,S,g),D((e=>e.hover===s&&e.focus===s?e:{hover:s,focus:s})),F(!1),w&&O!==s&&w(e,s)},onMouseLeave:e=>{b&&b(e);D({hover:-1,focus:-1}),w&&-1!==O&&w(e,-1)},className:Px(G.root,o,E&&"MuiRating-readOnly"),ownerState:K,role:E?"img":null,"aria-label":E?h(L):null},T),{},{children:[Array.from(new Array(g)).map(((e,t)=>{const n=t+1,r={classes:G,disabled:c,emptyIcon:l,focus:N,getLabelText:h,highlightSelectedOnly:f,hover:O,icon:p,IconContainerComponent:m,name:C,onBlur:q,onChange:V,onClick:z,onFocus:B,ratingValue:L,ratingValueRounded:R,readOnly:E,ownerState:K},i=n===Math.ceil(L)&&(-1!==O||-1!==N);if(S<1){const e=Array.from(new Array(1/S));return(0,Wt.jsx)(LN,{className:Px(G.decimal,i&&G.iconActive),ownerState:K,iconActive:i,children:e.map(((t,i)=>{const o=PN(n-1+(i+1)*S,S);return(0,Wt.jsx)(FN,d(d({},r),{},{isActive:!1,itemValue:o,labelProps:{style:e.length-1===i?{}:{width:o===L?"".concat((i+1)*S*100,"%"):"0%",overflow:"hidden",position:"absolute"}}}),o)}))},n)}return(0,Wt.jsx)(FN,d(d({},r),{},{isActive:i,itemValue:n}),n)})),!E&&!c&&(0,Wt.jsxs)(NN,{className:Px(G.label,G.labelEmptyValue),ownerState:K,children:[(0,Wt.jsx)("input",{className:G.visuallyHidden,value:"",id:"".concat(C,"-empty"),type:"radio",name:C,checked:null==R,onFocus:()=>H(!0),onBlur:()=>H(!1),onChange:V}),(0,Wt.jsx)("span",{className:G.visuallyHidden,children:u})]})]}))})),BN=zN;var qN=n(328),WN=n.n(qN);const HN=e=>{let{amount:t}=e;const n=WN()(t).format("$0,0.00");return(0,Wt.jsx)("div",{children:n})},KN={products_container:"Product_products_container__MpcSX",card__container:"Product_card__container__IFE5X",button:"Product_button__0MlB3",rating:"Product_rating__unfrG",product__flexed:"Product_product__flexed__o3nIk"},GN="ADD_TO_BASKET",QN="REMOVE_FROM_BASKET",JN="SET_USER",YN="EMPTY_BASKET";const $N=function(e){let{product:t,flex:n,renderDesc:i,renderAdd:o}=e;const{image:s,title:a,id:c,rating:l,price:u,description:d}=t,[h,f]=(0,r.useContext)(Kt);return(0,Wt.jsxs)("div",{className:"".concat(KN.card__container," ").concat(n?KN.product__flexed:""),children:[(0,Wt.jsx)(ht,{to:"/products/".concat(c),children:(0,Wt.jsx)("img",{src:s,alt:"",className:KN.img_container})}),(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("h3",{children:a}),i&&(0,Wt.jsx)("div",{style:{maxWidth:"750px"},children:d}),(0,Wt.jsxs)("div",{className:KN.rating,children:[(0,Wt.jsx)(BN,{value:null===l||void 0===l?void 0:l.rate,precision:.1}),(0,Wt.jsx)("small",{children:null===l||void 0===l?void 0:l.count})]}),(0,Wt.jsx)("div",{children:(0,Wt.jsx)(HN,{amount:u})}),o&&(0,Wt.jsx)("button",{className:KN.button,onClick:()=>{f({type:GN,item:{image:s,title:a,id:c,rating:l,price:u,description:d}})},children:"add to cart"})]})]})};var XN={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function ZN(e){if("number"===typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return XN[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function eD(e){var t=ZN(e);return"".concat(t.value).concat(t.unit)}var tD=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,s="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(s,0),r},nD=function(){return nD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nD.apply(this,arguments)},rD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},iD=tD("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");const oD=function(e){var t=e.loading,n=void 0===t||t,i=e.color,o=void 0===i?"#000000":i,s=e.speedMultiplier,a=void 0===s?1:s,c=e.cssOverride,l=void 0===c?{}:c,u=e.height,d=void 0===u?15:u,h=e.width,f=void 0===h?5:h,p=e.radius,m=void 0===p?2:p,g=e.margin,v=void 0===g?2:g,y=rD(e,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),w=ZN(v).value+18,b=w/2+w/5.5,_=nD({display:"inherit",position:"relative",fontSize:"0",top:w,left:w,width:"".concat(3*w,"px"),height:"".concat(3*w,"px")},l),S=function(e){return{position:"absolute",width:eD(f),height:eD(d),margin:eD(v),backgroundColor:o,borderRadius:eD(m),transition:"2s",animationFillMode:"both",animation:"".concat(iD," ").concat(1.2/a,"s ").concat(.12*e,"s infinite ease-in-out")}},E=nD(nD({},S(1)),{top:"".concat(w,"px"),left:"0"}),I=nD(nD({},S(2)),{top:"".concat(b,"px"),left:"".concat(b,"px"),transform:"rotate(-45deg)"}),k=nD(nD({},S(3)),{top:"0",left:"".concat(w,"px"),transform:"rotate(90deg)"}),T=nD(nD({},S(4)),{top:"".concat(-1*b,"px"),left:"".concat(b,"px"),transform:"rotate(45deg)"}),C=nD(nD({},S(5)),{top:"".concat(-1*w,"px"),left:"0"}),x=nD(nD({},S(6)),{top:"".concat(-1*b,"px"),left:"".concat(-1*b,"px"),transform:"rotate(-45deg)"}),A=nD(nD({},S(7)),{top:"0",left:"".concat(-1*w,"px"),transform:"rotate(90deg)"}),R=nD(nD({},S(8)),{top:"".concat(b,"px"),left:"".concat(-1*b,"px"),transform:"rotate(45deg)"});return n?r.createElement("span",nD({style:_},y),r.createElement("span",{style:E}),r.createElement("span",{style:I}),r.createElement("span",{style:k}),r.createElement("span",{style:T}),r.createElement("span",{style:C}),r.createElement("span",{style:x}),r.createElement("span",{style:A}),r.createElement("span",{style:R})):null};const sD=function(){return(0,Wt.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:(0,Wt.jsx)(oD,{color:"#36d7b7"})})};const aD=function(){const[e,t]=(0,r.useState)(),[n,i]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{i(!0),Ax.get("https://fakestoreapi.com/products").then((e=>{t(e.data),i(!1)})).catch((e=>{console.log(e),i(!1)}))}),[]),(0,Wt.jsx)(Wt.Fragment,{children:n?(0,Wt.jsx)(sD,{}):(0,Wt.jsx)("section",{className:KN.products_container,children:null===e||void 0===e?void 0:e.map((e=>(0,Wt.jsx)($N,{renderAdd:!0,product:e},e.id)))})})};const cD=function(){return(0,Wt.jsxs)(Gk,{children:[(0,Wt.jsx)($k,{}),(0,Wt.jsx)(nT,{}),(0,Wt.jsx)(aD,{})]})},lD="SignUp_login__-EPBO",uD="SignUp_login__container__n4TBe",dD="SignUp_login__signInButton__Cc14g",hD="SignUp_login__registerButton__BO6Z3";var fD=function(){return fD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fD.apply(this,arguments)},pD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},mD=tD("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");const gD=function(e){var t=e.loading,n=void 0===t||t,i=e.color,o=void 0===i?"#000000":i,s=e.speedMultiplier,a=void 0===s?1:s,c=e.cssOverride,l=void 0===c?{}:c,u=e.size,d=void 0===u?35:u,h=pD(e,["loading","color","speedMultiplier","cssOverride","size"]),f=fD({background:"transparent !important",width:eD(d),height:eD(d),borderRadius:"100%",border:"2px solid",borderTopColor:o,borderBottomColor:"transparent",borderLeftColor:o,borderRightColor:o,display:"inline-block",animation:"".concat(mD," ").concat(.75/a,"s 0s infinite linear"),animationFillMode:"both"},l);return n?r.createElement("span",fD({style:f},h)):null};const vD=function(){var e,t;const[n,i]=(0,r.useState)(""),[o,s]=(0,r.useState)(""),[a,c]=(0,r.useState)(""),[l,u]=(0,r.useState)({signIn:!1,signUP:!1}),h=he(),f=le(),[{user:p},m]=(0,r.useContext)(Kt),g=async e=>{e.preventDefault(),"signin"==e.target.name?(u(d(d({},l),{},{signIn:!0})),function(e,t,n){return Kr(e.app)?Promise.reject(Ri(e)):bs(Rn(e),os.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&_s(e),t}))}(Wk,n,o).then((e=>{var t;m({type:JN,user:e.user}),u(d(d({},l),{},{signIn:!1})),h((null===f||void 0===f||null===(t=f.state)||void 0===t?void 0:t.redirect)||"/")})).catch((e=>{c(e.message),u(d(d({},l),{},{signIn:!1}))}))):(u(d(d({},l),{},{signUP:!0})),async function(e,t,n){if(Kr(e.app))return Promise.reject(Ri(e));const r=Do(e),i=Wo(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hs,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&_s(e),t})),s=await fs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(Wk,n,o).then((e=>{var t;m({type:JN,user:e.user}),u(d(d({},l),{},{signUP:!1})),h((null===f||void 0===f||null===(t=f.state)||void 0===t?void 0:t.redirect)||"/")})).catch((e=>{c(e.message),u(d(d({},l),{},{signUP:!1}))})))};return(0,Wt.jsxs)("section",{className:lD,children:[(0,Wt.jsx)(ht,{to:"/",children:(0,Wt.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:""})}),(0,Wt.jsxs)("div",{className:uD,children:[(0,Wt.jsx)("h1",{children:"Sign In"}),(null===f||void 0===f||null===(e=f.state)||void 0===e?void 0:e.msg)&&(0,Wt.jsx)("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:null===f||void 0===f||null===(t=f.state)||void 0===t?void 0:t.msg}),(0,Wt.jsxs)("form",{action:"",children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Wt.jsx)("input",{value:n,onChange:e=>i(e.target.value),type:"email",id:"email"})]}),(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("label",{htmlFor:"password",children:"Email"}),(0,Wt.jsx)("input",{value:o,onChange:e=>s(e.target.value),type:"password",id:"password"})]}),(0,Wt.jsx)("button",{name:"signin",onClick:g,className:dD,children:l.signIn?(0,Wt.jsx)(gD,{color:"#000",size:15}):" Sign In"})]}),(0,Wt.jsx)("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),(0,Wt.jsx)("button",{name:"signup",onClick:g,className:hD,children:l.signUP?(0,Wt.jsx)(gD,{color:"#000",size:15}):"Create your Amazon Account"}),a&&(0,Wt.jsx)("small",{style:{paddingTop:"5px",color:"red"},children:a})]})]})},yD="Orders_container__lbDjK",wD="Orders_Orders__container__iijXn";const bD=function(){const[{user:e},t]=(0,r.useContext)(Kt),[n,i]=(0,r.useState)([]);return(0,r.useEffect)((()=>{if(e){const t=Hk.collection("users").doc(e.uid).collection("orders").orderBy("created","desc").onSnapshot((e=>{console.log(e),i(e.docs.map((e=>({id:e.id,data:e.data()}))))}));return()=>t()}i([])}),[e]),(0,Wt.jsx)(Gk,{children:(0,Wt.jsx)("section",{className:yD,children:(0,Wt.jsxs)("div",{className:wD,children:[(0,Wt.jsx)("h2",{children:"Your Orders"}),0===(null===n||void 0===n?void 0:n.length)&&(0,Wt.jsx)("div",{style:{padding:"20px"},children:"You don't have any orders yet."}),(0,Wt.jsx)("div",{children:null===n||void 0===n?void 0:n.map(((e,t)=>{var n,r;return(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("hr",{}),(0,Wt.jsxs)("p",{children:["Order ID: ",null===e||void 0===e?void 0:e.id]}),null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.basket)||void 0===r?void 0:r.map((e=>(0,Wt.jsx)($N,{flex:!0,product:e},e.id)))]},t)}))})]})})})},_D="Cart_container__zxCTQ",SD="Cart_cart_product__1DIze",ED="Cart_btn_container__xa0dp",ID="Cart_btn__HNqYP",kD="Cart_subtotal__IHANZ",TD="Cart_cart__container__3DvpR";function CD(e){return jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(e)}function xD(e){return jt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(e)}const AD=function(){const[{basket:e,user:t},n]=(0,r.useContext)(Kt),i=e.reduce(((e,t)=>t.price*t.amount+e),0);return(0,Wt.jsx)(Gk,{children:(0,Wt.jsxs)("section",{className:_D,children:[(0,Wt.jsxs)("div",{className:TD,children:[(0,Wt.jsx)("h2",{children:"Hello"}),(0,Wt.jsx)("h3",{children:"Your shopping basket "}),(0,Wt.jsx)("hr",{}),0==(null===e||void 0===e?void 0:e.length)?(0,Wt.jsx)("p",{children:"Opps ! No item in your cart"}):null===e||void 0===e?void 0:e.map(((e,t)=>(0,Wt.jsxs)("section",{className:SD,children:[(0,Wt.jsx)($N,{product:e,renderDesc:!0,renderAdd:!1,flex:!0},t),(0,Wt.jsxs)("div",{className:ED,children:[(0,Wt.jsx)("button",{className:ID,onClick:()=>(e=>{n({type:GN,item:e})})(e),children:(0,Wt.jsx)(xD,{size:20})}),(0,Wt.jsx)("span",{children:e.amount}),(0,Wt.jsx)("button",{className:ID,onClick:()=>{return t=e.id,void n({type:QN,id:t});var t},children:(0,Wt.jsx)(CD,{size:20})})]})]},t)))]}),0!==(null===e||void 0===e?void 0:e.length)&&(0,Wt.jsxs)("div",{className:kD,children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsxs)("p",{children:["Subtotal (",null===e||void 0===e?void 0:e.length," items)"]}),(0,Wt.jsx)(HN,{amount:i})]}),(0,Wt.jsxs)("span",{children:[(0,Wt.jsx)("input",{type:"checkbox"}),(0,Wt.jsx)("small",{children:"This order contains a gift"})]}),(0,Wt.jsx)(ht,{to:"/payments",children:"Continue to checkout"})]})]})})},RD="Payment_payment__header__6Wpw+",PD="Payment_payment__CYCtO",OD="Payment_flex__KwO9X",ND="Payment_payment__card__container__KqKvL",DD="Payment_payment__price__lozKD",LD="Payment_payment__details__UPJyN",MD="Payment_loading__SXjvF";var FD=n(393);const jD=Ax.create({baseURL:"https://amazone-last-api.onrender.com"});const UD=function(){const[{user:e,basket:t},n]=(0,r.useContext)(Kt),i=null===t||void 0===t?void 0:t.reduce(((e,t)=>t.amount+e),0),o=t.reduce(((e,t)=>t.price*t.amount+e),0),[s,a]=(0,r.useState)(null),[c,l]=(0,r.useState)(!1),u=(0,FD.useStripe)(),d=(0,FD.useElements)(),h=he();return(0,Wt.jsxs)(Gk,{children:[(0,Wt.jsxs)("div",{className:RD,children:["Checkout (",i,") items"]}),(0,Wt.jsxs)("section",{className:PD,children:[(0,Wt.jsxs)("div",{className:OD,children:[(0,Wt.jsx)("h3",{children:"Delivery Address"}),(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("p",{children:null===e||void 0===e?void 0:e.email}),(0,Wt.jsx)("p",{children:"123 React Lane"}),(0,Wt.jsx)("p",{children:"Chicago, IL"})]})]}),(0,Wt.jsx)("hr",{}),(0,Wt.jsxs)("div",{className:OD,children:[(0,Wt.jsx)("h3",{children:"Review items and delivery"}),(0,Wt.jsx)("div",{children:null===t||void 0===t?void 0:t.map((e=>(0,Wt.jsx)($N,{product:e,flex:!0},e.id)))})]}),(0,Wt.jsx)("hr",{}),(0,Wt.jsxs)("div",{className:OD,children:[(0,Wt.jsx)("h3",{children:"Payment Methods"}),(0,Wt.jsx)("div",{className:ND,children:(0,Wt.jsx)("div",{className:LD,children:(0,Wt.jsxs)("form",{onSubmit:async r=>{r.preventDefault();try{var i;l(!0);const r=null===(i=(await jD.post("/payment/create?total=".concat(100*o))).data)||void 0===i?void 0:i.clientSecret,{paymentIntent:s}=await u.confirmCardPayment(r,{payment_method:{card:d.getElement(FD.CardElement)}});await Hk.collection("users").doc(null===e||void 0===e?void 0:e.uid).collection("orders").doc(s.id).set({basket:t,amount:s.amount,created:s.created}),n({type:YN}),l(!1),h("/orders",{state:{msg:"You have placed a new order"}})}catch(s){console.error(s),l(!1)}},children:[s&&(0,Wt.jsx)("small",{style:{color:"red"},children:s}),(0,Wt.jsx)(FD.CardElement,{onChange:e=>{var t,n;null!==e&&void 0!==e&&null!==(t=e.error)&&void 0!==t&&t.message?a(null===e||void 0===e||null===(n=e.error)||void 0===n?void 0:n.message):a("")}}),(0,Wt.jsxs)("div",{className:DD,children:[(0,Wt.jsx)("div",{children:(0,Wt.jsxs)("span",{style:{display:"flex",gap:"10px"},children:[(0,Wt.jsx)("p",{children:"Total Order |"})," ",(0,Wt.jsx)(HN,{amount:o})]})}),(0,Wt.jsx)("button",{type:"submit",children:c?(0,Wt.jsxs)("div",{className:MD,children:[(0,Wt.jsx)(gD,{color:"gray",size:12}),(0,Wt.jsx)("p",{children:"Please Wait ..."})]}):"Pay Now"})]})]})})})]})]})]})},VD="https://fakestoreapi.com";const zD=function(){const[e,t]=(0,r.useState)({}),[n,i]=(0,r.useState)(!1),{productId:o}=fe();return(0,r.useEffect)((()=>{i(!0),Ax.get("".concat(VD,"/products/").concat(o)).then((e=>{t(e.data),i(!1)})).catch((e=>{console.log(e),i(!1)}))}),[]),(0,Wt.jsx)(Gk,{children:n?(0,Wt.jsx)(sD,{}):(0,Wt.jsx)($N,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})},BD="Results_products_container__y24mf";const qD=function(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),{categoryName:o}=fe();return(0,r.useEffect)((()=>{i(!0),Ax.get("".concat(VD,"/products/category/").concat(o)).then((e=>{t(e.data),i(!1)})).catch((e=>{console.log(e),i(!1)}))}),[]),(0,Wt.jsx)(Gk,{children:(0,Wt.jsxs)("section",{children:[(0,Wt.jsx)("h1",{style:{padding:"30px"},children:"Results"}),(0,Wt.jsxs)("p",{style:{padding:"30px"},children:["Category / ",o]}),(0,Wt.jsx)("hr",{}),n?(0,Wt.jsx)(sD,{}):(0,Wt.jsx)("div",{className:BD,children:null===e||void 0===e?void 0:e.map((e=>(0,Wt.jsx)($N,{product:e,renderDesc:!1,renderAdd:!0},e.id)))})]})})};var WD,HD="https://js.stripe.com/v3",KD=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,GD="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",QD=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(HD).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},JD=null,YD=null,$D=null,XD=function(e){return null!==JD?JD:(JD=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(GD),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(HD,'"]')),t=0;t<e.length;t++){var n=e[t];if(KD.test(n.src))return n}return null}();if(r&&e)console.warn(GD);else if(r){if(r&&null!==$D&&null!==YD){var i;r.removeEventListener("load",$D),r.removeEventListener("error",YD),null===(i=r.parentNode)||void 0===i||i.removeChild(r),r=QD(e)}}else r=QD(e);$D=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),YD=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(n),r.addEventListener("load",$D),r.addEventListener("error",YD)}catch(o){return void n(o)}else t(null)}))).catch((function(e){return JD=null,Promise.reject(e)}))},ZD=!1,eL=function(){return WD||(WD=XD(null).catch((function(e){return WD=null,Promise.reject(e)})))};Promise.resolve().then((function(){return eL()})).catch((function(e){ZD||console.warn(e)}));const tL=function(e){let{children:t,msg:n,redirect:i}=e;const o=he(),[{basket:s,user:a},c]=(0,r.useContext)(Kt);return(0,r.useEffect)((()=>{a||o("/auth",{state:{msg:n,redirect:i}})}),[a]),t},nL=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ZD=!0;var r=Date.now();return eL().then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"5.1.0",startTime:t})}(r,n),r}(e,t,r)}))}("pk_test_51QVBfX2KHKnMqD1MQho70iicSujaAVEDhQ3eONo6ZOC4TdqLQ7gzEcCbFLdAzGRITHx1UUnSGiFZzZQuEskf9kVp009A55mrfZ");const rL=function(){return(0,Wt.jsx)(ut,{children:(0,Wt.jsxs)(Re,{children:[(0,Wt.jsx)(xe,{path:"/",element:(0,Wt.jsx)(cD,{})}),(0,Wt.jsx)(xe,{path:"/auth",element:(0,Wt.jsx)(vD,{})}),(0,Wt.jsx)(xe,{path:"/payments",element:(0,Wt.jsx)(tL,{msg:"You must log in to pay",redirect:"/auth",children:(0,Wt.jsx)(FD.Elements,{stripe:nL,children:(0,Wt.jsx)(UD,{})})})}),(0,Wt.jsx)(xe,{path:"/orders",element:(0,Wt.jsx)(tL,{msg:"You must log in to see your orders",redirect:"/auth",children:(0,Wt.jsx)(bD,{})})}),(0,Wt.jsx)(xe,{path:"/category/:categoryName",element:(0,Wt.jsx)(qD,{})}),(0,Wt.jsx)(xe,{path:"/products/:productId",element:(0,Wt.jsx)(zD,{})}),(0,Wt.jsx)(xe,{path:"/cart",element:(0,Wt.jsx)(AD,{})})]})})};const iL=function(){const[{user:e},t]=(0,r.useContext)(Kt);return(0,r.useEffect)((()=>{Wk.onAuthStateChanged((e=>{e?(console.log(e),t({type:JN,user:e})):t({type:JN,user:null})}))}),[]),(0,Wt.jsx)(rL,{})};o.createRoot(document.getElementById("root")).render((0,Wt.jsx)(r.StrictMode,{children:(0,Wt.jsx)(Gt,{reducer:(e,t)=>{switch(t.type){case GN:if(e.basket.find((e=>e.id===t.item.id))){const n=e.basket.map((e=>e.id===t.item.id?d(d({},e),{},{amount:e.amount+1}):e));return d(d({},e),{},{basket:n})}return d(d({},e),{},{basket:[...e.basket,d(d({},t.item),{},{amount:1})]});case QN:const n=e.basket.findIndex((e=>e.id===t.id));let r=[...e.basket];return n>=0&&(r[n].amount>1?r[n]=d(d({},r[n]),{},{amount:r[n].amount-1}):r.splice(n,1)),d(d({},e),{},{basket:r});case JN:return d(d({},e),{},{user:t.user});case YN:return d(d({},e),{},{basket:[]});default:return e}},initialState:{basket:[],user:null},children:(0,Wt.jsx)(iL,{})})}))})()})();
//# sourceMappingURL=main.d609577b.js.map